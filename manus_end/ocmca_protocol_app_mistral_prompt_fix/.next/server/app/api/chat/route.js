(()=>{var e={};e.id=276,e.ids=[276],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},4870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},711:(e,t,n)=>{"use strict";let a,i,r;n.r(t),n.d(t,{patchFetch:()=>r2,routeModule:()=>rJ,serverHooks:()=>r0,workAsyncStorage:()=>rQ,workUnitAsyncStorage:()=>r1});var o,s,l,c,d,u,p,h,m,f,g,y,b,v,w,A,I,P,C,T,S,E,_,x,M,k,R,N,O,D,L,j,F,B={};n.r(B),n.d(B,{POST:()=>rX});var H=n(9640),U=n(2525),z=n(6220),q="vercel.ai.error",V=Symbol.for(q),G=class e extends Error{constructor({name:e,message:t,cause:n}){super(t),this[o]=!0,this.name=e,this.cause=n}static isInstance(t){return e.hasMarker(t,q)}static hasMarker(e,t){let n=Symbol.for(t);return null!=e&&"object"==typeof e&&n in e&&"boolean"==typeof e[n]&&!0===e[n]}};o=V;var Z=G,$="AI_APICallError",W=`vercel.ai.error.${$}`,K=Symbol.for(W),Y=class extends Z{constructor({message:e,url:t,requestBodyValues:n,statusCode:a,responseHeaders:i,responseBody:r,cause:o,isRetryable:l=null!=a&&(408===a||409===a||429===a||a>=500),data:c}){super({name:$,message:e,cause:o}),this[s]=!0,this.url=t,this.requestBodyValues=n,this.statusCode=a,this.responseHeaders=i,this.responseBody=r,this.isRetryable=l,this.data=c}static isInstance(e){return Z.hasMarker(e,W)}};s=K;var X="AI_EmptyResponseBodyError",J=`vercel.ai.error.${X}`,Q=Symbol.for(J),ee=class extends Z{constructor({message:e="Empty response body"}={}){super({name:X,message:e}),this[l]=!0}static isInstance(e){return Z.hasMarker(e,J)}};function et(e){return null==e?"unknown error":"string"==typeof e?e:e instanceof Error?e.message:JSON.stringify(e)}l=Q;var en="AI_InvalidArgumentError",ea=`vercel.ai.error.${en}`,ei=Symbol.for(ea),er=class extends Z{constructor({message:e,cause:t,argument:n}){super({name:en,message:e,cause:t}),this[c]=!0,this.argument=n}static isInstance(e){return Z.hasMarker(e,ea)}};c=ei;var eo="AI_InvalidPromptError",es=`vercel.ai.error.${eo}`,el=Symbol.for(es),ec=class extends Z{constructor({prompt:e,message:t,cause:n}){super({name:eo,message:`Invalid prompt: ${t}`,cause:n}),this[d]=!0,this.prompt=e}static isInstance(e){return Z.hasMarker(e,es)}};d=el,Symbol.for("vercel.ai.error.AI_InvalidResponseDataError");var ed="AI_JSONParseError",eu=`vercel.ai.error.${ed}`,ep=Symbol.for(eu),eh=class extends Z{constructor({text:e,cause:t}){super({name:ed,message:`JSON parsing failed: Text: ${e}.
Error message: ${et(t)}`,cause:t}),this[u]=!0,this.text=e}static isInstance(e){return Z.hasMarker(e,eu)}};u=ep;var em="AI_LoadAPIKeyError",ef=`vercel.ai.error.${em}`,eg=Symbol.for(ef),ey=class extends Z{constructor({message:e}){super({name:em,message:e}),this[p]=!0}static isInstance(e){return Z.hasMarker(e,ef)}};p=eg,Symbol.for("vercel.ai.error.AI_LoadSettingError"),Symbol.for("vercel.ai.error.AI_NoContentGeneratedError");var eb="AI_NoSuchModelError",ev=`vercel.ai.error.${eb}`,ew=Symbol.for(ev),eA=class extends Z{constructor({errorName:e=eb,modelId:t,modelType:n,message:a=`No such ${n}: ${t}`}){super({name:e,message:a}),this[h]=!0,this.modelId=t,this.modelType=n}static isInstance(e){return Z.hasMarker(e,ev)}};h=ew;var eI="AI_TooManyEmbeddingValuesForCallError",eP=`vercel.ai.error.${eI}`,eC=Symbol.for(eP),eT=class extends Z{constructor(e){super({name:eI,message:`Too many values for a single embedding call. The ${e.provider} model "${e.modelId}" can only embed up to ${e.maxEmbeddingsPerCall} values per call, but ${e.values.length} values were provided.`}),this[m]=!0,this.provider=e.provider,this.modelId=e.modelId,this.maxEmbeddingsPerCall=e.maxEmbeddingsPerCall,this.values=e.values}static isInstance(e){return Z.hasMarker(e,eP)}};m=eC;var eS="AI_TypeValidationError",eE=`vercel.ai.error.${eS}`,e_=Symbol.for(eE),ex=class e extends Z{constructor({value:e,cause:t}){super({name:eS,message:`Type validation failed: Value: ${JSON.stringify(e)}.
Error message: ${et(t)}`,cause:t}),this[f]=!0,this.value=e}static isInstance(e){return Z.hasMarker(e,eE)}static wrap({value:t,cause:n}){return e.isInstance(n)&&n.value===t?n:new e({value:t,cause:n})}};f=e_;var eM="AI_UnsupportedFunctionalityError",ek=`vercel.ai.error.${eM}`,eR=Symbol.for(ek),eN=class extends Z{constructor({functionality:e,message:t=`'${e}' functionality not supported.`}){super({name:eM,message:t}),this[g]=!0,this.functionality=e}static isInstance(e){return Z.hasMarker(e,ek)}};function eO(e){return null===e||"string"==typeof e||"number"==typeof e||"boolean"==typeof e||(Array.isArray(e)?e.every(eO):"object"==typeof e&&Object.entries(e).every(([e,t])=>"string"==typeof e&&eO(t)))}g=eR;let eD=(e,t=21)=>(n=t)=>{let a="",i=0|n;for(;i--;)a+=e[Math.random()*e.length|0];return a};var eL=n(6648);function ej(...e){return e.reduce((e,t)=>({...e,...null!=t?t:{}}),{})}async function eF(e){return null==e?Promise.resolve():new Promise(t=>setTimeout(t,e))}function eB(e){let t={};return e.headers.forEach((e,n)=>{t[n]=e}),t}var eH=({prefix:e,size:t=16,alphabet:n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",separator:a="-"}={})=>{let i=eD(n,t);if(null==e)return i;if(n.includes(a))throw new er({argument:"separator",message:`The separator "${a}" must not be part of the alphabet "${n}".`});return t=>`${e}${a}${i(t)}`},eU=eH();function ez(e){return e instanceof Error&&("AbortError"===e.name||"TimeoutError"===e.name)}var eq=Symbol.for("vercel.ai.validator");function eV({value:e,schema:t}){let n="object"==typeof t&&null!==t&&eq in t&&!0===t[eq]&&"validate"in t?t:{[eq]:!0,validate:e=>{let n=t.safeParse(e);return n.success?{success:!0,value:n.data}:{success:!1,error:n.error}}};try{if(null==n.validate)return{success:!0,value:e};let t=n.validate(e);if(t.success)return t;return{success:!1,error:ex.wrap({value:e,cause:t.error})}}catch(t){return{success:!1,error:ex.wrap({value:e,cause:t})}}}function eG({text:e,schema:t}){try{let n=eL.parse(e);if(null==t)return{success:!0,value:n,rawValue:n};let a=eV({value:n,schema:t});return a.success?{...a,rawValue:n}:a}catch(t){return{success:!1,error:eh.isInstance(t)?t:new eh({text:e,cause:t})}}}var eZ=()=>globalThis.fetch,e$=async({url:e,headers:t,body:n,failedResponseHandler:a,successfulResponseHandler:i,abortSignal:r,fetch:o})=>eW({url:e,headers:{"Content-Type":"application/json",...t},body:{content:JSON.stringify(n),values:n},failedResponseHandler:a,successfulResponseHandler:i,abortSignal:r,fetch:o}),eW=async({url:e,headers:t={},body:n,successfulResponseHandler:a,failedResponseHandler:i,abortSignal:r,fetch:o=eZ()})=>{try{let s=await o(e,{method:"POST",headers:Object.fromEntries(Object.entries(t).filter(([e,t])=>null!=t)),body:n.content,signal:r}),l=eB(s);if(!s.ok){let t;try{t=await i({response:s,url:e,requestBodyValues:n.values})}catch(t){if(ez(t)||Y.isInstance(t))throw t;throw new Y({message:"Failed to process error response",cause:t,statusCode:s.status,url:e,responseHeaders:l,requestBodyValues:n.values})}throw t.value}try{return await a({response:s,url:e,requestBodyValues:n.values})}catch(t){if(t instanceof Error&&(ez(t)||Y.isInstance(t)))throw t;throw new Y({message:"Failed to process successful response",cause:t,statusCode:s.status,url:e,responseHeaders:l,requestBodyValues:n.values})}}catch(t){if(ez(t))throw t;if(t instanceof TypeError&&"fetch failed"===t.message){let a=t.cause;if(null!=a)throw new Y({message:`Cannot connect to API: ${a.message}`,cause:a,url:e,requestBodyValues:n.values,isRetryable:!0})}throw t}},eK=e=>async({response:t})=>{let n=eB(t);if(null==t.body)throw new ee({});return{responseHeaders:n,value:t.body.pipeThrough(new TextDecoderStream).pipeThrough(function(){let e,t,n,a="",i=[];function r(e,t){if(""===e){o(t);return}if(e.startsWith(":"))return;let n=e.indexOf(":");if(-1===n){s(e,"");return}let a=e.slice(0,n),i=n+1;s(a,i<e.length&&" "===e[i]?e.slice(i+1):e.slice(i))}function o(a){i.length>0&&(a.enqueue({event:e,data:i.join("\n"),id:t,retry:n}),i=[],e=void 0,n=void 0)}function s(a,r){switch(a){case"event":e=r;break;case"data":i.push(r);break;case"id":t=r;break;case"retry":let o=parseInt(r,10);isNaN(o)||(n=o)}}return new TransformStream({transform(e,t){let{lines:n,incompleteLine:i}=function(e,t){let n=[],a=e;for(let e=0;e<t.length;){let i=t[e++];"\n"===i?(n.push(a),a=""):"\r"===i?(n.push(a),a="","\n"===t[e+1]&&e++):a+=i}return{lines:n,incompleteLine:a}}(a,e);a=i;for(let e=0;e<n.length;e++)r(n[e],t)},flush(e){r(a,e),o(e)}})}()).pipeThrough(new TransformStream({transform({data:t},n){"[DONE]"!==t&&n.enqueue(eG({text:t,schema:e}))}}))}},eY=e=>async({response:t,url:n,requestBodyValues:a})=>{let i=await t.text(),r=eG({text:i,schema:e}),o=eB(t);if(!r.success)throw new Y({message:"Invalid JSON response",cause:r.error,statusCode:t.status,responseHeaders:o,responseBody:i,url:n,requestBodyValues:a});return{responseHeaders:o,value:r.value,rawValue:r.rawValue}},{btoa:eX,atob:eJ}=globalThis;function eQ(e){let t=eJ(e.replace(/-/g,"+").replace(/_/g,"/"));return Uint8Array.from(t,e=>e.codePointAt(0))}function e1(e){let t="";for(let n=0;n<e.length;n++)t+=String.fromCodePoint(e[n]);return eX(t)}(function(e){e.assertEqual=e=>e,e.assertIs=function(e){},e.assertNever=function(e){throw Error()},e.arrayToEnum=e=>{let t={};for(let n of e)t[n]=n;return t},e.getValidEnumValues=t=>{let n=e.objectKeys(t).filter(e=>"number"!=typeof t[t[e]]),a={};for(let e of n)a[e]=t[e];return e.objectValues(a)},e.objectValues=t=>e.objectKeys(t).map(function(e){return t[e]}),e.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{let t=[];for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t},e.find=(e,t)=>{for(let n of e)if(t(n))return n},e.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&isFinite(e)&&Math.floor(e)===e,e.joinValues=function(e,t=" | "){return e.map(e=>"string"==typeof e?`'${e}'`:e).join(t)},e.jsonStringifyReplacer=(e,t)=>"bigint"==typeof t?t.toString():t})(y||(y={})),(b||(b={})).mergeShapes=(e,t)=>({...e,...t});let e0=y.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),e2=e=>{switch(typeof e){case"undefined":return e0.undefined;case"string":return e0.string;case"number":return isNaN(e)?e0.nan:e0.number;case"boolean":return e0.boolean;case"function":return e0.function;case"bigint":return e0.bigint;case"symbol":return e0.symbol;case"object":if(Array.isArray(e))return e0.array;if(null===e)return e0.null;if(e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch)return e0.promise;if("undefined"!=typeof Map&&e instanceof Map)return e0.map;if("undefined"!=typeof Set&&e instanceof Set)return e0.set;if("undefined"!=typeof Date&&e instanceof Date)return e0.date;return e0.object;default:return e0.unknown}},e3=y.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class e4 extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};let t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){let t=e||function(e){return e.message},n={_errors:[]},a=e=>{for(let i of e.issues)if("invalid_union"===i.code)i.unionErrors.map(a);else if("invalid_return_type"===i.code)a(i.returnTypeError);else if("invalid_arguments"===i.code)a(i.argumentsError);else if(0===i.path.length)n._errors.push(t(i));else{let e=n,a=0;for(;a<i.path.length;){let n=i.path[a];a===i.path.length-1?(e[n]=e[n]||{_errors:[]},e[n]._errors.push(t(i))):e[n]=e[n]||{_errors:[]},e=e[n],a++}}};return a(this),n}static assert(e){if(!(e instanceof e4))throw Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,y.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=e=>e.message){let t={},n=[];for(let a of this.issues)a.path.length>0?(t[a.path[0]]=t[a.path[0]]||[],t[a.path[0]].push(e(a))):n.push(e(a));return{formErrors:n,fieldErrors:t}}get formErrors(){return this.flatten()}}e4.create=e=>new e4(e);let e9=(e,t)=>{let n;switch(e.code){case e3.invalid_type:n=e.received===e0.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case e3.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,y.jsonStringifyReplacer)}`;break;case e3.unrecognized_keys:n=`Unrecognized key(s) in object: ${y.joinValues(e.keys,", ")}`;break;case e3.invalid_union:n="Invalid input";break;case e3.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${y.joinValues(e.options)}`;break;case e3.invalid_enum_value:n=`Invalid enum value. Expected ${y.joinValues(e.options)}, received '${e.received}'`;break;case e3.invalid_arguments:n="Invalid function arguments";break;case e3.invalid_return_type:n="Invalid function return type";break;case e3.invalid_date:n="Invalid date";break;case e3.invalid_string:"object"==typeof e.validation?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,"number"==typeof e.validation.position&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:y.assertNever(e.validation):n="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case e3.too_small:n="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case e3.too_big:n="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case e3.custom:n="Invalid input";break;case e3.invalid_intersection_types:n="Intersection results could not be merged";break;case e3.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case e3.not_finite:n="Number must be finite";break;default:n=t.defaultError,y.assertNever(e)}return{message:n}},e7=e9;function e5(){return e7}let e6=e=>{let{data:t,path:n,errorMaps:a,issueData:i}=e,r=[...n,...i.path||[]],o={...i,path:r};if(void 0!==i.message)return{...i,path:r,message:i.message};let s="";for(let e of a.filter(e=>!!e).slice().reverse())s=e(o,{data:t,defaultError:s}).message;return{...i,path:r,message:s}};function e8(e,t){let n=e5(),a=e6({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===e9?void 0:e9].filter(e=>!!e)});e.common.issues.push(a)}class te{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){let n=[];for(let a of t){if("aborted"===a.status)return tt;"dirty"===a.status&&e.dirty(),n.push(a.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,t){let n=[];for(let e of t){let t=await e.key,a=await e.value;n.push({key:t,value:a})}return te.mergeObjectSync(e,n)}static mergeObjectSync(e,t){let n={};for(let a of t){let{key:t,value:i}=a;if("aborted"===t.status||"aborted"===i.status)return tt;"dirty"===t.status&&e.dirty(),"dirty"===i.status&&e.dirty(),"__proto__"!==t.value&&(void 0!==i.value||a.alwaysSet)&&(n[t.value]=i.value)}return{status:e.value,value:n}}}let tt=Object.freeze({status:"aborted"}),tn=e=>({status:"dirty",value:e}),ta=e=>({status:"valid",value:e}),ti=e=>"aborted"===e.status,tr=e=>"dirty"===e.status,to=e=>"valid"===e.status,ts=e=>"undefined"!=typeof Promise&&e instanceof Promise;function tl(e,t,n,a){if("a"===n&&!a)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?a:"a"===n?a.call(e):a?a.value:t.get(e)}function tc(e,t,n,a,i){if("m"===a)throw TypeError("Private method is not writable");if("a"===a&&!i)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?i.call(e,n):i?i.value=n:t.set(e,n),n}"function"==typeof SuppressedError&&SuppressedError,function(e){e.errToObj=e=>"string"==typeof e?{message:e}:e||{},e.toString=e=>"string"==typeof e?e:null==e?void 0:e.message}(v||(v={}));class td{constructor(e,t,n,a){this._cachedPath=[],this.parent=e,this.data=t,this._path=n,this._key=a}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}let tu=(e,t)=>{if(to(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let t=new e4(e.common.issues);return this._error=t,this._error}}};function tp(e){if(!e)return{};let{errorMap:t,invalid_type_error:n,required_error:a,description:i}=e;if(t&&(n||a))throw Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return t?{errorMap:t,description:i}:{errorMap:(t,i)=>{var r,o;let{message:s}=e;return"invalid_enum_value"===t.code?{message:null!=s?s:i.defaultError}:void 0===i.data?{message:null!==(r=null!=s?s:a)&&void 0!==r?r:i.defaultError}:"invalid_type"!==t.code?{message:i.defaultError}:{message:null!==(o=null!=s?s:n)&&void 0!==o?o:i.defaultError}},description:i}}class th{get description(){return this._def.description}_getType(e){return e2(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:e2(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new te,ctx:{common:e.parent.common,data:e.data,parsedType:e2(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let t=this._parse(e);if(ts(t))throw Error("Synchronous parse encountered promise.");return t}_parseAsync(e){return Promise.resolve(this._parse(e))}parse(e,t){let n=this.safeParse(e,t);if(n.success)return n.data;throw n.error}safeParse(e,t){var n;let a={common:{issues:[],async:null!==(n=null==t?void 0:t.async)&&void 0!==n&&n,contextualErrorMap:null==t?void 0:t.errorMap},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:e2(e)},i=this._parseSync({data:e,path:a.path,parent:a});return tu(a,i)}"~validate"(e){var t,n;let a={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:e2(e)};if(!this["~standard"].async)try{let t=this._parseSync({data:e,path:[],parent:a});return to(t)?{value:t.value}:{issues:a.common.issues}}catch(e){(null===(n=null===(t=null==e?void 0:e.message)||void 0===t?void 0:t.toLowerCase())||void 0===n?void 0:n.includes("encountered"))&&(this["~standard"].async=!0),a.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:a}).then(e=>to(e)?{value:e.value}:{issues:a.common.issues})}async parseAsync(e,t){let n=await this.safeParseAsync(e,t);if(n.success)return n.data;throw n.error}async safeParseAsync(e,t){let n={common:{issues:[],contextualErrorMap:null==t?void 0:t.errorMap,async:!0},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:e2(e)},a=this._parse({data:e,path:n.path,parent:n});return tu(n,await (ts(a)?a:Promise.resolve(a)))}refine(e,t){let n=e=>"string"==typeof t||void 0===t?{message:t}:"function"==typeof t?t(e):t;return this._refinement((t,a)=>{let i=e(t),r=()=>a.addIssue({code:e3.custom,...n(t)});return"undefined"!=typeof Promise&&i instanceof Promise?i.then(e=>!!e||(r(),!1)):!!i||(r(),!1)})}refinement(e,t){return this._refinement((n,a)=>!!e(n)||(a.addIssue("function"==typeof t?t(n,a):t),!1))}_refinement(e){return new t5({schema:this,typeName:I.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:e=>this["~validate"](e)}}optional(){return t6.create(this,this._def)}nullable(){return t8.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return tV.create(this)}promise(){return t7.create(this,this._def)}or(e){return tZ.create([this,e],this._def)}and(e){return tK.create(this,e,this._def)}transform(e){return new t5({...tp(this._def),schema:this,typeName:I.ZodEffects,effect:{type:"transform",transform:e}})}default(e){return new ne({...tp(this._def),innerType:this,defaultValue:"function"==typeof e?e:()=>e,typeName:I.ZodDefault})}brand(){return new ni({typeName:I.ZodBranded,type:this,...tp(this._def)})}catch(e){return new nt({...tp(this._def),innerType:this,catchValue:"function"==typeof e?e:()=>e,typeName:I.ZodCatch})}describe(e){return new this.constructor({...this._def,description:e})}pipe(e){return nr.create(this,e)}readonly(){return no.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}let tm=/^c[^\s-]{8,}$/i,tf=/^[0-9a-z]+$/,tg=/^[0-9A-HJKMNP-TV-Z]{26}$/i,ty=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,tb=/^[a-z0-9_-]{21}$/i,tv=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,tw=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,tA=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,tI=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,tP=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,tC=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,tT=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,tS=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,tE=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,t_="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",tx=RegExp(`^${t_}$`);function tM(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:null==e.precision&&(t=`${t}(\\.\\d+)?`),t}function tk(e){let t=`${t_}T${tM(e)}`,n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,RegExp(`^${t}$`)}class tR extends th{_parse(e){var t,n,i,r;let o;if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==e0.string){let t=this._getOrReturnCtx(e);return e8(t,{code:e3.invalid_type,expected:e0.string,received:t.parsedType}),tt}let s=new te;for(let l of this._def.checks)if("min"===l.kind)e.data.length<l.value&&(e8(o=this._getOrReturnCtx(e,o),{code:e3.too_small,minimum:l.value,type:"string",inclusive:!0,exact:!1,message:l.message}),s.dirty());else if("max"===l.kind)e.data.length>l.value&&(e8(o=this._getOrReturnCtx(e,o),{code:e3.too_big,maximum:l.value,type:"string",inclusive:!0,exact:!1,message:l.message}),s.dirty());else if("length"===l.kind){let t=e.data.length>l.value,n=e.data.length<l.value;(t||n)&&(o=this._getOrReturnCtx(e,o),t?e8(o,{code:e3.too_big,maximum:l.value,type:"string",inclusive:!0,exact:!0,message:l.message}):n&&e8(o,{code:e3.too_small,minimum:l.value,type:"string",inclusive:!0,exact:!0,message:l.message}),s.dirty())}else if("email"===l.kind)tA.test(e.data)||(e8(o=this._getOrReturnCtx(e,o),{validation:"email",code:e3.invalid_string,message:l.message}),s.dirty());else if("emoji"===l.kind)a||(a=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),a.test(e.data)||(e8(o=this._getOrReturnCtx(e,o),{validation:"emoji",code:e3.invalid_string,message:l.message}),s.dirty());else if("uuid"===l.kind)ty.test(e.data)||(e8(o=this._getOrReturnCtx(e,o),{validation:"uuid",code:e3.invalid_string,message:l.message}),s.dirty());else if("nanoid"===l.kind)tb.test(e.data)||(e8(o=this._getOrReturnCtx(e,o),{validation:"nanoid",code:e3.invalid_string,message:l.message}),s.dirty());else if("cuid"===l.kind)tm.test(e.data)||(e8(o=this._getOrReturnCtx(e,o),{validation:"cuid",code:e3.invalid_string,message:l.message}),s.dirty());else if("cuid2"===l.kind)tf.test(e.data)||(e8(o=this._getOrReturnCtx(e,o),{validation:"cuid2",code:e3.invalid_string,message:l.message}),s.dirty());else if("ulid"===l.kind)tg.test(e.data)||(e8(o=this._getOrReturnCtx(e,o),{validation:"ulid",code:e3.invalid_string,message:l.message}),s.dirty());else if("url"===l.kind)try{new URL(e.data)}catch(t){e8(o=this._getOrReturnCtx(e,o),{validation:"url",code:e3.invalid_string,message:l.message}),s.dirty()}else"regex"===l.kind?(l.regex.lastIndex=0,l.regex.test(e.data)||(e8(o=this._getOrReturnCtx(e,o),{validation:"regex",code:e3.invalid_string,message:l.message}),s.dirty())):"trim"===l.kind?e.data=e.data.trim():"includes"===l.kind?e.data.includes(l.value,l.position)||(e8(o=this._getOrReturnCtx(e,o),{code:e3.invalid_string,validation:{includes:l.value,position:l.position},message:l.message}),s.dirty()):"toLowerCase"===l.kind?e.data=e.data.toLowerCase():"toUpperCase"===l.kind?e.data=e.data.toUpperCase():"startsWith"===l.kind?e.data.startsWith(l.value)||(e8(o=this._getOrReturnCtx(e,o),{code:e3.invalid_string,validation:{startsWith:l.value},message:l.message}),s.dirty()):"endsWith"===l.kind?e.data.endsWith(l.value)||(e8(o=this._getOrReturnCtx(e,o),{code:e3.invalid_string,validation:{endsWith:l.value},message:l.message}),s.dirty()):"datetime"===l.kind?tk(l).test(e.data)||(e8(o=this._getOrReturnCtx(e,o),{code:e3.invalid_string,validation:"datetime",message:l.message}),s.dirty()):"date"===l.kind?tx.test(e.data)||(e8(o=this._getOrReturnCtx(e,o),{code:e3.invalid_string,validation:"date",message:l.message}),s.dirty()):"time"===l.kind?RegExp(`^${tM(l)}$`).test(e.data)||(e8(o=this._getOrReturnCtx(e,o),{code:e3.invalid_string,validation:"time",message:l.message}),s.dirty()):"duration"===l.kind?tw.test(e.data)||(e8(o=this._getOrReturnCtx(e,o),{validation:"duration",code:e3.invalid_string,message:l.message}),s.dirty()):"ip"===l.kind?(t=e.data,("v4"===(n=l.version)||!n)&&tI.test(t)||("v6"===n||!n)&&tC.test(t)||(e8(o=this._getOrReturnCtx(e,o),{validation:"ip",code:e3.invalid_string,message:l.message}),s.dirty())):"jwt"===l.kind?!function(e,t){if(!tv.test(e))return!1;try{let[n]=e.split("."),a=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),i=JSON.parse(atob(a));if("object"!=typeof i||null===i||!i.typ||!i.alg||t&&i.alg!==t)return!1;return!0}catch(e){return!1}}(e.data,l.alg)&&(e8(o=this._getOrReturnCtx(e,o),{validation:"jwt",code:e3.invalid_string,message:l.message}),s.dirty()):"cidr"===l.kind?(i=e.data,("v4"===(r=l.version)||!r)&&tP.test(i)||("v6"===r||!r)&&tT.test(i)||(e8(o=this._getOrReturnCtx(e,o),{validation:"cidr",code:e3.invalid_string,message:l.message}),s.dirty())):"base64"===l.kind?tS.test(e.data)||(e8(o=this._getOrReturnCtx(e,o),{validation:"base64",code:e3.invalid_string,message:l.message}),s.dirty()):"base64url"===l.kind?tE.test(e.data)||(e8(o=this._getOrReturnCtx(e,o),{validation:"base64url",code:e3.invalid_string,message:l.message}),s.dirty()):y.assertNever(l);return{status:s.value,value:e.data}}_regex(e,t,n){return this.refinement(t=>e.test(t),{validation:t,code:e3.invalid_string,...v.errToObj(n)})}_addCheck(e){return new tR({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...v.errToObj(e)})}url(e){return this._addCheck({kind:"url",...v.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...v.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...v.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...v.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...v.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...v.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...v.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...v.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...v.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...v.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...v.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...v.errToObj(e)})}datetime(e){var t,n;return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:void 0===(null==e?void 0:e.precision)?null:null==e?void 0:e.precision,offset:null!==(t=null==e?void 0:e.offset)&&void 0!==t&&t,local:null!==(n=null==e?void 0:e.local)&&void 0!==n&&n,...v.errToObj(null==e?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return"string"==typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:void 0===(null==e?void 0:e.precision)?null:null==e?void 0:e.precision,...v.errToObj(null==e?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...v.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...v.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:null==t?void 0:t.position,...v.errToObj(null==t?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...v.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...v.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...v.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...v.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...v.errToObj(t)})}nonempty(e){return this.min(1,v.errToObj(e))}trim(){return new tR({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new tR({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new tR({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>"datetime"===e.kind)}get isDate(){return!!this._def.checks.find(e=>"date"===e.kind)}get isTime(){return!!this._def.checks.find(e=>"time"===e.kind)}get isDuration(){return!!this._def.checks.find(e=>"duration"===e.kind)}get isEmail(){return!!this._def.checks.find(e=>"email"===e.kind)}get isURL(){return!!this._def.checks.find(e=>"url"===e.kind)}get isEmoji(){return!!this._def.checks.find(e=>"emoji"===e.kind)}get isUUID(){return!!this._def.checks.find(e=>"uuid"===e.kind)}get isNANOID(){return!!this._def.checks.find(e=>"nanoid"===e.kind)}get isCUID(){return!!this._def.checks.find(e=>"cuid"===e.kind)}get isCUID2(){return!!this._def.checks.find(e=>"cuid2"===e.kind)}get isULID(){return!!this._def.checks.find(e=>"ulid"===e.kind)}get isIP(){return!!this._def.checks.find(e=>"ip"===e.kind)}get isCIDR(){return!!this._def.checks.find(e=>"cidr"===e.kind)}get isBase64(){return!!this._def.checks.find(e=>"base64"===e.kind)}get isBase64url(){return!!this._def.checks.find(e=>"base64url"===e.kind)}get minLength(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}tR.create=e=>{var t;return new tR({checks:[],typeName:I.ZodString,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t,...tp(e)})};class tN extends th{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){let t;if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==e0.number){let t=this._getOrReturnCtx(e);return e8(t,{code:e3.invalid_type,expected:e0.number,received:t.parsedType}),tt}let n=new te;for(let a of this._def.checks)"int"===a.kind?y.isInteger(e.data)||(e8(t=this._getOrReturnCtx(e,t),{code:e3.invalid_type,expected:"integer",received:"float",message:a.message}),n.dirty()):"min"===a.kind?(a.inclusive?e.data<a.value:e.data<=a.value)&&(e8(t=this._getOrReturnCtx(e,t),{code:e3.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),n.dirty()):"max"===a.kind?(a.inclusive?e.data>a.value:e.data>=a.value)&&(e8(t=this._getOrReturnCtx(e,t),{code:e3.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),n.dirty()):"multipleOf"===a.kind?0!==function(e,t){let n=(e.toString().split(".")[1]||"").length,a=(t.toString().split(".")[1]||"").length,i=n>a?n:a;return parseInt(e.toFixed(i).replace(".",""))%parseInt(t.toFixed(i).replace(".",""))/Math.pow(10,i)}(e.data,a.value)&&(e8(t=this._getOrReturnCtx(e,t),{code:e3.not_multiple_of,multipleOf:a.value,message:a.message}),n.dirty()):"finite"===a.kind?Number.isFinite(e.data)||(e8(t=this._getOrReturnCtx(e,t),{code:e3.not_finite,message:a.message}),n.dirty()):y.assertNever(a);return{status:n.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,v.toString(t))}gt(e,t){return this.setLimit("min",e,!1,v.toString(t))}lte(e,t){return this.setLimit("max",e,!0,v.toString(t))}lt(e,t){return this.setLimit("max",e,!1,v.toString(t))}setLimit(e,t,n,a){return new tN({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:v.toString(a)}]})}_addCheck(e){return new tN({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:v.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:v.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:v.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:v.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:v.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:v.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:v.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:v.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:v.toString(e)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>"int"===e.kind||"multipleOf"===e.kind&&y.isInteger(e.value))}get isFinite(){let e=null,t=null;for(let n of this._def.checks){if("finite"===n.kind||"int"===n.kind||"multipleOf"===n.kind)return!0;"min"===n.kind?(null===t||n.value>t)&&(t=n.value):"max"===n.kind&&(null===e||n.value<e)&&(e=n.value)}return Number.isFinite(t)&&Number.isFinite(e)}}tN.create=e=>new tN({checks:[],typeName:I.ZodNumber,coerce:(null==e?void 0:e.coerce)||!1,...tp(e)});class tO extends th{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){let t;if(this._def.coerce)try{e.data=BigInt(e.data)}catch(t){return this._getInvalidInput(e)}if(this._getType(e)!==e0.bigint)return this._getInvalidInput(e);let n=new te;for(let a of this._def.checks)"min"===a.kind?(a.inclusive?e.data<a.value:e.data<=a.value)&&(e8(t=this._getOrReturnCtx(e,t),{code:e3.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),n.dirty()):"max"===a.kind?(a.inclusive?e.data>a.value:e.data>=a.value)&&(e8(t=this._getOrReturnCtx(e,t),{code:e3.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),n.dirty()):"multipleOf"===a.kind?e.data%a.value!==BigInt(0)&&(e8(t=this._getOrReturnCtx(e,t),{code:e3.not_multiple_of,multipleOf:a.value,message:a.message}),n.dirty()):y.assertNever(a);return{status:n.value,value:e.data}}_getInvalidInput(e){let t=this._getOrReturnCtx(e);return e8(t,{code:e3.invalid_type,expected:e0.bigint,received:t.parsedType}),tt}gte(e,t){return this.setLimit("min",e,!0,v.toString(t))}gt(e,t){return this.setLimit("min",e,!1,v.toString(t))}lte(e,t){return this.setLimit("max",e,!0,v.toString(t))}lt(e,t){return this.setLimit("max",e,!1,v.toString(t))}setLimit(e,t,n,a){return new tO({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:v.toString(a)}]})}_addCheck(e){return new tO({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:v.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:v.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:v.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:v.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:v.toString(t)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}tO.create=e=>{var t;return new tO({checks:[],typeName:I.ZodBigInt,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t,...tp(e)})};class tD extends th{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==e0.boolean){let t=this._getOrReturnCtx(e);return e8(t,{code:e3.invalid_type,expected:e0.boolean,received:t.parsedType}),tt}return ta(e.data)}}tD.create=e=>new tD({typeName:I.ZodBoolean,coerce:(null==e?void 0:e.coerce)||!1,...tp(e)});class tL extends th{_parse(e){let t;if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==e0.date){let t=this._getOrReturnCtx(e);return e8(t,{code:e3.invalid_type,expected:e0.date,received:t.parsedType}),tt}if(isNaN(e.data.getTime()))return e8(this._getOrReturnCtx(e),{code:e3.invalid_date}),tt;let n=new te;for(let a of this._def.checks)"min"===a.kind?e.data.getTime()<a.value&&(e8(t=this._getOrReturnCtx(e,t),{code:e3.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),n.dirty()):"max"===a.kind?e.data.getTime()>a.value&&(e8(t=this._getOrReturnCtx(e,t),{code:e3.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),n.dirty()):y.assertNever(a);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new tL({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:v.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:v.toString(t)})}get minDate(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}tL.create=e=>new tL({checks:[],coerce:(null==e?void 0:e.coerce)||!1,typeName:I.ZodDate,...tp(e)});class tj extends th{_parse(e){if(this._getType(e)!==e0.symbol){let t=this._getOrReturnCtx(e);return e8(t,{code:e3.invalid_type,expected:e0.symbol,received:t.parsedType}),tt}return ta(e.data)}}tj.create=e=>new tj({typeName:I.ZodSymbol,...tp(e)});class tF extends th{_parse(e){if(this._getType(e)!==e0.undefined){let t=this._getOrReturnCtx(e);return e8(t,{code:e3.invalid_type,expected:e0.undefined,received:t.parsedType}),tt}return ta(e.data)}}tF.create=e=>new tF({typeName:I.ZodUndefined,...tp(e)});class tB extends th{_parse(e){if(this._getType(e)!==e0.null){let t=this._getOrReturnCtx(e);return e8(t,{code:e3.invalid_type,expected:e0.null,received:t.parsedType}),tt}return ta(e.data)}}tB.create=e=>new tB({typeName:I.ZodNull,...tp(e)});class tH extends th{constructor(){super(...arguments),this._any=!0}_parse(e){return ta(e.data)}}tH.create=e=>new tH({typeName:I.ZodAny,...tp(e)});class tU extends th{constructor(){super(...arguments),this._unknown=!0}_parse(e){return ta(e.data)}}tU.create=e=>new tU({typeName:I.ZodUnknown,...tp(e)});class tz extends th{_parse(e){let t=this._getOrReturnCtx(e);return e8(t,{code:e3.invalid_type,expected:e0.never,received:t.parsedType}),tt}}tz.create=e=>new tz({typeName:I.ZodNever,...tp(e)});class tq extends th{_parse(e){if(this._getType(e)!==e0.undefined){let t=this._getOrReturnCtx(e);return e8(t,{code:e3.invalid_type,expected:e0.void,received:t.parsedType}),tt}return ta(e.data)}}tq.create=e=>new tq({typeName:I.ZodVoid,...tp(e)});class tV extends th{_parse(e){let{ctx:t,status:n}=this._processInputParams(e),a=this._def;if(t.parsedType!==e0.array)return e8(t,{code:e3.invalid_type,expected:e0.array,received:t.parsedType}),tt;if(null!==a.exactLength){let e=t.data.length>a.exactLength.value,i=t.data.length<a.exactLength.value;(e||i)&&(e8(t,{code:e?e3.too_big:e3.too_small,minimum:i?a.exactLength.value:void 0,maximum:e?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),n.dirty())}if(null!==a.minLength&&t.data.length<a.minLength.value&&(e8(t,{code:e3.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),n.dirty()),null!==a.maxLength&&t.data.length>a.maxLength.value&&(e8(t,{code:e3.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),n.dirty()),t.common.async)return Promise.all([...t.data].map((e,n)=>a.type._parseAsync(new td(t,e,t.path,n)))).then(e=>te.mergeArray(n,e));let i=[...t.data].map((e,n)=>a.type._parseSync(new td(t,e,t.path,n)));return te.mergeArray(n,i)}get element(){return this._def.type}min(e,t){return new tV({...this._def,minLength:{value:e,message:v.toString(t)}})}max(e,t){return new tV({...this._def,maxLength:{value:e,message:v.toString(t)}})}length(e,t){return new tV({...this._def,exactLength:{value:e,message:v.toString(t)}})}nonempty(e){return this.min(1,e)}}tV.create=(e,t)=>new tV({type:e,minLength:null,maxLength:null,exactLength:null,typeName:I.ZodArray,...tp(t)});class tG extends th{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;let e=this._def.shape(),t=y.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==e0.object){let t=this._getOrReturnCtx(e);return e8(t,{code:e3.invalid_type,expected:e0.object,received:t.parsedType}),tt}let{status:t,ctx:n}=this._processInputParams(e),{shape:a,keys:i}=this._getCached(),r=[];if(!(this._def.catchall instanceof tz&&"strip"===this._def.unknownKeys))for(let e in n.data)i.includes(e)||r.push(e);let o=[];for(let e of i){let t=a[e],i=n.data[e];o.push({key:{status:"valid",value:e},value:t._parse(new td(n,i,n.path,e)),alwaysSet:e in n.data})}if(this._def.catchall instanceof tz){let e=this._def.unknownKeys;if("passthrough"===e)for(let e of r)o.push({key:{status:"valid",value:e},value:{status:"valid",value:n.data[e]}});else if("strict"===e)r.length>0&&(e8(n,{code:e3.unrecognized_keys,keys:r}),t.dirty());else if("strip"===e);else throw Error("Internal ZodObject error: invalid unknownKeys value.")}else{let e=this._def.catchall;for(let t of r){let a=n.data[t];o.push({key:{status:"valid",value:t},value:e._parse(new td(n,a,n.path,t)),alwaysSet:t in n.data})}}return n.common.async?Promise.resolve().then(async()=>{let e=[];for(let t of o){let n=await t.key,a=await t.value;e.push({key:n,value:a,alwaysSet:t.alwaysSet})}return e}).then(e=>te.mergeObjectSync(t,e)):te.mergeObjectSync(t,o)}get shape(){return this._def.shape()}strict(e){return v.errToObj,new tG({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,n)=>{var a,i,r,o;let s=null!==(r=null===(i=(a=this._def).errorMap)||void 0===i?void 0:i.call(a,t,n).message)&&void 0!==r?r:n.defaultError;return"unrecognized_keys"===t.code?{message:null!==(o=v.errToObj(e).message)&&void 0!==o?o:s}:{message:s}}}:{}})}strip(){return new tG({...this._def,unknownKeys:"strip"})}passthrough(){return new tG({...this._def,unknownKeys:"passthrough"})}extend(e){return new tG({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new tG({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:I.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new tG({...this._def,catchall:e})}pick(e){let t={};return y.objectKeys(e).forEach(n=>{e[n]&&this.shape[n]&&(t[n]=this.shape[n])}),new tG({...this._def,shape:()=>t})}omit(e){let t={};return y.objectKeys(this.shape).forEach(n=>{e[n]||(t[n]=this.shape[n])}),new tG({...this._def,shape:()=>t})}deepPartial(){return function e(t){if(t instanceof tG){let n={};for(let a in t.shape){let i=t.shape[a];n[a]=t6.create(e(i))}return new tG({...t._def,shape:()=>n})}return t instanceof tV?new tV({...t._def,type:e(t.element)}):t instanceof t6?t6.create(e(t.unwrap())):t instanceof t8?t8.create(e(t.unwrap())):t instanceof tY?tY.create(t.items.map(t=>e(t))):t}(this)}partial(e){let t={};return y.objectKeys(this.shape).forEach(n=>{let a=this.shape[n];e&&!e[n]?t[n]=a:t[n]=a.optional()}),new tG({...this._def,shape:()=>t})}required(e){let t={};return y.objectKeys(this.shape).forEach(n=>{if(e&&!e[n])t[n]=this.shape[n];else{let e=this.shape[n];for(;e instanceof t6;)e=e._def.innerType;t[n]=e}}),new tG({...this._def,shape:()=>t})}keyof(){return t3(y.objectKeys(this.shape))}}tG.create=(e,t)=>new tG({shape:()=>e,unknownKeys:"strip",catchall:tz.create(),typeName:I.ZodObject,...tp(t)}),tG.strictCreate=(e,t)=>new tG({shape:()=>e,unknownKeys:"strict",catchall:tz.create(),typeName:I.ZodObject,...tp(t)}),tG.lazycreate=(e,t)=>new tG({shape:e,unknownKeys:"strip",catchall:tz.create(),typeName:I.ZodObject,...tp(t)});class tZ extends th{_parse(e){let{ctx:t}=this._processInputParams(e),n=this._def.options;if(t.common.async)return Promise.all(n.map(async e=>{let n={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:n}),ctx:n}})).then(function(e){for(let t of e)if("valid"===t.result.status)return t.result;for(let n of e)if("dirty"===n.result.status)return t.common.issues.push(...n.ctx.common.issues),n.result;let n=e.map(e=>new e4(e.ctx.common.issues));return e8(t,{code:e3.invalid_union,unionErrors:n}),tt});{let e;let a=[];for(let i of n){let n={...t,common:{...t.common,issues:[]},parent:null},r=i._parseSync({data:t.data,path:t.path,parent:n});if("valid"===r.status)return r;"dirty"!==r.status||e||(e={result:r,ctx:n}),n.common.issues.length&&a.push(n.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;let i=a.map(e=>new e4(e));return e8(t,{code:e3.invalid_union,unionErrors:i}),tt}}get options(){return this._def.options}}tZ.create=(e,t)=>new tZ({options:e,typeName:I.ZodUnion,...tp(t)});let t$=e=>{if(e instanceof t0)return t$(e.schema);if(e instanceof t5)return t$(e.innerType());if(e instanceof t2)return[e.value];if(e instanceof t4)return e.options;if(e instanceof t9)return y.objectValues(e.enum);if(e instanceof ne)return t$(e._def.innerType);if(e instanceof tF)return[void 0];else if(e instanceof tB)return[null];else if(e instanceof t6)return[void 0,...t$(e.unwrap())];else if(e instanceof t8)return[null,...t$(e.unwrap())];else if(e instanceof ni)return t$(e.unwrap());else if(e instanceof no)return t$(e.unwrap());else if(e instanceof nt)return t$(e._def.innerType);else return[]};class tW extends th{_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==e0.object)return e8(t,{code:e3.invalid_type,expected:e0.object,received:t.parsedType}),tt;let n=this.discriminator,a=t.data[n],i=this.optionsMap.get(a);return i?t.common.async?i._parseAsync({data:t.data,path:t.path,parent:t}):i._parseSync({data:t.data,path:t.path,parent:t}):(e8(t,{code:e3.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),tt)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,n){let a=new Map;for(let n of t){let t=t$(n.shape[e]);if(!t.length)throw Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let i of t){if(a.has(i))throw Error(`Discriminator property ${String(e)} has duplicate value ${String(i)}`);a.set(i,n)}}return new tW({typeName:I.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:a,...tp(n)})}}class tK extends th{_parse(e){let{status:t,ctx:n}=this._processInputParams(e),a=(e,a)=>{if(ti(e)||ti(a))return tt;let i=function e(t,n){let a=e2(t),i=e2(n);if(t===n)return{valid:!0,data:t};if(a===e0.object&&i===e0.object){let a=y.objectKeys(n),i=y.objectKeys(t).filter(e=>-1!==a.indexOf(e)),r={...t,...n};for(let a of i){let i=e(t[a],n[a]);if(!i.valid)return{valid:!1};r[a]=i.data}return{valid:!0,data:r}}if(a===e0.array&&i===e0.array){if(t.length!==n.length)return{valid:!1};let a=[];for(let i=0;i<t.length;i++){let r=e(t[i],n[i]);if(!r.valid)return{valid:!1};a.push(r.data)}return{valid:!0,data:a}}return a===e0.date&&i===e0.date&&+t==+n?{valid:!0,data:t}:{valid:!1}}(e.value,a.value);return i.valid?((tr(e)||tr(a))&&t.dirty(),{status:t.value,value:i.data}):(e8(n,{code:e3.invalid_intersection_types}),tt)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([e,t])=>a(e,t)):a(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}tK.create=(e,t,n)=>new tK({left:e,right:t,typeName:I.ZodIntersection,...tp(n)});class tY extends th{_parse(e){let{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==e0.array)return e8(n,{code:e3.invalid_type,expected:e0.array,received:n.parsedType}),tt;if(n.data.length<this._def.items.length)return e8(n,{code:e3.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),tt;!this._def.rest&&n.data.length>this._def.items.length&&(e8(n,{code:e3.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());let a=[...n.data].map((e,t)=>{let a=this._def.items[t]||this._def.rest;return a?a._parse(new td(n,e,n.path,t)):null}).filter(e=>!!e);return n.common.async?Promise.all(a).then(e=>te.mergeArray(t,e)):te.mergeArray(t,a)}get items(){return this._def.items}rest(e){return new tY({...this._def,rest:e})}}tY.create=(e,t)=>{if(!Array.isArray(e))throw Error("You must pass an array of schemas to z.tuple([ ... ])");return new tY({items:e,typeName:I.ZodTuple,rest:null,...tp(t)})};class tX extends th{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==e0.object)return e8(n,{code:e3.invalid_type,expected:e0.object,received:n.parsedType}),tt;let a=[],i=this._def.keyType,r=this._def.valueType;for(let e in n.data)a.push({key:i._parse(new td(n,e,n.path,e)),value:r._parse(new td(n,n.data[e],n.path,e)),alwaysSet:e in n.data});return n.common.async?te.mergeObjectAsync(t,a):te.mergeObjectSync(t,a)}get element(){return this._def.valueType}static create(e,t,n){return new tX(t instanceof th?{keyType:e,valueType:t,typeName:I.ZodRecord,...tp(n)}:{keyType:tR.create(),valueType:e,typeName:I.ZodRecord,...tp(t)})}}class tJ extends th{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==e0.map)return e8(n,{code:e3.invalid_type,expected:e0.map,received:n.parsedType}),tt;let a=this._def.keyType,i=this._def.valueType,r=[...n.data.entries()].map(([e,t],r)=>({key:a._parse(new td(n,e,n.path,[r,"key"])),value:i._parse(new td(n,t,n.path,[r,"value"]))}));if(n.common.async){let e=new Map;return Promise.resolve().then(async()=>{for(let n of r){let a=await n.key,i=await n.value;if("aborted"===a.status||"aborted"===i.status)return tt;("dirty"===a.status||"dirty"===i.status)&&t.dirty(),e.set(a.value,i.value)}return{status:t.value,value:e}})}{let e=new Map;for(let n of r){let a=n.key,i=n.value;if("aborted"===a.status||"aborted"===i.status)return tt;("dirty"===a.status||"dirty"===i.status)&&t.dirty(),e.set(a.value,i.value)}return{status:t.value,value:e}}}}tJ.create=(e,t,n)=>new tJ({valueType:t,keyType:e,typeName:I.ZodMap,...tp(n)});class tQ extends th{_parse(e){let{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==e0.set)return e8(n,{code:e3.invalid_type,expected:e0.set,received:n.parsedType}),tt;let a=this._def;null!==a.minSize&&n.data.size<a.minSize.value&&(e8(n,{code:e3.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),t.dirty()),null!==a.maxSize&&n.data.size>a.maxSize.value&&(e8(n,{code:e3.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),t.dirty());let i=this._def.valueType;function r(e){let n=new Set;for(let a of e){if("aborted"===a.status)return tt;"dirty"===a.status&&t.dirty(),n.add(a.value)}return{status:t.value,value:n}}let o=[...n.data.values()].map((e,t)=>i._parse(new td(n,e,n.path,t)));return n.common.async?Promise.all(o).then(e=>r(e)):r(o)}min(e,t){return new tQ({...this._def,minSize:{value:e,message:v.toString(t)}})}max(e,t){return new tQ({...this._def,maxSize:{value:e,message:v.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}tQ.create=(e,t)=>new tQ({valueType:e,minSize:null,maxSize:null,typeName:I.ZodSet,...tp(t)});class t1 extends th{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==e0.function)return e8(t,{code:e3.invalid_type,expected:e0.function,received:t.parsedType}),tt;function n(e,n){return e6({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,e5(),e9].filter(e=>!!e),issueData:{code:e3.invalid_arguments,argumentsError:n}})}function a(e,n){return e6({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,e5(),e9].filter(e=>!!e),issueData:{code:e3.invalid_return_type,returnTypeError:n}})}let i={errorMap:t.common.contextualErrorMap},r=t.data;if(this._def.returns instanceof t7){let e=this;return ta(async function(...t){let o=new e4([]),s=await e._def.args.parseAsync(t,i).catch(e=>{throw o.addIssue(n(t,e)),o}),l=await Reflect.apply(r,this,s);return await e._def.returns._def.type.parseAsync(l,i).catch(e=>{throw o.addIssue(a(l,e)),o})})}{let e=this;return ta(function(...t){let o=e._def.args.safeParse(t,i);if(!o.success)throw new e4([n(t,o.error)]);let s=Reflect.apply(r,this,o.data),l=e._def.returns.safeParse(s,i);if(!l.success)throw new e4([a(s,l.error)]);return l.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new t1({...this._def,args:tY.create(e).rest(tU.create())})}returns(e){return new t1({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,n){return new t1({args:e||tY.create([]).rest(tU.create()),returns:t||tU.create(),typeName:I.ZodFunction,...tp(n)})}}class t0 extends th{get schema(){return this._def.getter()}_parse(e){let{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}t0.create=(e,t)=>new t0({getter:e,typeName:I.ZodLazy,...tp(t)});class t2 extends th{_parse(e){if(e.data!==this._def.value){let t=this._getOrReturnCtx(e);return e8(t,{received:t.data,code:e3.invalid_literal,expected:this._def.value}),tt}return{status:"valid",value:e.data}}get value(){return this._def.value}}function t3(e,t){return new t4({values:e,typeName:I.ZodEnum,...tp(t)})}t2.create=(e,t)=>new t2({value:e,typeName:I.ZodLiteral,...tp(t)});class t4 extends th{constructor(){super(...arguments),w.set(this,void 0)}_parse(e){if("string"!=typeof e.data){let t=this._getOrReturnCtx(e),n=this._def.values;return e8(t,{expected:y.joinValues(n),received:t.parsedType,code:e3.invalid_type}),tt}if(tl(this,w,"f")||tc(this,w,new Set(this._def.values),"f"),!tl(this,w,"f").has(e.data)){let t=this._getOrReturnCtx(e),n=this._def.values;return e8(t,{received:t.data,code:e3.invalid_enum_value,options:n}),tt}return ta(e.data)}get options(){return this._def.values}get enum(){let e={};for(let t of this._def.values)e[t]=t;return e}get Values(){let e={};for(let t of this._def.values)e[t]=t;return e}get Enum(){let e={};for(let t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return t4.create(e,{...this._def,...t})}exclude(e,t=this._def){return t4.create(this.options.filter(t=>!e.includes(t)),{...this._def,...t})}}w=new WeakMap,t4.create=t3;class t9 extends th{constructor(){super(...arguments),A.set(this,void 0)}_parse(e){let t=y.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==e0.string&&n.parsedType!==e0.number){let e=y.objectValues(t);return e8(n,{expected:y.joinValues(e),received:n.parsedType,code:e3.invalid_type}),tt}if(tl(this,A,"f")||tc(this,A,new Set(y.getValidEnumValues(this._def.values)),"f"),!tl(this,A,"f").has(e.data)){let e=y.objectValues(t);return e8(n,{received:n.data,code:e3.invalid_enum_value,options:e}),tt}return ta(e.data)}get enum(){return this._def.values}}A=new WeakMap,t9.create=(e,t)=>new t9({values:e,typeName:I.ZodNativeEnum,...tp(t)});class t7 extends th{unwrap(){return this._def.type}_parse(e){let{ctx:t}=this._processInputParams(e);return t.parsedType!==e0.promise&&!1===t.common.async?(e8(t,{code:e3.invalid_type,expected:e0.promise,received:t.parsedType}),tt):ta((t.parsedType===e0.promise?t.data:Promise.resolve(t.data)).then(e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap})))}}t7.create=(e,t)=>new t7({type:e,typeName:I.ZodPromise,...tp(t)});class t5 extends th{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===I.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:t,ctx:n}=this._processInputParams(e),a=this._def.effect||null,i={addIssue:e=>{e8(n,e),e.fatal?t.abort():t.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),"preprocess"===a.type){let e=a.transform(n.data,i);if(n.common.async)return Promise.resolve(e).then(async e=>{if("aborted"===t.value)return tt;let a=await this._def.schema._parseAsync({data:e,path:n.path,parent:n});return"aborted"===a.status?tt:"dirty"===a.status||"dirty"===t.value?tn(a.value):a});{if("aborted"===t.value)return tt;let a=this._def.schema._parseSync({data:e,path:n.path,parent:n});return"aborted"===a.status?tt:"dirty"===a.status||"dirty"===t.value?tn(a.value):a}}if("refinement"===a.type){let e=e=>{let t=a.refinement(e,i);if(n.common.async)return Promise.resolve(t);if(t instanceof Promise)throw Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1!==n.common.async)return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(n=>"aborted"===n.status?tt:("dirty"===n.status&&t.dirty(),e(n.value).then(()=>({status:t.value,value:n.value}))));{let a=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===a.status?tt:("dirty"===a.status&&t.dirty(),e(a.value),{status:t.value,value:a.value})}}if("transform"===a.type){if(!1!==n.common.async)return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(e=>to(e)?Promise.resolve(a.transform(e.value,i)).then(e=>({status:t.value,value:e})):e);{let e=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!to(e))return e;let r=a.transform(e.value,i);if(r instanceof Promise)throw Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:r}}}y.assertNever(a)}}t5.create=(e,t,n)=>new t5({schema:e,typeName:I.ZodEffects,effect:t,...tp(n)}),t5.createWithPreprocess=(e,t,n)=>new t5({schema:t,effect:{type:"preprocess",transform:e},typeName:I.ZodEffects,...tp(n)});class t6 extends th{_parse(e){return this._getType(e)===e0.undefined?ta(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}t6.create=(e,t)=>new t6({innerType:e,typeName:I.ZodOptional,...tp(t)});class t8 extends th{_parse(e){return this._getType(e)===e0.null?ta(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}t8.create=(e,t)=>new t8({innerType:e,typeName:I.ZodNullable,...tp(t)});class ne extends th{_parse(e){let{ctx:t}=this._processInputParams(e),n=t.data;return t.parsedType===e0.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}ne.create=(e,t)=>new ne({innerType:e,typeName:I.ZodDefault,defaultValue:"function"==typeof t.default?t.default:()=>t.default,...tp(t)});class nt extends th{_parse(e){let{ctx:t}=this._processInputParams(e),n={...t,common:{...t.common,issues:[]}},a=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return ts(a)?a.then(e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new e4(n.common.issues)},input:n.data})})):{status:"valid",value:"valid"===a.status?a.value:this._def.catchValue({get error(){return new e4(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}nt.create=(e,t)=>new nt({innerType:e,typeName:I.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:()=>t.catch,...tp(t)});class nn extends th{_parse(e){if(this._getType(e)!==e0.nan){let t=this._getOrReturnCtx(e);return e8(t,{code:e3.invalid_type,expected:e0.nan,received:t.parsedType}),tt}return{status:"valid",value:e.data}}}nn.create=e=>new nn({typeName:I.ZodNaN,...tp(e)});let na=Symbol("zod_brand");class ni extends th{_parse(e){let{ctx:t}=this._processInputParams(e),n=t.data;return this._def.type._parse({data:n,path:t.path,parent:t})}unwrap(){return this._def.type}}class nr extends th{_parse(e){let{status:t,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{let e=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?tt:"dirty"===e.status?(t.dirty(),tn(e.value)):this._def.out._parseAsync({data:e.value,path:n.path,parent:n})})();{let e=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?tt:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:n.path,parent:n})}}static create(e,t){return new nr({in:e,out:t,typeName:I.ZodPipeline})}}class no extends th{_parse(e){let t=this._def.innerType._parse(e),n=e=>(to(e)&&(e.value=Object.freeze(e.value)),e);return ts(t)?t.then(e=>n(e)):n(t)}unwrap(){return this._def.innerType}}function ns(e,t){let n="function"==typeof e?e(t):"string"==typeof e?{message:e}:e;return"string"==typeof n?{message:n}:n}function nl(e,t={},n){return e?tH.create().superRefine((a,i)=>{var r,o;let s=e(a);if(s instanceof Promise)return s.then(e=>{var r,o;if(!e){let e=ns(t,a),s=null===(o=null!==(r=e.fatal)&&void 0!==r?r:n)||void 0===o||o;i.addIssue({code:"custom",...e,fatal:s})}});if(!s){let e=ns(t,a),s=null===(o=null!==(r=e.fatal)&&void 0!==r?r:n)||void 0===o||o;i.addIssue({code:"custom",...e,fatal:s})}}):tH.create()}no.create=(e,t)=>new no({innerType:e,typeName:I.ZodReadonly,...tp(t)});let nc={object:tG.lazycreate};!function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"}(I||(I={}));let nd=tR.create,nu=tN.create,np=nn.create,nh=tO.create,nm=tD.create,nf=tL.create,ng=tj.create,ny=tF.create,nb=tB.create,nv=tH.create,nw=tU.create,nA=tz.create,nI=tq.create,nP=tV.create,nC=tG.create,nT=tG.strictCreate,nS=tZ.create,nE=tW.create,n_=tK.create,nx=tY.create,nM=tX.create,nk=tJ.create,nR=tQ.create,nN=t1.create,nO=t0.create,nD=t2.create,nL=t4.create,nj=t9.create,nF=t7.create,nB=t5.create,nH=t6.create,nU=t8.create,nz=t5.createWithPreprocess,nq=nr.create;var nV=Object.freeze({__proto__:null,defaultErrorMap:e9,setErrorMap:function(e){e7=e},getErrorMap:e5,makeIssue:e6,EMPTY_PATH:[],addIssueToContext:e8,ParseStatus:te,INVALID:tt,DIRTY:tn,OK:ta,isAborted:ti,isDirty:tr,isValid:to,isAsync:ts,get util(){return y},get objectUtil(){return b},ZodParsedType:e0,getParsedType:e2,ZodType:th,datetimeRegex:tk,ZodString:tR,ZodNumber:tN,ZodBigInt:tO,ZodBoolean:tD,ZodDate:tL,ZodSymbol:tj,ZodUndefined:tF,ZodNull:tB,ZodAny:tH,ZodUnknown:tU,ZodNever:tz,ZodVoid:tq,ZodArray:tV,ZodObject:tG,ZodUnion:tZ,ZodDiscriminatedUnion:tW,ZodIntersection:tK,ZodTuple:tY,ZodRecord:tX,ZodMap:tJ,ZodSet:tQ,ZodFunction:t1,ZodLazy:t0,ZodLiteral:t2,ZodEnum:t4,ZodNativeEnum:t9,ZodPromise:t7,ZodEffects:t5,ZodTransformer:t5,ZodOptional:t6,ZodNullable:t8,ZodDefault:ne,ZodCatch:nt,ZodNaN:nn,BRAND:na,ZodBranded:ni,ZodPipeline:nr,ZodReadonly:no,custom:nl,Schema:th,ZodSchema:th,late:nc,get ZodFirstPartyTypeKind(){return I},coerce:{string:e=>tR.create({...e,coerce:!0}),number:e=>tN.create({...e,coerce:!0}),boolean:e=>tD.create({...e,coerce:!0}),bigint:e=>tO.create({...e,coerce:!0}),date:e=>tL.create({...e,coerce:!0})},any:nv,array:nP,bigint:nh,boolean:nm,date:nf,discriminatedUnion:nE,effect:nB,enum:nL,function:nN,instanceof:(e,t={message:`Input not instance of ${e.name}`})=>nl(t=>t instanceof e,t),intersection:n_,lazy:nO,literal:nD,map:nk,nan:np,nativeEnum:nj,never:nA,null:nb,nullable:nU,number:nu,object:nC,oboolean:()=>nm().optional(),onumber:()=>nu().optional(),optional:nH,ostring:()=>nd().optional(),pipeline:nq,preprocess:nz,promise:nF,record:nM,set:nR,strictObject:nT,string:nd,symbol:ng,transformer:nB,tuple:nx,undefined:ny,union:nS,unknown:nw,void:nI,NEVER:tt,ZodIssueCode:e3,quotelessJson:e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:"),ZodError:e4});function nG(e){switch(e){case"stop":return"stop";case"length":case"model_length":return"length";case"tool_calls":return"tool-calls";default:return"unknown"}}var nZ=(({errorSchema:e,errorToMessage:t,isRetryable:n})=>async({response:a,url:i,requestBodyValues:r})=>{let o=await a.text(),s=eB(a);if(""===o.trim())return{responseHeaders:s,value:new Y({message:a.statusText,url:i,requestBodyValues:r,statusCode:a.status,responseHeaders:s,responseBody:o,isRetryable:null==n?void 0:n(a)})};try{let l=function({text:e,schema:t}){try{let n=eL.parse(e);if(null==t)return n;return function({value:e,schema:t}){let n=eV({value:e,schema:t});if(!n.success)throw ex.wrap({value:e,cause:n.error});return n.value}({value:n,schema:t})}catch(t){if(eh.isInstance(t)||ex.isInstance(t))throw t;throw new eh({text:e,cause:t})}}({text:o,schema:e});return{responseHeaders:s,value:new Y({message:t(l),url:i,requestBodyValues:r,statusCode:a.status,responseHeaders:s,responseBody:o,data:l,isRetryable:null==n?void 0:n(a,l)})}}catch(e){return{responseHeaders:s,value:new Y({message:a.statusText,url:i,requestBodyValues:r,statusCode:a.status,responseHeaders:s,responseBody:o,isRetryable:null==n?void 0:n(a)})}}})({errorSchema:nV.object({object:nV.literal("error"),message:nV.string(),type:nV.string(),param:nV.string().nullable(),code:nV.string().nullable()}),errorToMessage:e=>e.message});function n$({id:e,model:t,created:n}){return{id:null!=e?e:void 0,modelId:null!=t?t:void 0,timestamp:null!=n?new Date(1e3*n):void 0}}var nW=class{constructor(e,t,n){this.specificationVersion="v1",this.defaultObjectGenerationMode="json",this.supportsImageUrls=!1,this.modelId=e,this.settings=t,this.config=n}get provider(){return this.config.provider}supportsUrl(e){return"https:"===e.protocol}getArgs({mode:e,prompt:t,maxTokens:n,temperature:a,topP:i,topK:r,frequencyPenalty:o,presencePenalty:s,stopSequences:l,responseFormat:c,seed:d,providerMetadata:u}){var p,h;let m=e.type,f=[];null!=r&&f.push({type:"unsupported-setting",setting:"topK"}),null!=o&&f.push({type:"unsupported-setting",setting:"frequencyPenalty"}),null!=s&&f.push({type:"unsupported-setting",setting:"presencePenalty"}),null!=l&&f.push({type:"unsupported-setting",setting:"stopSequences"}),null!=c&&"json"===c.type&&null!=c.schema&&f.push({type:"unsupported-setting",setting:"responseFormat",details:"JSON response format schema is not supported"});let g={model:this.modelId,safe_prompt:this.settings.safePrompt,max_tokens:n,temperature:a,top_p:i,random_seed:d,response_format:(null==c?void 0:c.type)==="json"?{type:"json_object"}:void 0,document_image_limit:null==(p=null==u?void 0:u.mistral)?void 0:p.documentImageLimit,document_page_limit:null==(h=null==u?void 0:u.mistral)?void 0:h.documentPageLimit,messages:function(e){let t=[];for(let n=0;n<e.length;n++){let{role:a,content:i}=e[n],r=n===e.length-1;switch(a){case"system":t.push({role:"system",content:i});break;case"user":t.push({role:"user",content:i.map(e=>{var t;switch(e.type){case"text":return{type:"text",text:e.text};case"image":return{type:"image_url",image_url:e.image instanceof URL?e.image.toString():`data:${null!=(t=e.mimeType)?t:"image/jpeg"};base64,${e1(e.image)}`};case"file":if(!(e.data instanceof URL))throw new eN({functionality:"File content parts in user messages"});if("application/pdf"===e.mimeType)return{type:"document_url",document_url:e.data.toString()};throw new eN({functionality:"Only PDF files are supported in user messages"})}})});break;case"assistant":{let e="",n=[];for(let t of i)switch(t.type){case"text":e+=t.text;break;case"tool-call":n.push({id:t.toolCallId,type:"function",function:{name:t.toolName,arguments:JSON.stringify(t.args)}})}t.push({role:"assistant",content:e,prefix:!!r||void 0,tool_calls:n.length>0?n:void 0});break}case"tool":for(let e of i)t.push({role:"tool",name:e.toolName,content:JSON.stringify(e.result),tool_call_id:e.toolCallId});break;default:throw Error(`Unsupported role: ${a}`)}}return t}(t)};switch(m){case"regular":{let{tools:t,tool_choice:n,toolWarnings:a}=function(e){var t;let n=(null==(t=e.tools)?void 0:t.length)?e.tools:void 0,a=[];if(null==n)return{tools:void 0,tool_choice:void 0,toolWarnings:a};let i=[];for(let e of n)"provider-defined"===e.type?a.push({type:"unsupported-tool",tool:e}):i.push({type:"function",function:{name:e.name,description:e.description,parameters:e.parameters}});let r=e.toolChoice;if(null==r)return{tools:i,tool_choice:void 0,toolWarnings:a};let o=r.type;switch(o){case"auto":case"none":return{tools:i,tool_choice:o,toolWarnings:a};case"required":return{tools:i,tool_choice:"any",toolWarnings:a};case"tool":return{tools:i.filter(e=>e.function.name===r.toolName),tool_choice:"any",toolWarnings:a};default:throw new eN({functionality:`Unsupported tool choice type: ${o}`})}}(e);return{args:{...g,tools:t,tool_choice:n},warnings:[...f,...a]}}case"object-json":return{args:{...g,response_format:{type:"json_object"}},warnings:f};case"object-tool":return{args:{...g,tool_choice:"any",tools:[{type:"function",function:e.tool}]},warnings:f};default:throw Error(`Unsupported type: ${m}`)}}async doGenerate(e){var t;let{args:n,warnings:a}=this.getArgs(e),{responseHeaders:i,value:r,rawValue:o}=await e$({url:`${this.config.baseURL}/chat/completions`,headers:ej(this.config.headers(),e.headers),body:n,failedResponseHandler:nZ,successfulResponseHandler:eY(nX),abortSignal:e.abortSignal,fetch:this.config.fetch}),{messages:s,...l}=n,c=r.choices[0],d=nK(c.message.content),u=s[s.length-1];return"assistant"===u.role&&(null==d?void 0:d.startsWith(u.content))&&(d=d.slice(u.content.length)),{text:d,toolCalls:null==(t=c.message.tool_calls)?void 0:t.map(e=>({toolCallType:"function",toolCallId:e.id,toolName:e.function.name,args:e.function.arguments})),finishReason:nG(c.finish_reason),usage:{promptTokens:r.usage.prompt_tokens,completionTokens:r.usage.completion_tokens},rawCall:{rawPrompt:s,rawSettings:l},rawResponse:{headers:i,body:o},request:{body:JSON.stringify(n)},response:n$(r),warnings:a}}async doStream(e){let{args:t,warnings:n}=this.getArgs(e),a={...t,stream:!0},{responseHeaders:i,value:r}=await e$({url:`${this.config.baseURL}/chat/completions`,headers:ej(this.config.headers(),e.headers),body:a,failedResponseHandler:nZ,successfulResponseHandler:eK(nJ),abortSignal:e.abortSignal,fetch:this.config.fetch}),{messages:o,...s}=t,l="unknown",c={promptTokens:Number.NaN,completionTokens:Number.NaN},d=0,u=!1;return{stream:r.pipeThrough(new TransformStream({transform(e,t){if(!e.success){t.enqueue({type:"error",error:e.error});return}d++;let n=e.value;1===d&&t.enqueue({type:"response-metadata",...n$(n)}),null!=n.usage&&(c={promptTokens:n.usage.prompt_tokens,completionTokens:n.usage.completion_tokens});let a=n.choices[0];if((null==a?void 0:a.finish_reason)!=null&&(l=nG(a.finish_reason)),(null==a?void 0:a.delta)==null)return;let i=a.delta,r=nK(i.content);if(d<=2){let e=o[o.length-1];if("assistant"===e.role&&r===e.content.trimEnd()){r.length<e.content.length&&(u=!0);return}}if(null!=r&&(t.enqueue({type:"text-delta",textDelta:u?r.trimStart():r}),u=!1),null!=i.tool_calls)for(let e of i.tool_calls)t.enqueue({type:"tool-call-delta",toolCallType:"function",toolCallId:e.id,toolName:e.function.name,argsTextDelta:e.function.arguments}),t.enqueue({type:"tool-call",toolCallType:"function",toolCallId:e.id,toolName:e.function.name,args:e.function.arguments})},flush(e){e.enqueue({type:"finish",finishReason:l,usage:c})}})),rawCall:{rawPrompt:o,rawSettings:s},rawResponse:{headers:i},request:{body:JSON.stringify(a)},warnings:n}}};function nK(e){if("string"==typeof e)return e;if(null==e)return;let t=[];for(let n of e){let{type:e}=n;switch(e){case"text":t.push(n.text);break;case"image_url":case"reference":break;default:throw Error(`Unsupported type: ${e}`)}}return t.length?t.join(""):void 0}var nY=nV.union([nV.string(),nV.array(nV.discriminatedUnion("type",[nV.object({type:nV.literal("text"),text:nV.string()}),nV.object({type:nV.literal("image_url"),image_url:nV.union([nV.string(),nV.object({url:nV.string(),detail:nV.string().nullable()})])}),nV.object({type:nV.literal("reference"),reference_ids:nV.array(nV.number())})]))]).nullish(),nX=nV.object({id:nV.string().nullish(),created:nV.number().nullish(),model:nV.string().nullish(),choices:nV.array(nV.object({message:nV.object({role:nV.literal("assistant"),content:nY,tool_calls:nV.array(nV.object({id:nV.string(),function:nV.object({name:nV.string(),arguments:nV.string()})})).nullish()}),index:nV.number(),finish_reason:nV.string().nullish()})),object:nV.literal("chat.completion"),usage:nV.object({prompt_tokens:nV.number(),completion_tokens:nV.number()})}),nJ=nV.object({id:nV.string().nullish(),created:nV.number().nullish(),model:nV.string().nullish(),choices:nV.array(nV.object({delta:nV.object({role:nV.enum(["assistant"]).optional(),content:nY,tool_calls:nV.array(nV.object({id:nV.string(),function:nV.object({name:nV.string(),arguments:nV.string()})})).nullish()}),finish_reason:nV.string().nullish(),index:nV.number()})),usage:nV.object({prompt_tokens:nV.number(),completion_tokens:nV.number()}).nullish()}),nQ=class{constructor(e,t,n){this.specificationVersion="v1",this.modelId=e,this.settings=t,this.config=n}get provider(){return this.config.provider}get maxEmbeddingsPerCall(){var e;return null!=(e=this.settings.maxEmbeddingsPerCall)?e:32}get supportsParallelCalls(){var e;return null!=(e=this.settings.supportsParallelCalls)&&e}async doEmbed({values:e,abortSignal:t,headers:n}){if(e.length>this.maxEmbeddingsPerCall)throw new eT({provider:this.provider,modelId:this.modelId,maxEmbeddingsPerCall:this.maxEmbeddingsPerCall,values:e});let{responseHeaders:a,value:i}=await e$({url:`${this.config.baseURL}/embeddings`,headers:ej(this.config.headers(),n),body:{model:this.modelId,input:e,encoding_format:"float"},failedResponseHandler:nZ,successfulResponseHandler:eY(n1),abortSignal:t,fetch:this.config.fetch});return{embeddings:i.data.map(e=>e.embedding),usage:i.usage?{tokens:i.usage.prompt_tokens}:void 0,rawResponse:{headers:a}}}},n1=nV.object({data:nV.array(nV.object({embedding:nV.array(nV.number())})),usage:nV.object({prompt_tokens:nV.number()}).nullish()});function n0(e={}){var t,n;let a=null!=(t=null==(n=e.baseURL)?void 0:n.replace(/\/$/,""))?t:"https://api.mistral.ai/v1",i=()=>({Authorization:`Bearer ${function({apiKey:e,environmentVariableName:t,apiKeyParameterName:n="apiKey",description:a}){if("string"==typeof e)return e;if(null!=e)throw new ey({message:`${a} API key must be a string.`});if("undefined"==typeof process)throw new ey({message:`${a} API key is missing. Pass it using the '${n}' parameter. Environment variables is not supported in this environment.`});if(null==(e=process.env[t]))throw new ey({message:`${a} API key is missing. Pass it using the '${n}' parameter or the ${t} environment variable.`});if("string"!=typeof e)throw new ey({message:`${a} API key must be a string. The value of the ${t} environment variable is not a string.`});return e}({apiKey:e.apiKey,environmentVariableName:"MISTRAL_API_KEY",description:"Mistral"})}`,...e.headers}),r=(t,n={})=>new nW(t,n,{provider:"mistral.chat",baseURL:a,headers:i,fetch:e.fetch}),o=(t,n={})=>new nQ(t,n,{provider:"mistral.embedding",baseURL:a,headers:i,fetch:e.fetch}),s=function(e,t){if(new.target)throw Error("The Mistral model function cannot be called with the new keyword.");return r(e,t)};return s.languageModel=r,s.chat=r,s.embedding=o,s.textEmbedding=o,s.textEmbeddingModel=o,s}n0();var n2=n(2019),n3=n(1216);let n4=Symbol("Let zodToJsonSchema decide on which parser to use"),n9={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",allowedAdditionalProperties:!0,rejectedAdditionalProperties:!1,definitionPath:"definitions",target:"jsonSchema7",strictUnions:!1,definitions:{},errorMessages:!1,markdownDescription:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref"},n7=e=>"string"==typeof e?{...n9,name:e}:{...n9,...e},n5=e=>{let t=n7(e),n=void 0!==t.name?[...t.basePath,t.definitionPath,t.name]:t.basePath;return{...t,currentPath:n,propertyPath:void 0,seen:new Map(Object.entries(t.definitions).map(([e,n])=>[n._def,{def:n._def,path:[...t.basePath,t.definitionPath,e],jsonSchema:void 0}]))}};function n6(e,t,n,a){a?.errorMessages&&n&&(e.errorMessage={...e.errorMessage,[t]:n})}function n8(e,t,n,a,i){e[t]=n,n6(e,t,a,i)}function ae(e,t){return ab(e.type._def,t)}let at=(e,t)=>ab(e.innerType._def,t),an=(e,t)=>{let n={type:"integer",format:"unix-time"};if("openApi3"===t.target)return n;for(let a of e.checks)switch(a.kind){case"min":n8(n,"minimum",a.value,a.message,t);break;case"max":n8(n,"maximum",a.value,a.message,t)}return n},aa=e=>(!("type"in e)||"string"!==e.type)&&"allOf"in e,ai={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:()=>(void 0===r&&(r=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),r),ipv4Cidr:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ipv6Cidr:/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,base64url:/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/,jwt:/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/};function ar(e,t){let n={type:"string"};if(e.checks)for(let a of e.checks)switch(a.kind){case"min":n8(n,"minLength","number"==typeof n.minLength?Math.max(n.minLength,a.value):a.value,a.message,t);break;case"max":n8(n,"maxLength","number"==typeof n.maxLength?Math.min(n.maxLength,a.value):a.value,a.message,t);break;case"email":switch(t.emailStrategy){case"format:email":al(n,"email",a.message,t);break;case"format:idn-email":al(n,"idn-email",a.message,t);break;case"pattern:zod":ac(n,ai.email,a.message,t)}break;case"url":al(n,"uri",a.message,t);break;case"uuid":al(n,"uuid",a.message,t);break;case"regex":ac(n,a.regex,a.message,t);break;case"cuid":ac(n,ai.cuid,a.message,t);break;case"cuid2":ac(n,ai.cuid2,a.message,t);break;case"startsWith":ac(n,RegExp(`^${ao(a.value,t)}`),a.message,t);break;case"endsWith":ac(n,RegExp(`${ao(a.value,t)}$`),a.message,t);break;case"datetime":al(n,"date-time",a.message,t);break;case"date":al(n,"date",a.message,t);break;case"time":al(n,"time",a.message,t);break;case"duration":al(n,"duration",a.message,t);break;case"length":n8(n,"minLength","number"==typeof n.minLength?Math.max(n.minLength,a.value):a.value,a.message,t),n8(n,"maxLength","number"==typeof n.maxLength?Math.min(n.maxLength,a.value):a.value,a.message,t);break;case"includes":ac(n,RegExp(ao(a.value,t)),a.message,t);break;case"ip":"v6"!==a.version&&al(n,"ipv4",a.message,t),"v4"!==a.version&&al(n,"ipv6",a.message,t);break;case"base64url":ac(n,ai.base64url,a.message,t);break;case"jwt":ac(n,ai.jwt,a.message,t);break;case"cidr":"v6"!==a.version&&ac(n,ai.ipv4Cidr,a.message,t),"v4"!==a.version&&ac(n,ai.ipv6Cidr,a.message,t);break;case"emoji":ac(n,ai.emoji(),a.message,t);break;case"ulid":ac(n,ai.ulid,a.message,t);break;case"base64":switch(t.base64Strategy){case"format:binary":al(n,"binary",a.message,t);break;case"contentEncoding:base64":n8(n,"contentEncoding","base64",a.message,t);break;case"pattern:zod":ac(n,ai.base64,a.message,t)}break;case"nanoid":ac(n,ai.nanoid,a.message,t)}return n}function ao(e,t){return"escape"===t.patternStrategy?function(e){let t="";for(let n=0;n<e.length;n++)as.has(e[n])||(t+="\\"),t+=e[n];return t}(e):e}let as=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function al(e,t,n,a){e.format||e.anyOf?.some(e=>e.format)?(e.anyOf||(e.anyOf=[]),e.format&&(e.anyOf.push({format:e.format,...e.errorMessage&&a.errorMessages&&{errorMessage:{format:e.errorMessage.format}}}),delete e.format,e.errorMessage&&(delete e.errorMessage.format,0===Object.keys(e.errorMessage).length&&delete e.errorMessage)),e.anyOf.push({format:t,...n&&a.errorMessages&&{errorMessage:{format:n}}})):n8(e,"format",t,n,a)}function ac(e,t,n,a){e.pattern||e.allOf?.some(e=>e.pattern)?(e.allOf||(e.allOf=[]),e.pattern&&(e.allOf.push({pattern:e.pattern,...e.errorMessage&&a.errorMessages&&{errorMessage:{pattern:e.errorMessage.pattern}}}),delete e.pattern,e.errorMessage&&(delete e.errorMessage.pattern,0===Object.keys(e.errorMessage).length&&delete e.errorMessage)),e.allOf.push({pattern:ad(t,a),...n&&a.errorMessages&&{errorMessage:{pattern:n}}})):n8(e,"pattern",ad(t,a),n,a)}function ad(e,t){if(!t.applyRegexFlags||!e.flags)return e.source;let n={i:e.flags.includes("i"),m:e.flags.includes("m"),s:e.flags.includes("s")},a=n.i?e.source.toLowerCase():e.source,i="",r=!1,o=!1,s=!1;for(let e=0;e<a.length;e++){if(r){i+=a[e],r=!1;continue}if(n.i){if(o){if(a[e].match(/[a-z]/)){s?(i+=a[e],i+=`${a[e-2]}-${a[e]}`.toUpperCase(),s=!1):"-"===a[e+1]&&a[e+2]?.match(/[a-z]/)?(i+=a[e],s=!0):i+=`${a[e]}${a[e].toUpperCase()}`;continue}}else if(a[e].match(/[a-z]/)){i+=`[${a[e]}${a[e].toUpperCase()}]`;continue}}if(n.m){if("^"===a[e]){i+=`(^|(?<=[\r
]))`;continue}if("$"===a[e]){i+=`($|(?=[\r
]))`;continue}}if(n.s&&"."===a[e]){i+=o?`${a[e]}\r
`:`[${a[e]}\r
]`;continue}i+=a[e],"\\"===a[e]?r=!0:o&&"]"===a[e]?o=!1:o||"["!==a[e]||(o=!0)}try{new RegExp(i)}catch{return console.warn(`Could not convert regex pattern at ${t.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),e.source}return i}function au(e,t){if("openAi"===t.target&&console.warn("Warning: OpenAI may not support records in schemas! Try an array of key-value pairs instead."),"openApi3"===t.target&&e.keyType?._def.typeName===I.ZodEnum)return{type:"object",required:e.keyType._def.values,properties:e.keyType._def.values.reduce((n,a)=>({...n,[a]:ab(e.valueType._def,{...t,currentPath:[...t.currentPath,"properties",a]})??{}}),{}),additionalProperties:t.rejectedAdditionalProperties};let n={type:"object",additionalProperties:ab(e.valueType._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]})??t.allowedAdditionalProperties};if("openApi3"===t.target)return n;if(e.keyType?._def.typeName===I.ZodString&&e.keyType._def.checks?.length){let{type:a,...i}=ar(e.keyType._def,t);return{...n,propertyNames:i}}if(e.keyType?._def.typeName===I.ZodEnum)return{...n,propertyNames:{enum:e.keyType._def.values}};if(e.keyType?._def.typeName===I.ZodBranded&&e.keyType._def.type._def.typeName===I.ZodString&&e.keyType._def.type._def.checks?.length){let{type:a,...i}=ae(e.keyType._def,t);return{...n,propertyNames:i}}return n}let ap={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"},ah=(e,t)=>{let n=(e.options instanceof Map?Array.from(e.options.values()):e.options).map((e,n)=>ab(e._def,{...t,currentPath:[...t.currentPath,"anyOf",`${n}`]})).filter(e=>!!e&&(!t.strictUnions||"object"==typeof e&&Object.keys(e).length>0));return n.length?{anyOf:n}:void 0},am=(e,t)=>{if(t.currentPath.toString()===t.propertyPath?.toString())return ab(e.innerType._def,t);let n=ab(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","1"]});return n?{anyOf:[{not:{}},n]}:{}},af=(e,t)=>{if("input"===t.pipeStrategy)return ab(e.in._def,t);if("output"===t.pipeStrategy)return ab(e.out._def,t);let n=ab(e.in._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),a=ab(e.out._def,{...t,currentPath:[...t.currentPath,"allOf",n?"1":"0"]});return{allOf:[n,a].filter(e=>void 0!==e)}},ag=(e,t)=>ab(e.innerType._def,t),ay=(e,t,n)=>{switch(t){case I.ZodString:return ar(e,n);case I.ZodNumber:return function(e,t){let n={type:"number"};if(!e.checks)return n;for(let a of e.checks)switch(a.kind){case"int":n.type="integer",n6(n,"type",a.message,t);break;case"min":"jsonSchema7"===t.target?a.inclusive?n8(n,"minimum",a.value,a.message,t):n8(n,"exclusiveMinimum",a.value,a.message,t):(a.inclusive||(n.exclusiveMinimum=!0),n8(n,"minimum",a.value,a.message,t));break;case"max":"jsonSchema7"===t.target?a.inclusive?n8(n,"maximum",a.value,a.message,t):n8(n,"exclusiveMaximum",a.value,a.message,t):(a.inclusive||(n.exclusiveMaximum=!0),n8(n,"maximum",a.value,a.message,t));break;case"multipleOf":n8(n,"multipleOf",a.value,a.message,t)}return n}(e,n);case I.ZodObject:return function(e,t){let n="openAi"===t.target,a={type:"object",properties:{}},i=[],r=e.shape();for(let e in r){let o=r[e];if(void 0===o||void 0===o._def)continue;let s=function(e){try{return e.isOptional()}catch{return!0}}(o);s&&n&&(o instanceof t6&&(o=o._def.innerType),o.isNullable()||(o=o.nullable()),s=!1);let l=ab(o._def,{...t,currentPath:[...t.currentPath,"properties",e],propertyPath:[...t.currentPath,"properties",e]});void 0!==l&&(a.properties[e]=l,s||i.push(e))}i.length&&(a.required=i);let o=function(e,t){if("ZodNever"!==e.catchall._def.typeName)return ab(e.catchall._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]});switch(e.unknownKeys){case"passthrough":return t.allowedAdditionalProperties;case"strict":return t.rejectedAdditionalProperties;case"strip":return"strict"===t.removeAdditionalStrategy?t.allowedAdditionalProperties:t.rejectedAdditionalProperties}}(e,t);return void 0!==o&&(a.additionalProperties=o),a}(e,n);case I.ZodBigInt:return function(e,t){let n={type:"integer",format:"int64"};if(!e.checks)return n;for(let a of e.checks)switch(a.kind){case"min":"jsonSchema7"===t.target?a.inclusive?n8(n,"minimum",a.value,a.message,t):n8(n,"exclusiveMinimum",a.value,a.message,t):(a.inclusive||(n.exclusiveMinimum=!0),n8(n,"minimum",a.value,a.message,t));break;case"max":"jsonSchema7"===t.target?a.inclusive?n8(n,"maximum",a.value,a.message,t):n8(n,"exclusiveMaximum",a.value,a.message,t):(a.inclusive||(n.exclusiveMaximum=!0),n8(n,"maximum",a.value,a.message,t));break;case"multipleOf":n8(n,"multipleOf",a.value,a.message,t)}return n}(e,n);case I.ZodBoolean:return{type:"boolean"};case I.ZodDate:return function e(t,n,a){let i=a??n.dateStrategy;if(Array.isArray(i))return{anyOf:i.map((a,i)=>e(t,n,a))};switch(i){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return an(t,n)}}(e,n);case I.ZodUndefined:return{not:{}};case I.ZodNull:return"openApi3"===n.target?{enum:["null"],nullable:!0}:{type:"null"};case I.ZodArray:return function(e,t){let n={type:"array"};return e.type?._def&&e.type?._def?.typeName!==I.ZodAny&&(n.items=ab(e.type._def,{...t,currentPath:[...t.currentPath,"items"]})),e.minLength&&n8(n,"minItems",e.minLength.value,e.minLength.message,t),e.maxLength&&n8(n,"maxItems",e.maxLength.value,e.maxLength.message,t),e.exactLength&&(n8(n,"minItems",e.exactLength.value,e.exactLength.message,t),n8(n,"maxItems",e.exactLength.value,e.exactLength.message,t)),n}(e,n);case I.ZodUnion:case I.ZodDiscriminatedUnion:return function(e,t){if("openApi3"===t.target)return ah(e,t);let n=e.options instanceof Map?Array.from(e.options.values()):e.options;if(n.every(e=>e._def.typeName in ap&&(!e._def.checks||!e._def.checks.length))){let e=n.reduce((e,t)=>{let n=ap[t._def.typeName];return n&&!e.includes(n)?[...e,n]:e},[]);return{type:e.length>1?e:e[0]}}if(n.every(e=>"ZodLiteral"===e._def.typeName&&!e.description)){let e=n.reduce((e,t)=>{let n=typeof t._def.value;switch(n){case"string":case"number":case"boolean":return[...e,n];case"bigint":return[...e,"integer"];case"object":if(null===t._def.value)return[...e,"null"];default:return e}},[]);if(e.length===n.length){let t=e.filter((e,t,n)=>n.indexOf(e)===t);return{type:t.length>1?t:t[0],enum:n.reduce((e,t)=>e.includes(t._def.value)?e:[...e,t._def.value],[])}}}else if(n.every(e=>"ZodEnum"===e._def.typeName))return{type:"string",enum:n.reduce((e,t)=>[...e,...t._def.values.filter(t=>!e.includes(t))],[])};return ah(e,t)}(e,n);case I.ZodIntersection:return function(e,t){let n=[ab(e.left._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),ab(e.right._def,{...t,currentPath:[...t.currentPath,"allOf","1"]})].filter(e=>!!e),a="jsonSchema2019-09"===t.target?{unevaluatedProperties:!1}:void 0,i=[];return n.forEach(e=>{if(aa(e))i.push(...e.allOf),void 0===e.unevaluatedProperties&&(a=void 0);else{let t=e;if("additionalProperties"in e&&!1===e.additionalProperties){let{additionalProperties:n,...a}=e;t=a}else a=void 0;i.push(t)}}),i.length?{allOf:i,...a}:void 0}(e,n);case I.ZodTuple:return function(e,t){return e.rest?{type:"array",minItems:e.items.length,items:e.items.map((e,n)=>ab(e._def,{...t,currentPath:[...t.currentPath,"items",`${n}`]})).reduce((e,t)=>void 0===t?e:[...e,t],[]),additionalItems:ab(e.rest._def,{...t,currentPath:[...t.currentPath,"additionalItems"]})}:{type:"array",minItems:e.items.length,maxItems:e.items.length,items:e.items.map((e,n)=>ab(e._def,{...t,currentPath:[...t.currentPath,"items",`${n}`]})).reduce((e,t)=>void 0===t?e:[...e,t],[])}}(e,n);case I.ZodRecord:return au(e,n);case I.ZodLiteral:return function(e,t){let n=typeof e.value;return"bigint"!==n&&"number"!==n&&"boolean"!==n&&"string"!==n?{type:Array.isArray(e.value)?"array":"object"}:"openApi3"===t.target?{type:"bigint"===n?"integer":n,enum:[e.value]}:{type:"bigint"===n?"integer":n,const:e.value}}(e,n);case I.ZodEnum:return{type:"string",enum:Array.from(e.values)};case I.ZodNativeEnum:return function(e){let t=e.values,n=Object.keys(e.values).filter(e=>"number"!=typeof t[t[e]]).map(e=>t[e]),a=Array.from(new Set(n.map(e=>typeof e)));return{type:1===a.length?"string"===a[0]?"string":"number":["string","number"],enum:n}}(e);case I.ZodNullable:return function(e,t){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(e.innerType._def.typeName)&&(!e.innerType._def.checks||!e.innerType._def.checks.length))return"openApi3"===t.target?{type:ap[e.innerType._def.typeName],nullable:!0}:{type:[ap[e.innerType._def.typeName],"null"]};if("openApi3"===t.target){let n=ab(e.innerType._def,{...t,currentPath:[...t.currentPath]});return n&&"$ref"in n?{allOf:[n],nullable:!0}:n&&{...n,nullable:!0}}let n=ab(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","0"]});return n&&{anyOf:[n,{type:"null"}]}}(e,n);case I.ZodOptional:return am(e,n);case I.ZodMap:return function(e,t){return"record"===t.mapStrategy?au(e,t):{type:"array",maxItems:125,items:{type:"array",items:[ab(e.keyType._def,{...t,currentPath:[...t.currentPath,"items","items","0"]})||{},ab(e.valueType._def,{...t,currentPath:[...t.currentPath,"items","items","1"]})||{}],minItems:2,maxItems:2}}}(e,n);case I.ZodSet:return function(e,t){let n={type:"array",uniqueItems:!0,items:ab(e.valueType._def,{...t,currentPath:[...t.currentPath,"items"]})};return e.minSize&&n8(n,"minItems",e.minSize.value,e.minSize.message,t),e.maxSize&&n8(n,"maxItems",e.maxSize.value,e.maxSize.message,t),n}(e,n);case I.ZodLazy:return()=>e.getter()._def;case I.ZodPromise:return ab(e.type._def,n);case I.ZodNaN:case I.ZodNever:return{not:{}};case I.ZodEffects:return function(e,t){return"input"===t.effectStrategy?ab(e.schema._def,t):{}}(e,n);case I.ZodAny:case I.ZodUnknown:return{};case I.ZodDefault:return function(e,t){return{...ab(e.innerType._def,t),default:e.defaultValue()}}(e,n);case I.ZodBranded:return ae(e,n);case I.ZodReadonly:return ag(e,n);case I.ZodCatch:return at(e,n);case I.ZodPipeline:return af(e,n);case I.ZodFunction:case I.ZodVoid:case I.ZodSymbol:default:return}};function ab(e,t,n=!1){let a=t.seen.get(e);if(t.override){let i=t.override?.(e,t,a,n);if(i!==n4)return i}if(a&&!n){let e=av(a,t);if(void 0!==e)return e}let i={def:e,path:t.currentPath,jsonSchema:void 0};t.seen.set(e,i);let r=ay(e,e.typeName,t),o="function"==typeof r?ab(r(),t):r;if(o&&aA(e,t,o),t.postProcess){let n=t.postProcess(o,e,t);return i.jsonSchema=o,n}return i.jsonSchema=o,o}let av=(e,t)=>{switch(t.$refStrategy){case"root":return{$ref:e.path.join("/")};case"relative":return{$ref:aw(t.currentPath,e.path)};case"none":case"seen":if(e.path.length<t.currentPath.length&&e.path.every((e,n)=>t.currentPath[n]===e))return console.warn(`Recursive reference detected at ${t.currentPath.join("/")}! Defaulting to any`),{};return"seen"===t.$refStrategy?{}:void 0}},aw=(e,t)=>{let n=0;for(;n<e.length&&n<t.length&&e[n]===t[n];n++);return[(e.length-n).toString(),...t.slice(n)].join("/")},aA=(e,t,n)=>(e.description&&(n.description=e.description,t.markdownDescription&&(n.markdownDescription=e.description)),n),aI=(e,t)=>{let n=n5(t),a="object"==typeof t&&t.definitions?Object.entries(t.definitions).reduce((e,[t,a])=>({...e,[t]:ab(a._def,{...n,currentPath:[...n.basePath,n.definitionPath,t]},!0)??{}}),{}):void 0,i="string"==typeof t?t:t?.nameStrategy==="title"?void 0:t?.name,r=ab(e._def,void 0===i?n:{...n,currentPath:[...n.basePath,n.definitionPath,i]},!1)??{},o="object"==typeof t&&void 0!==t.name&&"title"===t.nameStrategy?t.name:void 0;void 0!==o&&(r.title=o);let s=void 0===i?a?{...r,[n.definitionPath]:a}:r:{$ref:[..."relative"===n.$refStrategy?[]:n.basePath,n.definitionPath,i].join("/"),[n.definitionPath]:{...a,[i]:r}};return"jsonSchema7"===n.target?s.$schema="http://json-schema.org/draft-07/schema#":("jsonSchema2019-09"===n.target||"openAi"===n.target)&&(s.$schema="https://json-schema.org/draft/2019-09/schema#"),"openAi"===n.target&&("anyOf"in s||"oneOf"in s||"allOf"in s||"type"in s&&Array.isArray(s.type))&&console.warn("Warning: OpenAI may not support schemas with unions as roots! Try wrapping it in an object property."),s};var aP={code:"0",name:"text",parse:e=>{if("string"!=typeof e)throw Error('"text" parts expect a string value.');return{type:"text",value:e}}},aC={code:"3",name:"error",parse:e=>{if("string"!=typeof e)throw Error('"error" parts expect a string value.');return{type:"error",value:e}}},aT={code:"4",name:"assistant_message",parse:e=>{if(null==e||"object"!=typeof e||!("id"in e)||!("role"in e)||!("content"in e)||"string"!=typeof e.id||"string"!=typeof e.role||"assistant"!==e.role||!Array.isArray(e.content)||!e.content.every(e=>null!=e&&"object"==typeof e&&"type"in e&&"text"===e.type&&"text"in e&&null!=e.text&&"object"==typeof e.text&&"value"in e.text&&"string"==typeof e.text.value))throw Error('"assistant_message" parts expect an object with an "id", "role", and "content" property.');return{type:"assistant_message",value:e}}},aS={code:"5",name:"assistant_control_data",parse:e=>{if(null==e||"object"!=typeof e||!("threadId"in e)||!("messageId"in e)||"string"!=typeof e.threadId||"string"!=typeof e.messageId)throw Error('"assistant_control_data" parts expect an object with a "threadId" and "messageId" property.');return{type:"assistant_control_data",value:{threadId:e.threadId,messageId:e.messageId}}}},aE={code:"6",name:"data_message",parse:e=>{if(null==e||"object"!=typeof e||!("role"in e)||!("data"in e)||"string"!=typeof e.role||"data"!==e.role)throw Error('"data_message" parts expect an object with a "role" and "data" property.');return{type:"data_message",value:e}}},a_=[aP,aC,aT,aS,aE];aP.code,aC.code,aT.code,aS.code,aE.code,aP.name,aP.code,aC.name,aC.code,aT.name,aT.code,aS.name,aS.code,aE.name,aE.code,a_.map(e=>e.code);var ax=[{code:"0",name:"text",parse:e=>{if("string"!=typeof e)throw Error('"text" parts expect a string value.');return{type:"text",value:e}}},{code:"2",name:"data",parse:e=>{if(!Array.isArray(e))throw Error('"data" parts expect an array value.');return{type:"data",value:e}}},{code:"3",name:"error",parse:e=>{if("string"!=typeof e)throw Error('"error" parts expect a string value.');return{type:"error",value:e}}},{code:"8",name:"message_annotations",parse:e=>{if(!Array.isArray(e))throw Error('"message_annotations" parts expect an array value.');return{type:"message_annotations",value:e}}},{code:"9",name:"tool_call",parse:e=>{if(null==e||"object"!=typeof e||!("toolCallId"in e)||"string"!=typeof e.toolCallId||!("toolName"in e)||"string"!=typeof e.toolName||!("args"in e)||"object"!=typeof e.args)throw Error('"tool_call" parts expect an object with a "toolCallId", "toolName", and "args" property.');return{type:"tool_call",value:e}}},{code:"a",name:"tool_result",parse:e=>{if(null==e||"object"!=typeof e||!("toolCallId"in e)||"string"!=typeof e.toolCallId||!("result"in e))throw Error('"tool_result" parts expect an object with a "toolCallId" and a "result" property.');return{type:"tool_result",value:e}}},{code:"b",name:"tool_call_streaming_start",parse:e=>{if(null==e||"object"!=typeof e||!("toolCallId"in e)||"string"!=typeof e.toolCallId||!("toolName"in e)||"string"!=typeof e.toolName)throw Error('"tool_call_streaming_start" parts expect an object with a "toolCallId" and "toolName" property.');return{type:"tool_call_streaming_start",value:e}}},{code:"c",name:"tool_call_delta",parse:e=>{if(null==e||"object"!=typeof e||!("toolCallId"in e)||"string"!=typeof e.toolCallId||!("argsTextDelta"in e)||"string"!=typeof e.argsTextDelta)throw Error('"tool_call_delta" parts expect an object with a "toolCallId" and "argsTextDelta" property.');return{type:"tool_call_delta",value:e}}},{code:"d",name:"finish_message",parse:e=>{if(null==e||"object"!=typeof e||!("finishReason"in e)||"string"!=typeof e.finishReason)throw Error('"finish_message" parts expect an object with a "finishReason" property.');let t={finishReason:e.finishReason};return"usage"in e&&null!=e.usage&&"object"==typeof e.usage&&"promptTokens"in e.usage&&"completionTokens"in e.usage&&(t.usage={promptTokens:"number"==typeof e.usage.promptTokens?e.usage.promptTokens:Number.NaN,completionTokens:"number"==typeof e.usage.completionTokens?e.usage.completionTokens:Number.NaN}),{type:"finish_message",value:t}}},{code:"e",name:"finish_step",parse:e=>{if(null==e||"object"!=typeof e||!("finishReason"in e)||"string"!=typeof e.finishReason)throw Error('"finish_step" parts expect an object with a "finishReason" property.');let t={finishReason:e.finishReason,isContinued:!1};return"usage"in e&&null!=e.usage&&"object"==typeof e.usage&&"promptTokens"in e.usage&&"completionTokens"in e.usage&&(t.usage={promptTokens:"number"==typeof e.usage.promptTokens?e.usage.promptTokens:Number.NaN,completionTokens:"number"==typeof e.usage.completionTokens?e.usage.completionTokens:Number.NaN}),"isContinued"in e&&"boolean"==typeof e.isContinued&&(t.isContinued=e.isContinued),{type:"finish_step",value:t}}},{code:"f",name:"start_step",parse:e=>{if(null==e||"object"!=typeof e||!("messageId"in e)||"string"!=typeof e.messageId)throw Error('"start_step" parts expect an object with an "id" property.');return{type:"start_step",value:{messageId:e.messageId}}}},{code:"g",name:"reasoning",parse:e=>{if("string"!=typeof e)throw Error('"reasoning" parts expect a string value.');return{type:"reasoning",value:e}}},{code:"h",name:"source",parse:e=>{if(null==e||"object"!=typeof e)throw Error('"source" parts expect a Source object.');return{type:"source",value:e}}},{code:"i",name:"redacted_reasoning",parse:e=>{if(null==e||"object"!=typeof e||!("data"in e)||"string"!=typeof e.data)throw Error('"redacted_reasoning" parts expect an object with a "data" property.');return{type:"redacted_reasoning",value:{data:e.data}}}},{code:"j",name:"reasoning_signature",parse:e=>{if(null==e||"object"!=typeof e||!("signature"in e)||"string"!=typeof e.signature)throw Error('"reasoning_signature" parts expect an object with a "signature" property.');return{type:"reasoning_signature",value:{signature:e.signature}}}},{code:"k",name:"file",parse:e=>{if(null==e||"object"!=typeof e||!("data"in e)||"string"!=typeof e.data||!("mimeType"in e)||"string"!=typeof e.mimeType)throw Error('"file" parts expect an object with a "data" and "mimeType" property.');return{type:"file",value:e}}}],aM=Object.fromEntries(ax.map(e=>[e.code,e]));Object.fromEntries(ax.map(e=>[e.name,e.code]));var ak=ax.map(e=>e.code),aR=e=>{let t=e.indexOf(":");if(-1===t)throw Error("Failed to parse stream string. No separator found.");let n=e.slice(0,t);if(!ak.includes(n))throw Error(`Failed to parse stream string. Invalid code ${n}.`);let a=JSON.parse(e.slice(t+1));return aM[n].parse(a)};function aN(e,t){let n=ax.find(t=>t.name===e);if(!n)throw Error(`Invalid stream part type: ${e}`);return`${n.code}:${JSON.stringify(t)}
`}var aO=Symbol.for("vercel.ai.schema");function aD(e){return"object"==typeof e&&null!==e&&aO in e&&!0===e[aO]&&"jsonSchema"in e&&"validate"in e?e:function(e,{validate:t}={}){return{[aO]:!0,_type:void 0,[eq]:!0,jsonSchema:e,validate:t}}(aI(e,{$refStrategy:"none",target:"jsonSchema7"}),{validate:t=>{let n=e.safeParse(t);return n.success?{success:!0,value:n.data}:{success:!1,error:n.error}}})}var aL=Object.defineProperty,aj=(e,t)=>{for(var n in t)aL(e,n,{get:t[n],enumerable:!0})};function aF(e,{contentType:t,dataStreamVersion:n}){let a=new Headers(null!=e?e:{});return a.has("Content-Type")||a.set("Content-Type",t),void 0!==n&&a.set("X-Vercel-AI-Data-Stream",n),a}function aB(e,{contentType:t,dataStreamVersion:n}){let a={};if(null!=e)for(let[t,n]of Object.entries(e))a[t]=n;return null==a["Content-Type"]&&(a["Content-Type"]=t),void 0!==n&&(a["X-Vercel-AI-Data-Stream"]=n),a}function aH({response:e,status:t,statusText:n,headers:a,stream:i}){e.writeHead(null!=t?t:200,n,a);let r=i.getReader();(async()=>{try{for(;;){let{done:t,value:n}=await r.read();if(t)break;e.write(n)}}catch(e){throw e}finally{e.end()}})()}var aU="AI_InvalidArgumentError",az=`vercel.ai.error.${aU}`,aq=Symbol.for(az),aV=class extends Z{constructor({parameter:e,value:t,message:n}){super({name:aU,message:`Invalid argument for parameter ${e}: ${n}`}),this[P]=!0,this.parameter=e,this.value=t}static isInstance(e){return Z.hasMarker(e,az)}};P=aq;var aG="AI_RetryError",aZ=`vercel.ai.error.${aG}`,a$=Symbol.for(aZ),aW=class extends Z{constructor({message:e,reason:t,errors:n}){super({name:aG,message:e}),this[C]=!0,this.reason=t,this.errors=n,this.lastError=n[n.length-1]}static isInstance(e){return Z.hasMarker(e,aZ)}};C=a$;var aK=({maxRetries:e=2,initialDelayInMs:t=2e3,backoffFactor:n=2}={})=>async a=>aY(a,{maxRetries:e,delayInMs:t,backoffFactor:n});async function aY(e,{maxRetries:t,delayInMs:n,backoffFactor:a},i=[]){try{return await e()}catch(l){if(ez(l)||0===t)throw l;let r=null==l?"unknown error":"string"==typeof l?l:l instanceof Error?l.message:JSON.stringify(l),o=[...i,l],s=o.length;if(s>t)throw new aW({message:`Failed after ${s} attempts. Last error: ${r}`,reason:"maxRetriesExceeded",errors:o});if(l instanceof Error&&Y.isInstance(l)&&!0===l.isRetryable&&s<=t)return await eF(n),aY(e,{maxRetries:t,delayInMs:a*n,backoffFactor:a},o);if(1===s)throw l;throw new aW({message:`Failed after ${s} attempts with non-retryable error: '${r}'`,reason:"errorNotRetryable",errors:o})}}function aX({operationId:e,telemetry:t}){return{"operation.name":`${e}${(null==t?void 0:t.functionId)!=null?` ${t.functionId}`:""}`,"resource.name":null==t?void 0:t.functionId,"ai.operationId":e,"ai.telemetry.functionId":null==t?void 0:t.functionId}}var aJ={startSpan:()=>aQ,startActiveSpan:(e,t,n,a)=>"function"==typeof t?t(aQ):"function"==typeof n?n(aQ):"function"==typeof a?a(aQ):void 0},aQ={spanContext:()=>a1,setAttribute(){return this},setAttributes(){return this},addEvent(){return this},addLink(){return this},addLinks(){return this},setStatus(){return this},updateName(){return this},end(){return this},isRecording:()=>!1,recordException(){return this}},a1={traceId:"",spanId:"",traceFlags:0};function a0({name:e,tracer:t,attributes:n,fn:a,endWhenDone:i=!0}){return t.startActiveSpan(e,{attributes:n},async e=>{try{let t=await a(e);return i&&e.end(),t}catch(t){try{t instanceof Error?(e.recordException({name:t.name,message:t.message,stack:t.stack}),e.setStatus({code:n3.s.ERROR,message:t.message})):e.setStatus({code:n3.s.ERROR})}finally{e.end()}throw t}})}function a2({telemetry:e,attributes:t}){return(null==e?void 0:e.isEnabled)!==!0?{}:Object.entries(t).reduce((t,[n,a])=>{if(void 0===a)return t;if("object"==typeof a&&"input"in a&&"function"==typeof a.input){if((null==e?void 0:e.recordInputs)===!1)return t;let i=a.input();return void 0===i?t:{...t,[n]:i}}if("object"==typeof a&&"output"in a&&"function"==typeof a.output){if((null==e?void 0:e.recordOutputs)===!1)return t;let i=a.output();return void 0===i?t:{...t,[n]:i}}return{...t,[n]:a}},{})}Symbol.for("vercel.ai.error.AI_NoImageGeneratedError");var a3=class{constructor({data:e,mimeType:t}){let n=e instanceof Uint8Array;this.base64Data=n?void 0:e,this.uint8ArrayData=n?e:void 0,this.mimeType=t}get base64(){return null==this.base64Data&&(this.base64Data=e1(this.uint8ArrayData)),this.base64Data}get uint8Array(){return null==this.uint8ArrayData&&(this.uint8ArrayData=eQ(this.base64Data)),this.uint8ArrayData}},a4=class extends a3{constructor(e){super(e),this.type="file"}},a9=[{mimeType:"image/gif",bytesPrefix:[71,73,70],base64Prefix:"R0lG"},{mimeType:"image/png",bytesPrefix:[137,80,78,71],base64Prefix:"iVBORw"},{mimeType:"image/jpeg",bytesPrefix:[255,216],base64Prefix:"/9j/"},{mimeType:"image/webp",bytesPrefix:[82,73,70,70],base64Prefix:"UklGRg"},{mimeType:"image/bmp",bytesPrefix:[66,77],base64Prefix:"Qk"},{mimeType:"image/tiff",bytesPrefix:[73,73,42,0],base64Prefix:"SUkqAA"},{mimeType:"image/tiff",bytesPrefix:[77,77,0,42],base64Prefix:"TU0AKg"},{mimeType:"image/avif",bytesPrefix:[0,0,0,32,102,116,121,112,97,118,105,102],base64Prefix:"AAAAIGZ0eXBhdmlm"},{mimeType:"image/heic",bytesPrefix:[0,0,0,32,102,116,121,112,104,101,105,99],base64Prefix:"AAAAIGZ0eXBoZWlj"}],a7=e=>{let t="string"==typeof e?eQ(e):e,n=(127&t[6])<<21|(127&t[7])<<14|(127&t[8])<<7|127&t[9];return t.slice(n+10)},a5="AI_NoObjectGeneratedError",a6=`vercel.ai.error.${a5}`,a8=Symbol.for(a6),ie=class extends Z{constructor({message:e="No object generated.",cause:t,text:n,response:a,usage:i,finishReason:r}){super({name:a5,message:e,cause:t}),this[S]=!0,this.text=n,this.response=a,this.usage=i,this.finishReason=r}static isInstance(e){return Z.hasMarker(e,a6)}};S=a8;var it="AI_DownloadError",ia=`vercel.ai.error.${it}`,ii=Symbol.for(ia),ir=class extends Z{constructor({url:e,statusCode:t,statusText:n,cause:a,message:i=null==a?`Failed to download ${e}: ${t} ${n}`:`Failed to download ${e}: ${a}`}){super({name:it,message:i,cause:a}),this[E]=!0,this.url=e,this.statusCode=t,this.statusText=n}static isInstance(e){return Z.hasMarker(e,ia)}};async function io({url:e}){var t;let n=e.toString();try{let e=await fetch(n);if(!e.ok)throw new ir({url:n,statusCode:e.status,statusText:e.statusText});return{data:new Uint8Array(await e.arrayBuffer()),mimeType:null!=(t=e.headers.get("content-type"))?t:void 0}}catch(e){if(ir.isInstance(e))throw e;throw new ir({url:n,cause:e})}}E=ii;var is="AI_InvalidDataContentError",il=`vercel.ai.error.${is}`,ic=Symbol.for(il),id=class extends Z{constructor({content:e,cause:t,message:n=`Invalid data content. Expected a base64 string, Uint8Array, ArrayBuffer, or Buffer, but got ${typeof e}.`}){super({name:is,message:n,cause:t}),this[_]=!0,this.content=e}static isInstance(e){return Z.hasMarker(e,il)}};_=ic;var iu=nV.union([nV.string(),nV.instanceof(Uint8Array),nV.instanceof(ArrayBuffer),nV.custom(e=>{var t,n;return null!=(n=null==(t=globalThis.Buffer)?void 0:t.isBuffer(e))&&n},{message:"Must be a Buffer"})]);function ip(e){return"string"==typeof e?e:e instanceof ArrayBuffer?e1(new Uint8Array(e)):e1(e)}function ih(e){if(e instanceof Uint8Array)return e;if("string"==typeof e)try{return eQ(e)}catch(t){throw new id({message:"Invalid data content. Content string is not a base64-encoded media.",content:e,cause:t})}if(e instanceof ArrayBuffer)return new Uint8Array(e);throw new id({content:e})}var im="AI_InvalidMessageRoleError",ig=`vercel.ai.error.${im}`,iy=Symbol.for(ig),ib=class extends Z{constructor({role:e,message:t=`Invalid message role: '${e}'. Must be one of: "system", "user", "assistant", "tool".`}){super({name:im,message:t}),this[x]=!0,this.role=e}static isInstance(e){return Z.hasMarker(e,ig)}};async function iv({prompt:e,modelSupportsImageUrls:t=!0,modelSupportsUrl:n=()=>!1,downloadImplementation:a=io}){let i=await iw(e.messages,a,t,n);return[...null!=e.system?[{role:"system",content:e.system}]:[],...e.messages.map(e=>(function(e,t){var n,a,i,r,o,s;let l=e.role;switch(l){case"system":return{role:"system",content:e.content,providerMetadata:null!=(n=e.providerOptions)?n:e.experimental_providerMetadata};case"user":if("string"==typeof e.content)return{role:"user",content:[{type:"text",text:e.content}],providerMetadata:null!=(a=e.providerOptions)?a:e.experimental_providerMetadata};return{role:"user",content:e.content.map(e=>(function(e,t){var n,a,i,r;let o,s,l;if("text"===e.type)return{type:"text",text:e.text,providerMetadata:null!=(n=e.providerOptions)?n:e.experimental_providerMetadata};let c=e.mimeType,d=e.type;switch(d){case"image":o=e.image;break;case"file":o=e.data;break;default:throw Error(`Unsupported part type: ${d}`)}try{s="string"==typeof o?new URL(o):o}catch(e){s=o}if(s instanceof URL){if("data:"===s.protocol){let{mimeType:e,base64Content:t}=function(e){try{let[t,n]=e.split(",");return{mimeType:t.split(";")[0].split(":")[1],base64Content:n}}catch(e){return{mimeType:void 0,base64Content:void 0}}}(s.toString());if(null==e||null==t)throw Error(`Invalid data URL format in part ${d}`);c=e,l=ih(t)}else{let e=t[s.toString()];e?(l=e.data,null!=c||(c=e.mimeType)):l=s}}else l=ih(s);switch(d){case"image":return l instanceof Uint8Array&&(c=null!=(a=function({data:e,signatures:t}){let n="string"==typeof e&&e.startsWith("SUQz")||"string"!=typeof e&&e.length>10&&73===e[0]&&68===e[1]&&51===e[2]?a7(e):e;for(let e of t)if("string"==typeof n?n.startsWith(e.base64Prefix):n.length>=e.bytesPrefix.length&&e.bytesPrefix.every((e,t)=>n[t]===e))return e.mimeType}({data:l,signatures:a9}))?a:c),{type:"image",image:l,mimeType:c,providerMetadata:null!=(i=e.providerOptions)?i:e.experimental_providerMetadata};case"file":if(null==c)throw Error("Mime type is missing for file part");return{type:"file",data:l instanceof Uint8Array?ip(l):l,filename:e.filename,mimeType:c,providerMetadata:null!=(r=e.providerOptions)?r:e.experimental_providerMetadata}}})(e,t)).filter(e=>"text"!==e.type||""!==e.text),providerMetadata:null!=(i=e.providerOptions)?i:e.experimental_providerMetadata};case"assistant":if("string"==typeof e.content)return{role:"assistant",content:[{type:"text",text:e.content}],providerMetadata:null!=(r=e.providerOptions)?r:e.experimental_providerMetadata};return{role:"assistant",content:e.content.filter(e=>"text"!==e.type||""!==e.text).map(e=>{var t;let n=null!=(t=e.providerOptions)?t:e.experimental_providerMetadata;switch(e.type){case"file":return{type:"file",data:e.data instanceof URL?e.data:ip(e.data),filename:e.filename,mimeType:e.mimeType,providerMetadata:n};case"reasoning":return{type:"reasoning",text:e.text,signature:e.signature,providerMetadata:n};case"redacted-reasoning":return{type:"redacted-reasoning",data:e.data,providerMetadata:n};case"text":return{type:"text",text:e.text,providerMetadata:n};case"tool-call":return{type:"tool-call",toolCallId:e.toolCallId,toolName:e.toolName,args:e.args,providerMetadata:n}}}),providerMetadata:null!=(o=e.providerOptions)?o:e.experimental_providerMetadata};case"tool":return{role:"tool",content:e.content.map(e=>{var t;return{type:"tool-result",toolCallId:e.toolCallId,toolName:e.toolName,result:e.result,content:e.experimental_content,isError:e.isError,providerMetadata:null!=(t=e.providerOptions)?t:e.experimental_providerMetadata}}),providerMetadata:null!=(s=e.providerOptions)?s:e.experimental_providerMetadata};default:throw new ib({role:l})}})(e,i))]}async function iw(e,t,n,a){let i=e.filter(e=>"user"===e.role).map(e=>e.content).filter(e=>Array.isArray(e)).flat().filter(e=>"image"===e.type||"file"===e.type).filter(e=>!("image"===e.type&&!0===n)).map(e=>"image"===e.type?e.image:e.data).map(e=>"string"==typeof e&&(e.startsWith("http:")||e.startsWith("https:"))?new URL(e):e).filter(e=>e instanceof URL).filter(e=>!a(e));return Object.fromEntries((await Promise.all(i.map(async e=>({url:e,data:await t({url:e})})))).map(({url:e,data:t})=>[e.toString(),t]))}function iA(e){var t,n,a;let i=[];for(let r of e){let e;try{e=new URL(r.url)}catch(e){throw Error(`Invalid URL: ${r.url}`)}switch(e.protocol){case"http:":case"https:":if(null==(t=r.contentType)?void 0:t.startsWith("image/"))i.push({type:"image",image:e});else{if(!r.contentType)throw Error("If the attachment is not an image, it must specify a content type");i.push({type:"file",data:e,mimeType:r.contentType})}break;case"data:":{let e,t,o;try{[e,t]=r.url.split(","),o=e.split(";")[0].split(":")[1]}catch(e){throw Error(`Error processing data URL: ${r.url}`)}if(null==o||null==t)throw Error(`Invalid data URL format: ${r.url}`);if(null==(n=r.contentType)?void 0:n.startsWith("image/"))i.push({type:"image",image:ih(t)});else if(null==(a=r.contentType)?void 0:a.startsWith("text/"))i.push({type:"text",text:function(e){try{return new TextDecoder().decode(e)}catch(e){throw Error("Error decoding Uint8Array to text")}}(ih(t))});else{if(!r.contentType)throw Error("If the attachment is not an image or text, it must specify a content type");i.push({type:"file",data:t,mimeType:r.contentType})}break}default:throw Error(`Unsupported URL protocol: ${e.protocol}`)}}return i}x=iy;var iI="AI_MessageConversionError",iP=`vercel.ai.error.${iI}`,iC=Symbol.for(iP),iT=class extends Z{constructor({originalMessage:e,message:t}){super({name:iI,message:t}),this[M]=!0,this.originalMessage=e}static isInstance(e){return Z.hasMarker(e,iP)}};function iS(e){return"object"==typeof e&&null!==e&&("function"===e.role||"data"===e.role||"toolInvocations"in e||"parts"in e||"experimental_attachments"in e)?"has-ui-specific-parts":"object"==typeof e&&null!==e&&"content"in e&&(Array.isArray(e.content)||"experimental_providerMetadata"in e||"providerOptions"in e)?"has-core-specific-parts":"object"==typeof e&&null!==e&&"role"in e&&"content"in e&&"string"==typeof e.content&&["system","user","assistant","tool"].includes(e.role)?"message":"other"}M=iC;var iE=nV.lazy(()=>nV.union([nV.null(),nV.string(),nV.number(),nV.boolean(),nV.record(nV.string(),iE),nV.array(iE)])),i_=nV.record(nV.string(),nV.record(nV.string(),iE)),ix=nV.array(nV.union([nV.object({type:nV.literal("text"),text:nV.string()}),nV.object({type:nV.literal("image"),data:nV.string(),mimeType:nV.string().optional()})])),iM=nV.object({type:nV.literal("text"),text:nV.string(),providerOptions:i_.optional(),experimental_providerMetadata:i_.optional()}),ik=nV.object({type:nV.literal("image"),image:nV.union([iu,nV.instanceof(URL)]),mimeType:nV.string().optional(),providerOptions:i_.optional(),experimental_providerMetadata:i_.optional()}),iR=nV.object({type:nV.literal("file"),data:nV.union([iu,nV.instanceof(URL)]),filename:nV.string().optional(),mimeType:nV.string(),providerOptions:i_.optional(),experimental_providerMetadata:i_.optional()}),iN=nV.object({type:nV.literal("reasoning"),text:nV.string(),providerOptions:i_.optional(),experimental_providerMetadata:i_.optional()}),iO=nV.object({type:nV.literal("redacted-reasoning"),data:nV.string(),providerOptions:i_.optional(),experimental_providerMetadata:i_.optional()}),iD=nV.object({type:nV.literal("tool-call"),toolCallId:nV.string(),toolName:nV.string(),args:nV.unknown(),providerOptions:i_.optional(),experimental_providerMetadata:i_.optional()}),iL=nV.object({type:nV.literal("tool-result"),toolCallId:nV.string(),toolName:nV.string(),result:nV.unknown(),content:ix.optional(),isError:nV.boolean().optional(),providerOptions:i_.optional(),experimental_providerMetadata:i_.optional()}),ij=nV.object({role:nV.literal("system"),content:nV.string(),providerOptions:i_.optional(),experimental_providerMetadata:i_.optional()}),iF=nV.object({role:nV.literal("user"),content:nV.union([nV.string(),nV.array(nV.union([iM,ik,iR]))]),providerOptions:i_.optional(),experimental_providerMetadata:i_.optional()}),iB=nV.object({role:nV.literal("assistant"),content:nV.union([nV.string(),nV.array(nV.union([iM,iR,iN,iO,iD]))]),providerOptions:i_.optional(),experimental_providerMetadata:i_.optional()}),iH=nV.object({role:nV.literal("tool"),content:nV.array(iL),providerOptions:i_.optional(),experimental_providerMetadata:i_.optional()}),iU=nV.union([ij,iF,iB,iH]);function iz(e){let t=e.pipeThrough(new TransformStream);return t[Symbol.asyncIterator]=()=>{let e=t.getReader();return{async next(){let{done:t,value:n}=await e.read();return t?{done:!0,value:void 0}:{done:!1,value:n}}}},t}eH({prefix:"aiobj",size:24});var iq=class{constructor(){this.status={type:"pending"},this._resolve=void 0,this._reject=void 0}get value(){return this.promise||(this.promise=new Promise((e,t)=>{"resolved"===this.status.type?e(this.status.value):"rejected"===this.status.type&&t(this.status.error),this._resolve=e,this._reject=t})),this.promise}resolve(e){var t;this.status={type:"resolved",value:e},this.promise&&(null==(t=this._resolve)||t.call(this,e))}reject(e){var t;this.status={type:"rejected",error:e},this.promise&&(null==(t=this._reject)||t.call(this,e))}};function iV(){let e,t;return{promise:new Promise((n,a)=>{e=n,t=a}),resolve:e,reject:t}}eH({prefix:"aiobj",size:24});var iG="AI_NoOutputSpecifiedError",iZ=`vercel.ai.error.${iG}`,i$=Symbol.for(iZ),iW=class extends Z{constructor({message:e="No output specified."}={}){super({name:iG,message:e}),this[k]=!0}static isInstance(e){return Z.hasMarker(e,iZ)}};k=i$;var iK="AI_ToolExecutionError",iY=`vercel.ai.error.${iK}`,iX=Symbol.for(iY),iJ=class extends Z{constructor({toolArgs:e,toolName:t,toolCallId:n,cause:a,message:i=`Error executing tool ${t}: ${et(a)}`}){super({name:iK,message:i,cause:a}),this[R]=!0,this.toolArgs=e,this.toolName=t,this.toolCallId=n}static isInstance(e){return Z.hasMarker(e,iY)}};R=iX;var iQ=/^([\s\S]*?)(\s+)(\S*)$/,i1="AI_InvalidToolArgumentsError",i0=`vercel.ai.error.${i1}`,i2=Symbol.for(i0),i3=class extends Z{constructor({toolArgs:e,toolName:t,cause:n,message:a=`Invalid arguments for tool ${t}: ${et(n)}`}){super({name:i1,message:a,cause:n}),this[N]=!0,this.toolArgs=e,this.toolName=t}static isInstance(e){return Z.hasMarker(e,i0)}};N=i2;var i4="AI_NoSuchToolError",i9=`vercel.ai.error.${i4}`,i7=Symbol.for(i9),i5=class extends Z{constructor({toolName:e,availableTools:t,message:n=`Model tried to call unavailable tool '${e}'. ${void 0===t?"No tools are available.":`Available tools: ${t.join(", ")}.`}`}){super({name:i4,message:n}),this[O]=!0,this.toolName=e,this.availableTools=t}static isInstance(e){return Z.hasMarker(e,i9)}};O=i7;var i6="AI_ToolCallRepairError",i8=`vercel.ai.error.${i6}`,re=Symbol.for(i8),rt=class extends Z{constructor({cause:e,originalError:t,message:n=`Error repairing tool call: ${et(e)}`}){super({name:i6,message:n,cause:e}),this[D]=!0,this.originalError=t}static isInstance(e){return Z.hasMarker(e,i8)}};async function rn({toolCall:e,tools:t,repairToolCall:n,system:a,messages:i}){if(null==t)throw new i5({toolName:e.toolName});try{return await ra({toolCall:e,tools:t})}catch(o){if(null==n||!(i5.isInstance(o)||i3.isInstance(o)))throw o;let r=null;try{r=await n({toolCall:e,tools:t,parameterSchema:({toolName:e})=>aD(t[e].parameters).jsonSchema,system:a,messages:i,error:o})}catch(e){throw new rt({cause:e,originalError:o})}if(null==r)throw o;return await ra({toolCall:r,tools:t})}}async function ra({toolCall:e,tools:t}){let n=e.toolName,a=t[n];if(null==a)throw new i5({toolName:e.toolName,availableTools:Object.keys(t)});let i=aD(a.parameters),r=""===e.args.trim()?eV({value:{},schema:i}):eG({text:e.args,schema:i});if(!1===r.success)throw new i3({toolName:n,toolArgs:e.args,cause:r.error});return{type:"tool-call",toolCallId:e.toolCallId,toolName:n,args:r.value}}function ri({text:e="",files:t,reasoning:n,tools:a,toolCalls:i,toolResults:r,messageId:o,generateMessageId:s}){let l=[],c=[];return n.length>0&&c.push(...n.map(e=>"text"===e.type?{...e,type:"reasoning"}:{...e,type:"redacted-reasoning"})),t.length>0&&c.push(...t.map(e=>({type:"file",data:e.base64,mimeType:e.mimeType}))),e.length>0&&c.push({type:"text",text:e}),i.length>0&&c.push(...i),c.length>0&&l.push({role:"assistant",content:c,id:o}),r.length>0&&l.push({role:"tool",id:s(),content:r.map(e=>{let t=a[e.toolName];return(null==t?void 0:t.experimental_toToolResultContent)!=null?{type:"tool-result",toolCallId:e.toolCallId,toolName:e.toolName,result:t.experimental_toToolResultContent(e.result),experimental_content:t.experimental_toToolResultContent(e.result)}:{type:"tool-result",toolCallId:e.toolCallId,toolName:e.toolName,result:e.result}})}),l}D=re,eH({prefix:"aitxt",size:24}),eH({prefix:"msg",size:24}),aj({},{object:()=>rh,text:()=>rp});var rr="AI_InvalidStreamPartError",ro=`vercel.ai.error.${rr}`,rs=Symbol.for(ro),rl=class extends Z{constructor({chunk:e,message:t}){super({name:rr,message:t}),this[L]=!0,this.chunk=e}static isInstance(e){return Z.hasMarker(e,ro)}};L=rs;var rc="vercel.ai.error.AI_MCPClientError",rd=Symbol.for(rc),ru=class extends Z{constructor({name:e="MCPClientError",message:t,cause:n}){super({name:e,message:t,cause:n}),this[j]=!0}static isInstance(e){return Z.hasMarker(e,rc)}};j=rd;var rp=()=>({type:"text",responseFormat:()=>({type:"text"}),injectIntoSystemPrompt:({system:e})=>e,parsePartial:({text:e})=>({partial:e}),parseOutput:({text:e})=>e}),rh=({schema:e})=>{let t=aD(e);return{type:"object",responseFormat:({model:e})=>({type:"json",schema:e.supportsStructuredOutputs?t.jsonSchema:void 0}),injectIntoSystemPrompt:({system:e,model:n})=>n.supportsStructuredOutputs?e:function({prompt:e,schema:t,schemaPrefix:n=null!=t?"JSON schema:":void 0,schemaSuffix:a=null!=t?"You MUST answer with a JSON object that matches the JSON schema above.":"You MUST answer with JSON."}){return[null!=e&&e.length>0?e:void 0,null!=e&&e.length>0?"":void 0,n,null!=t?JSON.stringify(t):void 0,a].filter(e=>null!=e).join("\n")}({prompt:e,schema:t.jsonSchema}),parsePartial({text:e}){let t=function(e){if(void 0===e)return{value:void 0,state:"undefined-input"};let t=eG({text:e});return t.success?{value:t.value,state:"successful-parse"}:(t=eG({text:function(e){let t=["ROOT"],n=-1,a=null;function i(e,i,r){switch(e){case'"':n=i,t.pop(),t.push(r),t.push("INSIDE_STRING");break;case"f":case"t":case"n":n=i,a=i,t.pop(),t.push(r),t.push("INSIDE_LITERAL");break;case"-":t.pop(),t.push(r),t.push("INSIDE_NUMBER");break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":n=i,t.pop(),t.push(r),t.push("INSIDE_NUMBER");break;case"{":n=i,t.pop(),t.push(r),t.push("INSIDE_OBJECT_START");break;case"[":n=i,t.pop(),t.push(r),t.push("INSIDE_ARRAY_START")}}function r(e,a){switch(e){case",":t.pop(),t.push("INSIDE_OBJECT_AFTER_COMMA");break;case"}":n=a,t.pop()}}function o(e,a){switch(e){case",":t.pop(),t.push("INSIDE_ARRAY_AFTER_COMMA");break;case"]":n=a,t.pop()}}for(let s=0;s<e.length;s++){let l=e[s];switch(t[t.length-1]){case"ROOT":i(l,s,"FINISH");break;case"INSIDE_OBJECT_START":switch(l){case'"':t.pop(),t.push("INSIDE_OBJECT_KEY");break;case"}":n=s,t.pop()}break;case"INSIDE_OBJECT_AFTER_COMMA":'"'===l&&(t.pop(),t.push("INSIDE_OBJECT_KEY"));break;case"INSIDE_OBJECT_KEY":'"'===l&&(t.pop(),t.push("INSIDE_OBJECT_AFTER_KEY"));break;case"INSIDE_OBJECT_AFTER_KEY":":"===l&&(t.pop(),t.push("INSIDE_OBJECT_BEFORE_VALUE"));break;case"INSIDE_OBJECT_BEFORE_VALUE":i(l,s,"INSIDE_OBJECT_AFTER_VALUE");break;case"INSIDE_OBJECT_AFTER_VALUE":r(l,s);break;case"INSIDE_STRING":switch(l){case'"':t.pop(),n=s;break;case"\\":t.push("INSIDE_STRING_ESCAPE");break;default:n=s}break;case"INSIDE_ARRAY_START":"]"===l?(n=s,t.pop()):(n=s,i(l,s,"INSIDE_ARRAY_AFTER_VALUE"));break;case"INSIDE_ARRAY_AFTER_VALUE":switch(l){case",":t.pop(),t.push("INSIDE_ARRAY_AFTER_COMMA");break;case"]":n=s,t.pop();break;default:n=s}break;case"INSIDE_ARRAY_AFTER_COMMA":i(l,s,"INSIDE_ARRAY_AFTER_VALUE");break;case"INSIDE_STRING_ESCAPE":t.pop(),n=s;break;case"INSIDE_NUMBER":switch(l){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":n=s;break;case"e":case"E":case"-":case".":break;case",":t.pop(),"INSIDE_ARRAY_AFTER_VALUE"===t[t.length-1]&&o(l,s),"INSIDE_OBJECT_AFTER_VALUE"===t[t.length-1]&&r(l,s);break;case"}":t.pop(),"INSIDE_OBJECT_AFTER_VALUE"===t[t.length-1]&&r(l,s);break;case"]":t.pop(),"INSIDE_ARRAY_AFTER_VALUE"===t[t.length-1]&&o(l,s);break;default:t.pop()}break;case"INSIDE_LITERAL":{let i=e.substring(a,s+1);"false".startsWith(i)||"true".startsWith(i)||"null".startsWith(i)?n=s:(t.pop(),"INSIDE_OBJECT_AFTER_VALUE"===t[t.length-1]?r(l,s):"INSIDE_ARRAY_AFTER_VALUE"===t[t.length-1]&&o(l,s))}}}let s=e.slice(0,n+1);for(let n=t.length-1;n>=0;n--)switch(t[n]){case"INSIDE_STRING":s+='"';break;case"INSIDE_OBJECT_KEY":case"INSIDE_OBJECT_AFTER_KEY":case"INSIDE_OBJECT_AFTER_COMMA":case"INSIDE_OBJECT_START":case"INSIDE_OBJECT_BEFORE_VALUE":case"INSIDE_OBJECT_AFTER_VALUE":s+="}";break;case"INSIDE_ARRAY_START":case"INSIDE_ARRAY_AFTER_COMMA":case"INSIDE_ARRAY_AFTER_VALUE":s+="]";break;case"INSIDE_LITERAL":{let t=e.substring(a,e.length);"true".startsWith(t)?s+="true".slice(t.length):"false".startsWith(t)?s+="false".slice(t.length):"null".startsWith(t)&&(s+="null".slice(t.length))}}return s}(e)})).success?{value:t.value,state:"repaired-parse"}:{value:void 0,state:"failed-parse"}}(e);switch(t.state){case"failed-parse":case"undefined-input":return;case"repaired-parse":case"successful-parse":return{partial:t.value};default:{let e=t.state;throw Error(`Unsupported parse state: ${e}`)}}},parseOutput({text:e},n){let a=eG({text:e});if(!a.success)throw new ie({message:"No object generated: could not parse the response.",cause:a.error,text:e,response:n.response,usage:n.usage,finishReason:n.finishReason});let i=eV({value:a.value,schema:t});if(!i.success)throw new ie({message:"No object generated: response did not match schema.",cause:i.error,text:e,response:n.response,usage:n.usage,finishReason:n.finishReason});return i.value}}};async function rm({stream:e,onError:t}){let n=e.getReader();try{for(;;){let{done:e}=await n.read();if(e)break}}catch(e){null==t||t(e)}finally{n.releaseLock()}}function rf(e,t){let n,a;let i=e.getReader(),r=t.getReader(),o=!1,s=!1;async function l(e){try{null==n&&(n=i.read());let t=await n;n=void 0,t.done?e.close():e.enqueue(t.value)}catch(t){e.error(t)}}async function c(e){try{null==a&&(a=r.read());let t=await a;a=void 0,t.done?e.close():e.enqueue(t.value)}catch(t){e.error(t)}}return new ReadableStream({async pull(e){try{if(o){await c(e);return}if(s){await l(e);return}null==n&&(n=i.read()),null==a&&(a=r.read());let{result:t,reader:d}=await Promise.race([n.then(e=>({result:e,reader:i})),a.then(e=>({result:e,reader:r}))]);t.done||e.enqueue(t.value),d===i?(n=void 0,t.done&&(await c(e),o=!0)):(a=void 0,t.done&&(s=!0,await l(e)))}catch(t){e.error(t)}},cancel(){i.cancel(),r.cancel()}})}var rg=eH({prefix:"aitxt",size:24}),ry=eH({prefix:"msg",size:24}),rb=class{constructor({model:e,telemetry:t,headers:n,settings:a,maxRetries:i,abortSignal:r,system:o,prompt:s,messages:l,tools:c,toolChoice:d,toolCallStreaming:u,transforms:p,activeTools:h,repairToolCall:m,maxSteps:f,output:g,continueSteps:y,providerOptions:b,now:v,currentDate:w,generateId:A,generateMessageId:I,onChunk:P,onError:C,onFinish:T,onStepFinish:S}){var E;let _,x,M,k;if(this.warningsPromise=new iq,this.usagePromise=new iq,this.finishReasonPromise=new iq,this.providerMetadataPromise=new iq,this.textPromise=new iq,this.reasoningPromise=new iq,this.reasoningDetailsPromise=new iq,this.sourcesPromise=new iq,this.filesPromise=new iq,this.toolCallsPromise=new iq,this.toolResultsPromise=new iq,this.requestPromise=new iq,this.responsePromise=new iq,this.stepsPromise=new iq,f<1)throw new aV({parameter:"maxSteps",value:f,message:"maxSteps must be at least 1"});this.output=g;let R="",N="",O="",D=[],L=[],j=[],F=[],B={id:A(),timestamp:w(),modelId:e.modelId,messages:[]},H=[],U=[],z="initial",q=[],V=new TransformStream({async transform(e,t){t.enqueue(e);let{part:n}=e;if(("text-delta"===n.type||"reasoning"===n.type||"source"===n.type||"tool-call"===n.type||"tool-result"===n.type||"tool-call-streaming-start"===n.type||"tool-call-delta"===n.type)&&await (null==P?void 0:P({chunk:n})),"error"===n.type&&await (null==C?void 0:C({error:n.error})),"text-delta"===n.type&&(R+=n.textDelta,N+=n.textDelta,O+=n.textDelta),"reasoning"===n.type&&(null==x?(x={type:"text",text:n.textDelta},D.push(x)):x.text+=n.textDelta),"reasoning-signature"===n.type){if(null==x)throw new Z({name:"InvalidStreamPart",message:"reasoning-signature without reasoning"});x.signature=n.signature,x=void 0}if("redacted-reasoning"===n.type&&D.push({type:"redacted",data:n.data}),"file"===n.type&&L.push(n),"source"===n.type&&(F.push(n.source),j.push(n.source)),"tool-call"===n.type&&H.push(n),"tool-result"===n.type&&U.push(n),"step-finish"===n.type){let e=ri({text:N,files:L,reasoning:D,tools:null!=c?c:{},toolCalls:H,toolResults:U,messageId:n.messageId,generateMessageId:I}),t=q.length,a="done";t+1<f&&(y&&"length"===n.finishReason&&0===H.length?a="continue":H.length>0&&U.length===H.length&&(a="tool-result"));let i={stepType:z,text:R,reasoning:function(e){let t=e.filter(e=>"text"===e.type).map(e=>e.text).join("");return t.length>0?t:void 0}(D),reasoningDetails:D,files:L,sources:j,toolCalls:H,toolResults:U,finishReason:n.finishReason,usage:n.usage,warnings:n.warnings,logprobs:n.logprobs,request:n.request,response:{...n.response,messages:[...B.messages,...e]},providerMetadata:n.experimental_providerMetadata,experimental_providerMetadata:n.experimental_providerMetadata,isContinued:n.isContinued};await (null==S?void 0:S(i)),q.push(i),H=[],U=[],R="",j=[],D=[],L=[],x=void 0,"done"!==a&&(z=a),"continue"!==a&&(B.messages.push(...e),N="")}"finish"===n.type&&(B.id=n.response.id,B.timestamp=n.response.timestamp,B.modelId=n.response.modelId,B.headers=n.response.headers,k=n.usage,M=n.finishReason)},async flush(e){var n;try{if(0===q.length)return;let e=q[q.length-1];Q.warningsPromise.resolve(e.warnings),Q.requestPromise.resolve(e.request),Q.responsePromise.resolve(e.response),Q.toolCallsPromise.resolve(e.toolCalls),Q.toolResultsPromise.resolve(e.toolResults),Q.providerMetadataPromise.resolve(e.experimental_providerMetadata),Q.reasoningPromise.resolve(e.reasoning),Q.reasoningDetailsPromise.resolve(e.reasoningDetails);let a=null!=M?M:"unknown",i=null!=k?k:{completionTokens:NaN,promptTokens:NaN,totalTokens:NaN};Q.finishReasonPromise.resolve(a),Q.usagePromise.resolve(i),Q.textPromise.resolve(O),Q.sourcesPromise.resolve(F),Q.filesPromise.resolve(e.files),Q.stepsPromise.resolve(q),await (null==T?void 0:T({finishReason:a,logprobs:void 0,usage:i,text:O,reasoning:e.reasoning,reasoningDetails:e.reasoningDetails,files:e.files,sources:e.sources,toolCalls:e.toolCalls,toolResults:e.toolResults,request:null!=(n=e.request)?n:{},response:e.response,warnings:e.warnings,providerMetadata:e.providerMetadata,experimental_providerMetadata:e.experimental_providerMetadata,steps:q})),_.setAttributes(a2({telemetry:t,attributes:{"ai.response.finishReason":a,"ai.response.text":{output:()=>O},"ai.response.toolCalls":{output:()=>{var t;return(null==(t=e.toolCalls)?void 0:t.length)?JSON.stringify(e.toolCalls):void 0}},"ai.usage.promptTokens":i.promptTokens,"ai.usage.completionTokens":i.completionTokens}}))}catch(t){e.error(t)}finally{_.end()}}}),G=function(){let e=[],t=null,n=!1,a=iV(),i=async()=>{if(n&&0===e.length){null==t||t.close();return}if(0===e.length)return a=iV(),await a.promise,i();try{let{value:a,done:r}=await e[0].read();r?(e.shift(),e.length>0?await i():n&&(null==t||t.close())):null==t||t.enqueue(a)}catch(a){null==t||t.error(a),e.shift(),n&&0===e.length&&(null==t||t.close())}};return{stream:new ReadableStream({start(e){t=e},pull:i,async cancel(){for(let t of e)await t.cancel();e=[],n=!0}}),addStream:t=>{if(n)throw Error("Cannot add inner stream: outer stream is closed");e.push(t.getReader()),a.resolve()},close:()=>{n=!0,a.resolve(),0===e.length&&(null==t||t.close())},terminate:()=>{n=!0,a.resolve(),e.forEach(e=>e.cancel()),e=[],null==t||t.close()}}}();this.addStream=G.addStream,this.closeStream=G.close;let $=G.stream;for(let e of p)$=$.pipeThrough(e({tools:c,stopStream(){G.terminate()}}));this.baseStream=$.pipeThrough(function(e){if(!e)return new TransformStream({transform(e,t){t.enqueue({part:e,partialOutput:void 0})}});let t="",n="",a="";function i({controller:e,partialOutput:t}){e.enqueue({part:{type:"text-delta",textDelta:n},partialOutput:t}),n=""}return new TransformStream({transform(r,o){if("step-finish"===r.type&&i({controller:o}),"text-delta"!==r.type){o.enqueue({part:r,partialOutput:void 0});return}t+=r.textDelta,n+=r.textDelta;let s=e.parsePartial({text:t});if(null!=s){let e=JSON.stringify(s.partial);e!==a&&(i({controller:o,partialOutput:s.partial}),a=e)}},flush(e){n.length>0&&i({controller:e})}})}(g)).pipeThrough(V);let{maxRetries:W,retry:K}=function({maxRetries:e}){if(null!=e){if(!Number.isInteger(e))throw new aV({parameter:"maxRetries",value:e,message:"maxRetries must be an integer"});if(e<0)throw new aV({parameter:"maxRetries",value:e,message:"maxRetries must be >= 0"})}let t=null!=e?e:2;return{maxRetries:t,retry:aK({maxRetries:t})}}({maxRetries:i}),Y=function({isEnabled:e=!1,tracer:t}={}){return e?t||n2.u.getTracer("ai"):aJ}(t),X=function({model:e,settings:t,telemetry:n,headers:a}){var i;return{"ai.model.provider":e.provider,"ai.model.id":e.modelId,...Object.entries(t).reduce((e,[t,n])=>(e[`ai.settings.${t}`]=n,e),{}),...Object.entries(null!=(i=null==n?void 0:n.metadata)?i:{}).reduce((e,[t,n])=>(e[`ai.telemetry.metadata.${t}`]=n,e),{}),...Object.entries(null!=a?a:{}).reduce((e,[t,n])=>(void 0!==n&&(e[`ai.request.headers.${t}`]=n),e),{})}}({model:e,telemetry:t,headers:n,settings:{...a,maxRetries:W}}),J=function({prompt:e,tools:t}){if(null==e.prompt&&null==e.messages)throw new ec({prompt:e,message:"prompt or messages must be defined"});if(null!=e.prompt&&null!=e.messages)throw new ec({prompt:e,message:"prompt and messages cannot be defined at the same time"});if(null!=e.system&&"string"!=typeof e.system)throw new ec({prompt:e,message:"system must be a string"});if(null!=e.prompt){if("string"!=typeof e.prompt)throw new ec({prompt:e,message:"prompt must be a string"});return{type:"prompt",system:e.system,messages:[{role:"user",content:e.prompt}]}}if(null!=e.messages){let n=function(e){if(!Array.isArray(e))return"other";if(0===e.length)return"messages";let t=e.map(iS);return t.some(e=>"has-ui-specific-parts"===e)?"ui-messages":t.every(e=>"has-core-specific-parts"===e||"message"===e)?"messages":"other"}(e.messages);if("other"===n)throw new ec({prompt:e,message:"messages must be an array of CoreMessage or UIMessage"});let a="ui-messages"===n?function(e,t){var n,a;let i=null!=(n=null==t?void 0:t.tools)?n:{},r=[];for(let t=0;t<e.length;t++){let n=e[t],o=t===e.length-1,{role:s,content:l,experimental_attachments:c}=n;switch(s){case"system":r.push({role:"system",content:l});break;case"user":if(null==n.parts)r.push({role:"user",content:c?[{type:"text",text:l},...iA(c)]:l});else{let e=n.parts.filter(e=>"text"===e.type).map(e=>({type:"text",text:e.text}));r.push({role:"user",content:c?[...e,...iA(c)]:e})}break;case"assistant":{if(null!=n.parts){let e=function(){let e=[];for(let t of s)switch(t.type){case"file":case"text":e.push(t);break;case"reasoning":for(let n of t.details)switch(n.type){case"text":e.push({type:"reasoning",text:n.text,signature:n.signature});break;case"redacted":e.push({type:"redacted-reasoning",data:n.data})}break;case"tool-invocation":e.push({type:"tool-call",toolCallId:t.toolInvocation.toolCallId,toolName:t.toolInvocation.toolName,args:t.toolInvocation.args});break;default:throw Error(`Unsupported part: ${t}`)}r.push({role:"assistant",content:e});let a=s.filter(e=>"tool-invocation"===e.type).map(e=>e.toolInvocation);a.length>0&&r.push({role:"tool",content:a.map(e=>{if(!("result"in e))throw new iT({originalMessage:n,message:"ToolInvocation must have a result: "+JSON.stringify(e)});let{toolCallId:t,toolName:a,result:r}=e,o=i[a];return(null==o?void 0:o.experimental_toToolResultContent)!=null?{type:"tool-result",toolCallId:t,toolName:a,result:o.experimental_toToolResultContent(r),experimental_content:o.experimental_toToolResultContent(r)}:{type:"tool-result",toolCallId:t,toolName:a,result:r}})}),s=[],o=!1,t++},t=0,o=!1,s=[];for(let i of n.parts)switch(i.type){case"text":o&&e(),s.push(i);break;case"file":case"reasoning":s.push(i);break;case"tool-invocation":(null!=(a=i.toolInvocation.step)?a:0)!==t&&e(),s.push(i),o=!0}e();break}let e=n.toolInvocations;if(null==e||0===e.length){r.push({role:"assistant",content:l});break}let t=e.reduce((e,t)=>{var n;return Math.max(e,null!=(n=t.step)?n:0)},0);for(let a=0;a<=t;a++){let t=e.filter(e=>{var t;return(null!=(t=e.step)?t:0)===a});0!==t.length&&(r.push({role:"assistant",content:[...o&&l&&0===a?[{type:"text",text:l}]:[],...t.map(({toolCallId:e,toolName:t,args:n})=>({type:"tool-call",toolCallId:e,toolName:t,args:n}))]}),r.push({role:"tool",content:t.map(e=>{if(!("result"in e))throw new iT({originalMessage:n,message:"ToolInvocation must have a result: "+JSON.stringify(e)});let{toolCallId:t,toolName:a,result:r}=e,o=i[a];return(null==o?void 0:o.experimental_toToolResultContent)!=null?{type:"tool-result",toolCallId:t,toolName:a,result:o.experimental_toToolResultContent(r),experimental_content:o.experimental_toToolResultContent(r)}:{type:"tool-result",toolCallId:t,toolName:a,result:r}})}))}l&&!o&&r.push({role:"assistant",content:l});break}case"data":break;default:throw new iT({originalMessage:n,message:`Unsupported role: ${s}`})}}return r}(e.messages,{tools:t}):e.messages;if(0===a.length)throw new ec({prompt:e,message:"messages must not be empty"});let i=eV({value:a,schema:nV.array(iU)});if(!i.success)throw new ec({prompt:e,message:"messages must be an array of CoreMessage or UIMessage",cause:i.error});return{type:"messages",messages:a,system:e.system}}throw Error("unreachable")}({prompt:{system:null!=(E=null==g?void 0:g.injectIntoSystemPrompt({system:o,model:e}))?E:o,prompt:s,messages:l},tools:c}),Q=this;a0({name:"ai.streamText",attributes:a2({telemetry:t,attributes:{...aX({operationId:"ai.streamText",telemetry:t}),...X,"ai.prompt":{input:()=>JSON.stringify({system:o,prompt:s,messages:l})},"ai.settings.maxSteps":f}}),tracer:Y,endWhenDone:!1,fn:async i=>{async function s({currentStep:i,responseMessages:l,usage:p,stepType:P,previousStepText:C,hasLeadingWhitespace:T,messageId:S}){var E;let _,x,M;let k=0===l.length?J.type:"messages",R=[...J.messages,...l],N=await iv({prompt:{type:k,system:J.system,messages:R},modelSupportsImageUrls:e.supportsImageUrls,modelSupportsUrl:null==(E=e.supportsUrl)?void 0:E.bind(e)}),O={type:"regular",...function({tools:e,toolChoice:t,activeTools:n}){return null!=e&&Object.keys(e).length>0?{tools:(null!=n?Object.entries(e).filter(([e])=>n.includes(e)):Object.entries(e)).map(([e,t])=>{let n=t.type;switch(n){case void 0:case"function":return{type:"function",name:e,description:t.description,parameters:aD(t.parameters).jsonSchema};case"provider-defined":return{type:"provider-defined",name:e,id:t.id,args:t.args};default:throw Error(`Unsupported tool type: ${n}`)}}),toolChoice:null==t?{type:"auto"}:"string"==typeof t?{type:t}:{type:"tool",toolName:t.toolName}}:{tools:void 0,toolChoice:void 0}}({tools:c,toolChoice:d,activeTools:h})},{result:{stream:D,warnings:L,rawResponse:j,request:F},doStreamSpan:B,startTimestampMs:H}=await K(()=>a0({name:"ai.streamText.doStream",attributes:a2({telemetry:t,attributes:{...aX({operationId:"ai.streamText.doStream",telemetry:t}),...X,"ai.prompt.format":{input:()=>k},"ai.prompt.messages":{input:()=>JSON.stringify(N)},"ai.prompt.tools":{input:()=>{var e;return null==(e=O.tools)?void 0:e.map(e=>JSON.stringify(e))}},"ai.prompt.toolChoice":{input:()=>null!=O.toolChoice?JSON.stringify(O.toolChoice):void 0},"gen_ai.system":e.provider,"gen_ai.request.model":e.modelId,"gen_ai.request.frequency_penalty":a.frequencyPenalty,"gen_ai.request.max_tokens":a.maxTokens,"gen_ai.request.presence_penalty":a.presencePenalty,"gen_ai.request.stop_sequences":a.stopSequences,"gen_ai.request.temperature":a.temperature,"gen_ai.request.top_k":a.topK,"gen_ai.request.top_p":a.topP}}),tracer:Y,endWhenDone:!1,fn:async t=>({startTimestampMs:v(),doStreamSpan:t,result:await e.doStream({mode:O,...function({maxTokens:e,temperature:t,topP:n,topK:a,presencePenalty:i,frequencyPenalty:r,stopSequences:o,seed:s}){if(null!=e){if(!Number.isInteger(e))throw new aV({parameter:"maxTokens",value:e,message:"maxTokens must be an integer"});if(e<1)throw new aV({parameter:"maxTokens",value:e,message:"maxTokens must be >= 1"})}if(null!=t&&"number"!=typeof t)throw new aV({parameter:"temperature",value:t,message:"temperature must be a number"});if(null!=n&&"number"!=typeof n)throw new aV({parameter:"topP",value:n,message:"topP must be a number"});if(null!=a&&"number"!=typeof a)throw new aV({parameter:"topK",value:a,message:"topK must be a number"});if(null!=i&&"number"!=typeof i)throw new aV({parameter:"presencePenalty",value:i,message:"presencePenalty must be a number"});if(null!=r&&"number"!=typeof r)throw new aV({parameter:"frequencyPenalty",value:r,message:"frequencyPenalty must be a number"});if(null!=s&&!Number.isInteger(s))throw new aV({parameter:"seed",value:s,message:"seed must be an integer"});return{maxTokens:e,temperature:null!=t?t:0,topP:n,topK:a,presencePenalty:i,frequencyPenalty:r,stopSequences:null!=o&&o.length>0?o:void 0,seed:s}}(a),inputFormat:k,responseFormat:null==g?void 0:g.responseFormat({model:e}),prompt:N,providerMetadata:b,abortSignal:r,headers:n})})})),U=function({tools:e,generatorStream:t,toolCallStreaming:n,tracer:a,telemetry:i,system:r,messages:o,abortSignal:s,repairToolCall:l}){let c,d=null,u=new ReadableStream({start(e){d=e}}),p={},h=new Set,m=!1;function f(){m&&0===h.size&&(null!=c&&d.enqueue(c),d.close())}let g=new TransformStream({async transform(t,u){let m=t.type;switch(m){case"text-delta":case"reasoning":case"reasoning-signature":case"redacted-reasoning":case"source":case"response-metadata":case"error":u.enqueue(t);break;case"file":u.enqueue(new a4({data:t.data,mimeType:t.mimeType}));break;case"tool-call-delta":n&&(p[t.toolCallId]||(u.enqueue({type:"tool-call-streaming-start",toolCallId:t.toolCallId,toolName:t.toolName}),p[t.toolCallId]=!0),u.enqueue({type:"tool-call-delta",toolCallId:t.toolCallId,toolName:t.toolName,argsTextDelta:t.argsTextDelta}));break;case"tool-call":try{let n=await rn({toolCall:t,tools:e,repairToolCall:l,system:r,messages:o});u.enqueue(n);let c=e[n.toolName];if(null!=c.execute){let e=eU();h.add(e),a0({name:"ai.toolCall",attributes:a2({telemetry:i,attributes:{...aX({operationId:"ai.toolCall",telemetry:i}),"ai.toolCall.name":n.toolName,"ai.toolCall.id":n.toolCallId,"ai.toolCall.args":{output:()=>JSON.stringify(n.args)}}}),tracer:a,fn:async t=>c.execute(n.args,{toolCallId:n.toolCallId,messages:o,abortSignal:s}).then(a=>{d.enqueue({...n,type:"tool-result",result:a}),h.delete(e),f();try{t.setAttributes(a2({telemetry:i,attributes:{"ai.toolCall.result":{output:()=>JSON.stringify(a)}}}))}catch(e){}},t=>{d.enqueue({type:"error",error:new iJ({toolCallId:n.toolCallId,toolName:n.toolName,toolArgs:n.args,cause:t})}),h.delete(e),f()})})}}catch(e){d.enqueue({type:"error",error:e})}break;case"finish":c={type:"finish",finishReason:t.finishReason,logprobs:t.logprobs,usage:function({promptTokens:e,completionTokens:t}){return{promptTokens:e,completionTokens:t,totalTokens:e+t}}(t.usage),experimental_providerMetadata:t.providerMetadata};break;default:throw Error(`Unhandled chunk type: ${m}`)}},flush(){m=!0,f()}});return new ReadableStream({start:async e=>Promise.all([t.pipeThrough(g).pipeTo(new WritableStream({write(t){e.enqueue(t)},close(){}})),u.pipeTo(new WritableStream({write(t){e.enqueue(t)},close(){e.close()}}))])})}({tools:c,generatorStream:D,toolCallStreaming:u,tracer:Y,telemetry:t,system:o,messages:R,repairToolCall:m,abortSignal:r}),z=null!=F?F:{},q=[],V=[],G=[],Z=[],$="unknown",W={promptTokens:0,completionTokens:0,totalTokens:0},ee=!0,et="",en="continue"===P?C:"",ea={id:A(),timestamp:w(),modelId:e.modelId},ei="",er=!1,eo=!0,es=!1;async function el({controller:e,chunk:t}){e.enqueue(t),et+=t.textDelta,en+=t.textDelta,er=!0,es=t.textDelta.trimEnd()!==t.textDelta}Q.addStream(U.pipeThrough(new TransformStream({async transform(e,t){var n,a,i;if(ee){let e=v()-H;ee=!1,B.addEvent("ai.stream.firstChunk",{"ai.response.msToFirstChunk":e}),B.setAttributes({"ai.response.msToFirstChunk":e}),t.enqueue({type:"step-start",messageId:S,request:z,warnings:null!=L?L:[]})}if("text-delta"===e.type&&0===e.textDelta.length)return;let r=e.type;switch(r){case"text-delta":if(y){let n=eo&&T?e.textDelta.trimStart():e.textDelta;if(0===n.length)break;eo=!1;let a=function(e){let t=e.match(iQ);return t?{prefix:t[1],whitespace:t[2],suffix:t[3]}:void 0}(ei+=n);null!=a&&(ei=a.suffix,await el({controller:t,chunk:{type:"text-delta",textDelta:a.prefix+a.whitespace}}))}else await el({controller:t,chunk:e});break;case"reasoning":t.enqueue(e),null==M?(M={type:"text",text:e.textDelta},G.push(M)):M.text+=e.textDelta;break;case"reasoning-signature":if(t.enqueue(e),null==M)throw new rl({chunk:e,message:"reasoning-signature without reasoning"});M.signature=e.signature,M=void 0;break;case"redacted-reasoning":t.enqueue(e),G.push({type:"redacted",data:e.data});break;case"tool-call":t.enqueue(e),q.push(e);break;case"tool-result":t.enqueue(e),V.push(e);break;case"response-metadata":ea={id:null!=(n=e.id)?n:ea.id,timestamp:null!=(a=e.timestamp)?a:ea.timestamp,modelId:null!=(i=e.modelId)?i:ea.modelId};break;case"finish":{W=e.usage,$=e.finishReason,_=e.experimental_providerMetadata,x=e.logprobs;let t=v()-H;B.addEvent("ai.stream.finish"),B.setAttributes({"ai.response.msToFinish":t,"ai.response.avgCompletionTokensPerSecond":1e3*W.completionTokens/t});break}case"file":Z.push(e),t.enqueue(e);break;case"source":case"tool-call-streaming-start":case"tool-call-delta":t.enqueue(e);break;case"error":t.enqueue(e),$="error";break;default:throw Error(`Unknown chunk type: ${r}`)}},async flush(e){var n;let a=q.length>0?JSON.stringify(q):void 0,r="done";i+1<f&&(y&&"length"===$&&0===q.length?r="continue":q.length>0&&V.length===q.length&&(r="tool-result")),y&&ei.length>0&&("continue"!==r||"continue"===P&&!er)&&(await el({controller:e,chunk:{type:"text-delta",textDelta:ei}}),ei="");try{B.setAttributes(a2({telemetry:t,attributes:{"ai.response.finishReason":$,"ai.response.text":{output:()=>et},"ai.response.toolCalls":{output:()=>a},"ai.response.id":ea.id,"ai.response.model":ea.modelId,"ai.response.timestamp":ea.timestamp.toISOString(),"ai.usage.promptTokens":W.promptTokens,"ai.usage.completionTokens":W.completionTokens,"gen_ai.response.finish_reasons":[$],"gen_ai.response.id":ea.id,"gen_ai.response.model":ea.modelId,"gen_ai.usage.input_tokens":W.promptTokens,"gen_ai.usage.output_tokens":W.completionTokens}}))}catch(e){}finally{B.end()}e.enqueue({type:"step-finish",finishReason:$,usage:W,providerMetadata:_,experimental_providerMetadata:_,logprobs:x,request:z,response:{...ea,headers:null==j?void 0:j.headers},warnings:L,isContinued:"continue"===r,messageId:S});let o=(n=W,{promptTokens:p.promptTokens+n.promptTokens,completionTokens:p.completionTokens+n.completionTokens,totalTokens:p.totalTokens+n.totalTokens});if("done"===r)e.enqueue({type:"finish",finishReason:$,usage:o,providerMetadata:_,experimental_providerMetadata:_,logprobs:x,response:{...ea,headers:null==j?void 0:j.headers}}),Q.closeStream();else{if("continue"===P){let e=l[l.length-1];"string"==typeof e.content?e.content+=et:e.content.push({text:et,type:"text"})}else l.push(...ri({text:et,files:Z,reasoning:G,tools:null!=c?c:{},toolCalls:q,toolResults:V,messageId:S,generateMessageId:I}));await s({currentStep:i+1,responseMessages:l,usage:o,stepType:r,previousStepText:en,hasLeadingWhitespace:es,messageId:"continue"===r?S:I()})}}})))}_=i,await s({currentStep:0,responseMessages:[],usage:{promptTokens:0,completionTokens:0,totalTokens:0},previousStepText:"",stepType:"initial",hasLeadingWhitespace:!1,messageId:I()})}}).catch(e=>{Q.addStream(new ReadableStream({start(t){t.enqueue({type:"error",error:e}),t.close()}})),Q.closeStream()})}get warnings(){return this.warningsPromise.value}get usage(){return this.usagePromise.value}get finishReason(){return this.finishReasonPromise.value}get experimental_providerMetadata(){return this.providerMetadataPromise.value}get providerMetadata(){return this.providerMetadataPromise.value}get text(){return this.textPromise.value}get reasoning(){return this.reasoningPromise.value}get reasoningDetails(){return this.reasoningDetailsPromise.value}get sources(){return this.sourcesPromise.value}get files(){return this.filesPromise.value}get toolCalls(){return this.toolCallsPromise.value}get toolResults(){return this.toolResultsPromise.value}get request(){return this.requestPromise.value}get response(){return this.responsePromise.value}get steps(){return this.stepsPromise.value}teeStream(){let[e,t]=this.baseStream.tee();return this.baseStream=t,e}get textStream(){return iz(this.teeStream().pipeThrough(new TransformStream({transform({part:e},t){"text-delta"===e.type&&t.enqueue(e.textDelta)}})))}get fullStream(){return iz(this.teeStream().pipeThrough(new TransformStream({transform({part:e},t){t.enqueue(e)}})))}async consumeStream(e){var t;try{await rm({stream:this.fullStream,onError:null==e?void 0:e.onError})}catch(n){null==(t=null==e?void 0:e.onError)||t.call(e,n)}}get experimental_partialOutputStream(){if(null==this.output)throw new iW;return iz(this.teeStream().pipeThrough(new TransformStream({transform({partialOutput:e},t){null!=e&&t.enqueue(e)}})))}toDataStreamInternal({getErrorMessage:e=()=>"An error occurred.",sendUsage:t=!0,sendReasoning:n=!1,sendSources:a=!1,experimental_sendFinish:i=!0}){return this.fullStream.pipeThrough(new TransformStream({transform:async(r,o)=>{let s=r.type;switch(s){case"text-delta":o.enqueue(aN("text",r.textDelta));break;case"reasoning":n&&o.enqueue(aN("reasoning",r.textDelta));break;case"redacted-reasoning":n&&o.enqueue(aN("redacted_reasoning",{data:r.data}));break;case"reasoning-signature":n&&o.enqueue(aN("reasoning_signature",{signature:r.signature}));break;case"file":o.enqueue(aN("file",{mimeType:r.mimeType,data:r.base64}));break;case"source":a&&o.enqueue(aN("source",r.source));break;case"tool-call-streaming-start":o.enqueue(aN("tool_call_streaming_start",{toolCallId:r.toolCallId,toolName:r.toolName}));break;case"tool-call-delta":o.enqueue(aN("tool_call_delta",{toolCallId:r.toolCallId,argsTextDelta:r.argsTextDelta}));break;case"tool-call":o.enqueue(aN("tool_call",{toolCallId:r.toolCallId,toolName:r.toolName,args:r.args}));break;case"tool-result":o.enqueue(aN("tool_result",{toolCallId:r.toolCallId,result:r.result}));break;case"error":o.enqueue(aN("error",e(r.error)));break;case"step-start":o.enqueue(aN("start_step",{messageId:r.messageId}));break;case"step-finish":o.enqueue(aN("finish_step",{finishReason:r.finishReason,usage:t?{promptTokens:r.usage.promptTokens,completionTokens:r.usage.completionTokens}:void 0,isContinued:r.isContinued}));break;case"finish":i&&o.enqueue(aN("finish_message",{finishReason:r.finishReason,usage:t?{promptTokens:r.usage.promptTokens,completionTokens:r.usage.completionTokens}:void 0}));break;default:throw Error(`Unknown chunk type: ${s}`)}}}))}pipeDataStreamToResponse(e,{status:t,statusText:n,headers:a,data:i,getErrorMessage:r,sendUsage:o,sendReasoning:s,sendSources:l,experimental_sendFinish:c}={}){aH({response:e,status:t,statusText:n,headers:aB(a,{contentType:"text/plain; charset=utf-8",dataStreamVersion:"v1"}),stream:this.toDataStream({data:i,getErrorMessage:r,sendUsage:o,sendReasoning:s,sendSources:l,experimental_sendFinish:c})})}pipeTextStreamToResponse(e,t){aH({response:e,status:null==t?void 0:t.status,statusText:null==t?void 0:t.statusText,headers:aB(null==t?void 0:t.headers,{contentType:"text/plain; charset=utf-8"}),stream:this.textStream.pipeThrough(new TextEncoderStream)})}toDataStream(e){let t=this.toDataStreamInternal({getErrorMessage:null==e?void 0:e.getErrorMessage,sendUsage:null==e?void 0:e.sendUsage,sendReasoning:null==e?void 0:e.sendReasoning,sendSources:null==e?void 0:e.sendSources,experimental_sendFinish:null==e?void 0:e.experimental_sendFinish}).pipeThrough(new TextEncoderStream);return(null==e?void 0:e.data)?rf(null==e?void 0:e.data.stream,t):t}mergeIntoDataStream(e,t){e.merge(this.toDataStreamInternal({getErrorMessage:e.onError,sendUsage:null==t?void 0:t.sendUsage,sendReasoning:null==t?void 0:t.sendReasoning,sendSources:null==t?void 0:t.sendSources,experimental_sendFinish:null==t?void 0:t.experimental_sendFinish}))}toDataStreamResponse({headers:e,status:t,statusText:n,data:a,getErrorMessage:i,sendUsage:r,sendReasoning:o,sendSources:s,experimental_sendFinish:l}={}){return new Response(this.toDataStream({data:a,getErrorMessage:i,sendUsage:r,sendReasoning:o,sendSources:s,experimental_sendFinish:l}),{status:t,statusText:n,headers:aF(e,{contentType:"text/plain; charset=utf-8",dataStreamVersion:"v1"})})}toTextStreamResponse(e){var t;return new Response(this.textStream.pipeThrough(new TextEncoderStream),{status:null!=(t=null==e?void 0:e.status)?t:200,headers:aF(null==e?void 0:e.headers,{contentType:"text/plain; charset=utf-8"})})}},rv="AI_NoSuchProviderError",rw=`vercel.ai.error.${rv}`;F=Symbol.for(rw);var rA=nV.object({name:nV.string(),version:nV.string()}).passthrough(),rI=nV.object({_meta:nV.optional(nV.object({}).passthrough())}).passthrough(),rP=nV.object({method:nV.string(),params:nV.optional(rI)}),rC=nV.object({experimental:nV.optional(nV.object({}).passthrough()),logging:nV.optional(nV.object({}).passthrough()),prompts:nV.optional(nV.object({listChanged:nV.optional(nV.boolean())}).passthrough()),resources:nV.optional(nV.object({subscribe:nV.optional(nV.boolean()),listChanged:nV.optional(nV.boolean())}).passthrough()),tools:nV.optional(nV.object({listChanged:nV.optional(nV.boolean())}).passthrough())}).passthrough(),rT=(rI.extend({protocolVersion:nV.string(),capabilities:rC,serverInfo:rA,instructions:nV.optional(nV.string())}),rI.extend({nextCursor:nV.optional(nV.string())})),rS=nV.object({name:nV.string(),description:nV.optional(nV.string()),inputSchema:nV.object({type:nV.literal("object"),properties:nV.optional(nV.object({}).passthrough())}).passthrough()}).passthrough(),rE=(rT.extend({tools:nV.array(rS)}),nV.object({type:nV.literal("text"),text:nV.string()}).passthrough()),r_=nV.object({type:nV.literal("image"),data:nV.string().base64(),mimeType:nV.string()}).passthrough(),rx=nV.object({uri:nV.string(),mimeType:nV.optional(nV.string())}).passthrough(),rM=rx.extend({text:nV.string()}),rk=rx.extend({blob:nV.string().base64()}),rR=nV.object({type:nV.literal("resource"),resource:nV.union([rM,rk])}).passthrough(),rN=(rI.extend({content:nV.array(nV.union([rE,r_,rR])),isError:nV.boolean().default(!1).optional()}).or(rI.extend({toolResult:nV.unknown()})),nV.object({jsonrpc:nV.literal("2.0"),id:nV.union([nV.string(),nV.number().int()])}).merge(rP).strict()),rO=nV.object({jsonrpc:nV.literal("2.0"),id:nV.union([nV.string(),nV.number().int()]),result:rI}).strict(),rD=nV.object({jsonrpc:nV.literal("2.0"),id:nV.union([nV.string(),nV.number().int()]),error:nV.object({code:nV.number().int(),message:nV.string(),data:nV.optional(nV.unknown())})}).strict(),rL=nV.object({jsonrpc:nV.literal("2.0")}).merge(nV.object({method:nV.string(),params:nV.optional(rI)})).strict(),rj=nV.union([rN,rL,rO,rD]);function rF(e={}){let t=new TextEncoder,n="";return new TransformStream({async start(){e.onStart&&await e.onStart()},async transform(a,i){i.enqueue(t.encode(a)),n+=a,e.onToken&&await e.onToken(a),e.onText&&"string"==typeof a&&await e.onText(a)},async flush(){e.onCompletion&&await e.onCompletion(n),e.onFinal&&await e.onFinal(n)}})}function rB(e,t){return e.pipeThrough(new TransformStream({transform:async(e,t)=>{var n;if("string"==typeof e){t.enqueue(e);return}if("event"in e){"on_chat_model_stream"===e.event&&rq(null==(n=e.data)?void 0:n.chunk,t);return}rq(e,t)}})).pipeThrough(rF(t)).pipeThrough(new TextDecoderStream).pipeThrough(new TransformStream({transform:async(e,t)=>{t.enqueue(aN("text",e))}}))}function rH(e,t){return rB(e,t).pipeThrough(new TextEncoderStream)}function rU(e,t){var n;let a=rB(e,null==t?void 0:t.callbacks).pipeThrough(new TextEncoderStream),i=null==t?void 0:t.data,r=null==t?void 0:t.init;return new Response(i?rf(i.stream,a):a,{status:null!=(n=null==r?void 0:r.status)?n:200,statusText:null==r?void 0:r.statusText,headers:aF(null==r?void 0:r.headers,{contentType:"text/plain; charset=utf-8",dataStreamVersion:"v1"})})}function rz(e,t){t.dataStream.merge(rB(e,t.callbacks))}function rq(e,t){if("string"==typeof e.content)t.enqueue(e.content);else for(let n of e.content)"text"===n.type&&t.enqueue(n.text)}function rV(e,t){var n;let a;let i=(a=!0,e=>(a&&(e=e.trimStart())&&(a=!1),e));return(n=e[Symbol.asyncIterator](),new ReadableStream({async pull(e){try{let{value:t,done:a}=await n.next();a?e.close():e.enqueue(t)}catch(t){e.error(t)}},cancel(){}})).pipeThrough(new TransformStream({async transform(e,t){t.enqueue(i(e.delta))}})).pipeThrough(rF(t)).pipeThrough(new TextDecoderStream).pipeThrough(new TransformStream({transform:async(e,t)=>{t.enqueue(aN("text",e))}}))}function rG(e,t){return rV(e,t).pipeThrough(new TextEncoderStream)}function rZ(e,t={}){var n;let{init:a,data:i,callbacks:r}=t,o=rV(e,r).pipeThrough(new TextEncoderStream);return new Response(i?rf(i.stream,o):o,{status:null!=(n=null==a?void 0:a.status)?n:200,statusText:null==a?void 0:a.statusText,headers:aF(null==a?void 0:a.headers,{contentType:"text/plain; charset=utf-8",dataStreamVersion:"v1"})})}function r$(e,t){t.dataStream.merge(rV(e,t.callbacks))}aj({},{mergeIntoDataStream:()=>rz,toDataStream:()=>rH,toDataStreamResponse:()=>rU}),aj({},{mergeIntoDataStream:()=>r$,toDataStream:()=>rG,toDataStreamResponse:()=>rZ});var rW=n(3489);let rK=JSON.parse('{"1-1":{"name":"GENERAL PRE-HOSPITAL CARE","content":"Patient care should be initiated at the patients side prior to patient movement or\\ntransport for most medical conditions.  EVERY PATIENT CONTACT BEGINS WITH\\nTHIS PROTOCOL\\n1.  Pediatric patients (< 14 years of age or up to 36 kg) are treated under pediatric\\nprotocols when applicable.\\na.  Refer to MI MEDIC cards for medication dosing and equipment sizes.\\n2.  Assess scene safety and use appropriate personal protective equipment.\\n3.  For trauma refer to 2.2 General Trauma-Treatment Protocol\\n4.  A patient exhibiting any signs of a life-threatening illness or injury shall not be\\nrequired to move on their own.  This includes patients with illnesses of unknown\\netiology.\\n5.  If applicable, refer to 3.7 Adult or 4.9 Pediatric Crashing Patient/Impending\\nArrest-Treatment Protocol.\\n6.  Complete primary survey.\\n7.  When indicated, implement airway intervention per the 7.9 Airway Management-\\nProcedure Protocol.\\n8.  When indicated, administer oxygen, and assist ventilations per the 7.12 Oxygen\\nAdministration-Procedure Protocol.\\n9.  Assess and treat other life-threatening conditions per appropriate protocol.\\n10. Obtain vital signs including pulse oximetry if available or required, approximately\\nevery 15 minutes, or more frequently as necessary to monitor the patients condition\\n(A minimum of 2 sets are required for all patient transports.  Two sets are suggested\\nfor patient refusals and treat and release patients.)\\n11. Perform a secondary survey consistent with patient condition.\\n12. Follow specific protocol for patient condition.\\n13. Document patient care according to the 7.15 Documentation and Patient Care\\nRecords Protocol.\\n14. Establish vascular access per 7.23 Vascular Access & IV Fluid Therapy-\\nProcedure Protocol when fluid or medication administration may be necessary.\\n15. If applicable, apply cardiac monitor and treat rhythm according to appropriate\\nprotocol.\\n16. If applicable, obtain 12-lead ECG (Per MCA selection, may be a BLS or Specialist\\nprocedure) see 7.1 12 Lead ECG-Procedure Protocol.  Provide a copy of the\\nrhythm strip or 12-lead ECG to the receiving facility, be sure to place patient\\nidentifiers on strip.\\n17. Use capnography/capnometry as directed per 7.24 End Tidal Carbon Dioxide\\nMonitoring-Procedure Protocol\\nNOTE:  When possible, provide a list of the patients medications or bring the medications to\\nthe hospital.","source_file":"1.1-GENERAL-PRE-HOSPITAL-CARE-Clean-7.31.24.txt"},"1.10":{"name":"FOREIGN BODY AIRWAY OBSTRUCTION","content":"This procedure is intended for situations in which a severe foreign body airway\\nobstruction (FBAO) has occurred. EMS personnel must be able to rapidly initiate\\ntreatment in such cases. EMS personnel should consider these cases to be potential\\ncardiac arrests.\\nFOREIGN BODY AIRWAY OBSTRUCTION\\nThis procedure is intended for situations in which a severe foreign body airway obstruction\\n(FBAO) has occurred. EMS personnel must be able to rapidly initiate treatment in such cases.\\nNote: Sudden cardiac arrest that occurs while a person is eating is frequently dispatched as\\nchoking. EMS personnel should consider these cases to be potential cardiac arrests.\\n1.  In conscious (responsive) adults and children >1 year of age, deliver abdominal thrusts in\\nrapid sequence until the obstruction is relieved.\\n2.  Administer chest thrusts in conscious patients in place of abdominal thrusts when:\\na.  Abdominal thrusts are ineffective (optional consideration)\\nb.  Patient is obese and rescuer is unable to encircle the patients abdomen\\nc.  Patient is in the later stages of pregnancy (e.g., greater than 20 weeks)\\nd.  Patient is under 1 year of age\\ne.  Wheelchair bound patients\\n3.  For conscious infants (under 1 year old) with evidence of severe FBAO:\\na.   Deliver repeated cycles of 5 back blows followed by 5 chest compressions until the\\nobject is expelled or the patient becomes unresponsive.\\nb.  Note: Abdominal thrusts are not recommended for infants because they may damage\\nthe infants relatively large and unprotected liver.\\n4.  If any patient becomes unresponsive or is found unresponsive and is unable to be ventilated\\nusing the 2-person bag-valve-mask technique with oropharyngeal airway start CPR\\n5.  For unconscious patients, while chest compressions are being provided, perform direct\\nlaryngoscopy. If foreign body is visible, remove using adult or pediatric Magill forceps.\\n6.  If unsuccessful in visualizing foreign body, continue chest compressions and repeat direct\\nlaryngoscopy while alternating with attempts to ventilate.\\n7.  Once FBAO is relieved, if spontaneous respiration does not return, refer to 7.9 Airway\\nManagement-Procedure Protocol","source_file":"1.10-FBAO-8.31.23-clean.txt"},"1.100":{"name":"GENERAL TREATMENT","content":"Diabetic Emergencies\\nThe purpose of this protocol is to provide for the assessment and treatment of patients\\nsuffering from a diabetic emergency.\\nMFR Agencies may carry glucometers and oral glucose paste (optional).\\n1.  Follow 1.1 General Pre-Hospital Care Protocol.\\n2.  Obtain blood glucose level if equipment is available.\\na.  Awake and with a gag reflex\\ni.  If blood glucose is:\\n1.  below 40mg/dl for patients less than or equal to 60 days old;\\n2.  below 60mg/dl for adults and pediatric patients over 60 days old;\\na.  Administer 15 grams of oral glucose, for infants contact\\nmedical direction if IV not available.\\nb.  Re-evaluate after 10 minutes and if the blood sugar does\\nnot improve or only improves slightly repeat the oral\\nglucose or,\\nc.  Establish an IV and,\\nd.  Consider administration of IV Dextrose.\\nNote: At the provider discretion, if available IV Dextrose may be\\ngiven without attempting oral glucose first.\\ni.  Adults IV Dextrose 50% (25g)\\nii.  Pediatric refer to MIMEDIC cards\\nii.  If the blood glucose is normal follow specific protocol for patient condition.\\niii.  For adult if the blood glucose is above 250mg/dl with symptoms of\\nhyperglycemia.\\n1.  Start an IV and administer NS or LR IV bolus, up to 1 L.\\na.  For patients with renal failure or heart failure, decrease\\nvolume to 500 mL.\\n2.  Monitor EKG.\\niv.  For pediatrics if the blood glucose is above 250mg/dl with symptoms of\\nhyperglycemia\\n1.  Contact medical control\\nb.  Altered Mental Status\\ni.  If blood glucose is:\\n1.  below 40mg/dl for patients less or equal to than 60 days old;\\n2.  below 60mg/dl for adults and pediatric patients over 60 days old;\\na.  Establish an IV\\ni.  If unable to establish IV contact Medical Control.\\nb.  Administer IV Dextrose 50% (25g) or small amounts of\\noral glucose.\\nc.  For Pediatrics follow MIMEDIC\\nii.  If blood glucose is normal and the patients mental status is altered refer\\nto 3.1 Altered Mental Status.\\niii.  For adults, if the blood glucose is above 250mg/dl with symptoms of","source_file":"1.100-DIabetic-Emergencies-9-28-23-Clean-Amended.txt"},"1.101":{"name":"GENERAL TREATMENT","content":"Citizen Assist/Lift Assist\\nThis protocol should be used when dispatched to a citizen assist or lift assist patient.\\nTreatment\\n1.  Follow 1.1 General Pre-Hospital Care Protocol.\\n2.  Perform a patient assessment, follow 7.14 Patient Assessment.\\n3.  Obtain a full set of vital signs.\\n4.  Lift or move the patient as appropriate.\\n5.  Treat any injuries or illness per the appropriate protocol.\\n6.  If the patient requires or requests transport to the hospital transport per 8.33\\nTransportation Protocol.\\n7.  If the patient does not wish to have any further treatment or feels no treatment is\\nnecessary follow 7.19 Refusal of Care Adult and Minor.\\nDocumentation\\n1.  All Citizen Assist/Lift Assist incidents shall be documented in an ePCR.\\n2.  If the patient refuses any treatment or transport, document in the ePCR and on the\\npatient refusal of care form.","source_file":"1.101-Citizen-Assist-Lift-Assist-9.14.23-Clean.txt"},"1-2":{"name":"ABDOMINAL PAIN (NON-TRAUMATIC)","content":"1.  Follow 1.1 General Pre-hospital Care-Treatment Protocol.\\n2.  Conduct physical exam of abdomen including assessment of central and bilateral distal\\npulses.\\n3.  If symptoms of shock present refer to 1.5 Shock-Treatment Protocol.\\n4.  Position patient in a position of comfort if pain is non-traumatic.  If trauma related, refer\\nto 2.2 General Trauma-Treatment Protocol\\n5.  Do not allow patient to drink or eat anything (does not include ODT medications)\\n6.  If patient is experiencing nausea and vomiting refer to 1.3 Nausea and Vomiting-\\nTreatment Protocol.\\n7.  Treat pain per 7.13 Pain Management-Procedure Protocol.\\n8.  Consider 12 Lead (Per MCA selection, may be a BLS or Specialist procedure) follow\\n7.1 12 Lead ECG-Procedure Protocol.","source_file":"1.2-ABDOMINAL-PAIN-NON-TRAUMATIC-8.31.23-Clean.txt"},"1-3":{"name":"NAUSEA & VOMITING","content":"1.  Follow 1.1 General Pre-hospital Care-Treatment Protocol.\\n2.  Consider underlying causes of nausea and vomiting (i.e., stroke, trauma,\\ncardiac, diabetes etc.) and further evaluate according to appropriate protocol.\\n3.  Pediatric patients (< 14 years of age) utilize MI MEDIC cards for appropriate\\nmedication dosage.  When unavailable utilize pediatric dosing listed within\\nprotocol.\\n4.  Isopropyl alcohol  Consider allowing patient to inhale vapor from isopropyl\\nalcohol wipe 3 times every 15 minutes as tolerated\\n5.  For patients > 30 kg that are not actively vomiting, administer ondansetron\\n(i.e., Zofran) 4mg ODT (availability and licensure level per MCA selection).\\na.  Contraindications: Patients with Phenylketonuria (PKU)\\nODT ondansetron included?\\nYES     NO\\nPer MCA Selection\\nEMT\\nSpecialist\\n6.  For signs of dehydration, administer NS or LR IV/IO fluid bolus (refer to 7.23\\nVascular Access and IV Fluid Therapy-Procedure Protocol).\\na.   Adults: up to 1 liter.\\n  b.   Pediatrics: up to 20 ml/kg\\n7.  Hypotensive patients should receive additional IV/IO fluid boluses, as indicated\\nby hemodynamic state.\\na.  Adults: repeat IV/IO fluid bolus to a maximum of 2 liters.\\n  b.  Pediatrics: repeat dose of 20 ml/kg to a maximum of 40 ml/kg\\nc.   Monitor for pulmonary edema.\\nd.   If pulmonary edema presents, stop fluids and contact Medical Control for\\n  direction.\\n   8. Administer ondansetron IV/IM if ODT not already administered or if patient\\n  vomited post ODT administration. (Per MCA selection, may be a Specialist\\n  skill)\\nOndansetron IV/IM\\nSpecialist\\na.  Adults 4mg IV/IM\\nb.  Pediatrics refer to MI MEDIC cards.\\nc.  i. If MI MEDIC cards are not available administer 0.1 mg/kg IV/IM,\\nmaximum dose of 4 mg","source_file":"1.3-NAUSEA-AND-VOMITING-8.31.23-Clean-Edit.txt"},"1-4":{"name":"SYNCOPE","content":"Initial Date: 8/31/2023\\nRevised Date:\\nSyncope\\n1.  Assess for mechanism of injury, if trauma sustained, refer to 2.2 General Trauma-\\nTreatment Protocol.\\n2.  Follow 1.1 General Pre-Hospital Care-Treatment Protocol.\\n3.  Pediatric patients (< 14 years of age) utilize MI MEDIC cards for appropriate\\nmedication dosage.  When unavailable utilize pediatric dosing listed within protocol.\\n4.  Position patient\\nA.  If third trimester pregnancy, position patient left lateral recumbent.\\nB.  Supine for all other patients\\n5.  Check blood glucose (may be MFR skill, see 7.21 Blood Glucose Testing-\\nProcedure Protocol)\\n6.  If altered mental status perform stroke assessment and evaluate for stroke per\\n3.2 Stroke/Suspected Stroke-Treatment Protocol\\n7.  If altered mental status, refer to 3.1 Adult or 4.4 Pediatric Altered Mental Status-\\nTreatment Protocol.\\n8.  For signs of dehydration or hypotension, administer NS or LR IV/IO fluid bolus (refer\\nto 7.23 Vascular Access and IV Fluid Therapy-Procedure Protocol).\\nA.  Adults: up to 1 liter\\nB.  Pediatrics: up to 20 mL/kg\\n9.  Hypotensive/dehydrated patients should receive additional IV/IO fluid boluses, as\\nindicated by hemodynamic state.\\na.  Adults: repeat IV/IO fluid bolus to a maximum of 2 liters.\\nb.  Pediatrics: repeat dose of 20 ml/kg to a maximum of 40 ml/kg\\nc.  Monitor for pulmonary edema.\\nd.  If pulmonary edema presents, stop fluids and contact Medical Control\\nfor direction.\\n10. Obtain 12-lead ECG (Per MCA selection, may be a BLS or Specialist procedure)\\nfollow 7.1 12 Lead ECG-Procedure Protocol. If ECG indicates cardiac event or\\ndysrhythmia, refer to appropriate Cardiac Protocol.\\n11. Contact medical control for additional IV fluids.","source_file":"1.4-SYNCOPE-8.31.23-Clean.txt"},"1-5":{"name":"SHOCK","content":"Initial Date: 8/31/2023\\nRevised Date:\\nShock\\n1.  Assessment:  Consider etiologies of shock and refer to specific types of\\nshock/injury first if known: 1.6 Anaphylaxis/Allergic Reaction-Treatment\\nProtocol, 2.14 Hemorrhagic Shock-Treatment Protocol, 5.4 Pulmonary\\nEdema/Cardiogenic Shock-Treatment Protocol\\n2.  Follow 1.1 General Pre-hospital Care-Treatment Protocol.\\n3.  Pediatric patients (< 14 years of age) utilize MI MEDIC cards for appropriate\\nmedication dosage.  When unavailable utilize pediatric dosing listed within\\nprotocol.\\n4.  Control major bleeding per 2.13 Bleeding Control (BCON)-Procedure Protocol.\\n5.  Remove all transdermal patches using gloves.\\n6.  Prompt transport per MCA Transport Protocol.\\n7.  Special consideration\\na. If 3rd trimester pregnancy, position patient left lateral recumbent.\\n8.  Obtain vascular access (in a manner that will not delay transport).\\n9.  Administer NS or LR fluid bolus IV/IO (refer to 7.23 Vascular Access and IV Fluid\\nTherapy-Procedure Protocol).\\na. Adults: up to 1 liter wide open,\\nb. Pediatrics: up to 20 ml/kg based on signs and symptoms of shock\\nc. Fluid should be slowed to TKO when SBP greater than 90 mmHg.\\n10. Consider establishing a second large bore IV of NS or LR enroute to the hospital.\\n11. Obtain 12-lead ECG, if suspected cardiac etiology. (Per MCA selection, may be a\\nBLS or Specialist procedure) follow 7.1 12 Lead ECG-Procedure Protocol.\\n12.  If accompanying head injury, refer to 2.12 Head Injury-Treatment Protocol.\\na. Maintain SpO2  90%\\nb. Maintain SBP > 90 mmHg < 140 mmHg\\nc. Do NOT hyperventilate.\\n13. Hypotensive patients should receive additional IV/IO fluid boluses, as indicated by\\nhemodynamic state (consider preparing epi push dose while administering\\nsecond bolus)\\na.  Adults: repeat IV/IO fluid bolus to a maximum of 2 liters.\\nb.  Pediatrics: repeat dose of 20 ml/kg to a maximum of 40 ml/kg\\nc.  Monitor for pulmonary edema.\\nd.  If pulmonary edema presents, stop fluids and contact Medical Control\\nfor direction.\\n14.  If hypotension persists after IV/IO fluid bolus, administer epinephrine IV/IO by\\npush dose (dilute boluses) while administering second fluid bolus.\\na.  Prepare (epinephrine 10 mcg/mL) by combining 1mL of 1mg/10mL\\n      epinephrine in 9mL NS, then\\na.  Adults:\\ni.  Administer 10-20 mcg (1-2 mL epinephrine 10 mcg/mL) IV/IO\\nii.  Repeat every 3 to 5 minutes\\niii.  Titrate SBP greater than 90 mm/Hg.","source_file":"1.5-Shock-8.31.23-Clean-edited.txt"},"1-6":{"name":"ANAPHYLAXIS/ALLERGIC REACTION","content":"a.  Follow 1.1 General Pre-Hospital Care-Treatment Protocol.\\nb.  Pediatric patients (< 14 years of age) utilize MI MEDIC cards for appropriate\\nmedication dosage.  When unavailable utilize pediatric dosing listed within\\nprotocol.\\nc.  Ensure ALS response.\\nd.  Determine if anaphylaxis/severe allergic reaction (wheezing and/or hypotension)\\nor an allergic reaction (itching, hives).\\ne.  Determine substance or source of exposure, remove patient from source if\\nknown and able.\\nB.  Anaphylaxis/Severe Allergic reaction\\na.  Assist patient in use of their own prescribed epinephrine auto-injector, if\\navailable.\\nb.  Administer epinephrine auto-Injector IM.\\nMCA Approval of epinephrine auto-injector IM\\n  MFR\\n    MCAs will be responsible for maintaining a roster of the agencies choosing\\nto participate and will submit roster to MDHHS\\n1.  Contact Medical Control if child appears to weigh less than 10 kg\\n     (approx. 20 lbs.), prior to epinephrine administration, if possible .\\n2.  Administer pediatric epinephrine dose auto-injector IM if child weighs\\n                           between 10-30 kg (approximately 20-60 lbs.).\\n3.  Administer epinephrine auto-injector IM for adults and children weighing\\n                           greater than 30 kg (approximately 60 lbs.).\\n4.  May repeat epinephrine auto-injector IM one time after 3-5 minutes if the\\npatient remains hypotensive, and auto-injector available.\\nc.  Administer epinephrine IM (per MCA selection may be BLS or MFR skill)\\nNOTE: BLS not carrying epinephrine auto-injector MUST participate in draw\\nup epinephrine.\\nMCA Approval of draw up epinephrine.\\n  MFR\\n  BLS\\nPersonnel must complete MCA approved training prior to participating in draw\\nup epinephrine.\\nMCAs will be responsible for maintaining a roster of the agencies choosing to\\nparticipate and will submit roster to MDHHS.","source_file":"1.6-Anaphylaxis-Allergic-Reaction-8.31.23-Clean-edited.txt"},"1-7":{"name":"ADRENAL CRISIS","content":"Initial Date: 8/31/2023\\nRevised Date:\\nAdrenal Crisis\\nPurpose:  This protocol is intended for the management of patients with a known history of\\nadrenal insufficiency, experiencing signs of crisis.\\nIndications:\\n1.  Patient has a known history of adrenal insufficiency or Addisons disease.\\n2.  Presents with signs and symptoms of adrenal crisis including:\\na.  Pallor, headache, weakness, dizziness, nausea and vomiting, hypotension,\\nhypoglycemia, heart failure, decreased mental status, or abdominal pain.\\nTreatment:\\n1.  Follow 1.1 General Pre-hospital Care-Treatment Protocol.\\n2.  Pediatric patients (< 14 years of age) utilize MI MEDIC cards for appropriate\\nmedication dosage.  When unavailable utilize pediatric dosing listed within protocol.\\nContact Medical Control for all adrenal crisis patients prior to treatment:\\n1.  Administer fluid bolus NS or LR IV/IO (refer to 7.23 Vascular Access and IV Fluid\\nTherapy-Procedure Protocol)\\na.  Adults: up to 1 liter.\\nb.  Pediatrics: up to 20 ml/kg\\n2.  Assist with administration of patients own hydrocortisone sodium succinate (Solu-\\nCortef)\\na.  Adult: 100 mg IV/IM\\nb.  Pediatric: 1-2 mg/kg IV/IM\\n3.  If patient does not have their own hydrocortisone, administer prednisone tablet 50 mg\\nPO to adults and children > 6 years of age (if available per MCA selection)\\nAdditional Medication Option:\\n Prednisone 50 mg tablet PO\\n(Adults and Children > 6 y/o)\\na.  If prednisone is not available, patient is < 6 years of age, or patient is unable to\\nreceive medication PO, administer methylprednisolone IV/IO/IM:\\ni.  Adults: 125 mg\\nii.  Pediatrics: 2mg/kg (max 125 mg)\\n4.  Transport\\n5.  Notify Medical Control of patients medical history.\\n6.  Refer to Adult or Pediatric 3.1 Altered Mental Status-Treatment Protocol.\\nMedication Reference\\nMethylprednisolone\\nPrednisone","source_file":"1.7-ADRENAL-CRISIS-8.31.23-Clean.txt"},"1-8":{"name":"BEHAVIORAL HEALTH EMERGENCIES","content":"Definition:\\nA patient with a psychiatric emergency is solely related to the effects of their mental illness\\nand not an acute medical emergency requiring life-supporting intervention. The patient may\\nhave risk for harm of self and/or others, which can include an inability to care for their own\\nactivities of daily life.\\nProcedure:\\nTransport all adult and pediatric psychiatric patients to the closest OCMCA hospital for\\nmedical clearance.\\n\\nIf EMS personnel witness an act, or acts, or hear significant threats made by the\\npatient that leads them to believe that the patient can reasonably be expected\\nwithin the near future to intentionally or unintentionally seriously physically injure\\nself or others, EMS personnel may complete a Petition for Mental Health\\nTreatment (PM201).\\no  Petitions should be obtained from a hospital ED representative.\\no  The Petition for Mental Health Treatment MUST be:\\n  Completed in black ink only.\\n  Completely free of errors.\\n  Patients may only refuse transport if they meet the criteria outlined in the 7.19\\nRefusal of Care Protocol.\\no\\nIf care is refused, per Refusal of Care Protocol, EMS providers may consider\\nreferring patients experiencing crisis to Common Grounds 24/7 Resource\\nand Crisis Center hotline at: 1-800-231-1127.\\nNOTE: If the psychiatric patient, his/her family, or other patient advocate requests transport\\nto a specific OCMCA hospital, and that request requires bypassing a closer OCMCA\\nhospital, the transporting crew must obtain online approval from the requested hospital prior\\nto initiating transport.\\n1.  Assure scene is secure.\\n2.  Follow 1.1 General Pre-hospital Care-Treatment Protocol.\\n3.  Respect the dignity of the patient.\\n4.  Treat known conditions such as hypoglycemia, hypoxia, or poisoning. Refer to\\nappropriate protocol.\\n5.  Patients experiencing behavioral health emergencies should be transported for\\ntreatment if they have any of the following:\\na.  Can be reasonably expected to intentionally or unintentionally physically injure\\nthemselves or others or has engaged in acts or made threats to support the\\nexpectation.\\nb.  Are unable to attend to basic physical needs.\\nc.  Have judgement that is so impaired that he or she is unable to understand the\\nneed for treatment and whose behavior will cause significant physical harm.","source_file":"1.8-Behavioral-EMERGENCIES-8.31.23-Clean.txt"},"1-9":{"name":"OPIOID OVERDOSE TREATMENT AND PREVENTION","content":"Opioid Overdose Treatment and Prevention\\nAliases:  OD, Naloxone administration, Naloxone leave behind, Accidental overdose\\nIndications: Decreased level of consciousness associated with respiratory depression from\\nOpioid Overdose, signs of opioid use, scenes with indications of opioid use.  For critically ill\\npatients see 3.7 Adult or 4.9 Pediatric Crashing Patient/Impending Arrest-Treatment\\nProtocol.\\nProcedure:\\n1.  Follow 1.1 General Pre-hospital Care-Treatment Protocol.\\n2.  Pediatric patients (< 14 years of age) utilize MI MEDIC cards for appropriate\\nmedication dosage.  When unavailable utilize pediatric dosing listed within protocol.\\n3.  If patient has respiratory depression, provide oxygenation and support ventilations.\\nTreatment goal is to restore effective respirations; the patient need not be completely\\nawakened.\\na.  Administer naloxone when (may be an MFR skill based on MCA selection):\\ni.  Ventilations have been established and patient has not regained\\nconsciousness.\\nii.  There is more than 1 rescuer on scene for personnel safety\\nprecautions.\\nMCA Selection for\\n MFR naloxone administration\\nMCAs will be responsible for maintaining a roster of the MFR agencies\\nchoosing to participate and will submit roster to MDHHS\\nb.  Per MCA Selection (below), administer naloxone intranasal May repeat one\\ntime in 3-5 minutes if effective respirations not restored.\\nMCA selection for intranasal naloxone (MUST SELECT AT LEAST ONE):\\nNarcan\xae Nasal Spray 4 mg (Adults Only).  Entire dose in one nostril.\\nAdditional dose in opposite nostril.\\n Naloxone Prefilled 2 mg/2 ml IN via Atomizer (Half dose in each nostril)\\n  Adult and child over 3 years: 2 ml\\n  Pediatric Dosing:\\no  Up to 3 months: 0.5 ml\\no  3 months up to 18 months: 1 ml\\no  Children 19-35 months: 1.5 ml\\nc.  Administer naloxone IM, IN or slowly IV, titrating to restore effective\\nrespirations.\\ni.  Adult: 2 mg IM or IN via atomizer.\\n1.  IN max of two doses total.","source_file":"1.9-Opioid-Overdose-Tx-and-Prev-8.31.23-Clean-edited.txt"},"10-1":{"name":"GENERAL CBRNE IDENTIFICATION OF AGENTS","content":"Purpose: This is written to provide general pre-arrival information for suspected HAZMAT\\nand CBRNE (chemical, biological, radiological, nuclear, and explosive) incidents.\\nNOTE: This information is an overview of different types of incidents and agents.\\nSigns of an Incident\\n1. A chemical or biological incident may not always be obvious.\\n2. Many of the early signs and symptoms produced by chemical agents may resemble\\nthose of a variety of disorders.  Biological symptoms are generally delayed.\\n3. The patient\'s clinical presentation may offer clues about the type of toxic substance\\nexposure.\\nA. CHEMICAL INCIDENT\\ni. Explosions or suspected release of liquids, vapors or gases\\nii. Mass casualties without obvious trauma\\niii. Similar presentation and/or symptoms for multiple patients.\\nB. BIOLOGICAL INCIDENT\\ni. An unusual increase in the number of individuals seeking care,\\nespecially with similar symptoms such as respiratory, neurological,\\ngastrointestinal, or dermatological symptoms.\\nii. Any clustering of patients in time or location (e.g., persons who\\nattended the same public event).\\nC. RADIOLOGICAL INCIDENT\\ni. Notification of the detonation of a nuclear device.\\nii. Dirty bomb\\niii. Known issues with nuclear power plant or other radioactive source.\\nD. NUCLEAR INCIDENT\\ni. Explosion with mushroom cloud and devastation of a large\\ngeographical area\\nE. EXPLOSIVE INCIDENT\\ni. Responders should be aware of the possibility of secondary\\nincendiary devices and agents.\\nii. Obvious trauma.\\nMedical Response\\n4. First responding units must approach with caution.\\n5. Approach upwind, uphill and upstream, as appropriate.\\n6. Utilize resource materials such as the Emergency Response Guidebook, Emergency\\nCare for Hazardous Materials Exposure, or smart phone applications.\\n7. Utilize appropriate PPE.\\n8. Be aware of contaminated terrain and contaminated objects.\\n9. Hazmat response protocols must be initiated, as well as unified incident command.\\n10. Maintain a safe distance from the exposure area.","source_file":"10.1-General-CBRNE-Identification-5.8.23.txt"},"10-10":{"name":"TRANSPORT AND DESTINATION GUIDELINES","content":"Transportation and Destination Guidelines\\n Medical Control Authorities choosing to adopt this supplement may do so\\nby selecting this check box. Adopting this supplement changes or clarifies the\\nreferenced protocol or procedure in some way. This supplement supersedes,\\nclarifies, or has authority over the referenced protocol.  This protocol will only\\nbe used by SPRN trained individuals.\\nPurpose:\\nThis protocol is to assist inter-facility transport of patients believed to be infected with a\\nspecial pathogen to a hospital that may be outside of the local Medical Control Authority.\\nDefinition:\\nSpecial pathogen refers to highly infectious diseases, including hemorrhagic viral diseases\\n(HVDs) such as Ebola and similar infections.\\nTransport Destination Decision\\n1. The patient will be transported to the closest appropriate hospital capable of providing\\nthe services needed. The closest appropriate hospital may be outside of an agencys\\nprimary service area.\\n2.\\nInter-facility transport of patients is permitted by pre-identified transport teams to\\nhospitals that may originate and end outside of the transporting agencys Medical Control\\nAuthority when no local pre-identified specialty transport team is available.","source_file":"10.10-SPRN-Transportation-and-Destimation-Guidelines-7.23.23.txt"},"10-100":{"name":"GENERAL HAZMAT TREATMENT","content":"This Protocol is intended for use by a Hazardous Materials Response Team.\\nGeneral HAZMAT Treatment\\nPurpose:  This  is  written  to  provide  general  pre-arrival  information  for  suspected  HAZMAT\\nincidents.  Hazardous  Materials  pose  a  threat  during  every  phase  of  their  existence:\\nproduction,  packaging, storage and delivery.  Many common hazardous materials used in\\nto  emergency  responders.  The  Hazardous  Materials  Medical\\nindustry  pose  a  threat\\nthe  HAZMAT  response  team  as  its  primary\\nResponse  Team  is  designed  to  support\\nmission, but may treat other exposed patients as well.\\nIn general, standard MCA treatment should be used in treating a patient exposed to hazardous\\nmaterials.  The  protocols  contained  in  this  section  are  to  be  used  by  the  systems\\nhazardous  materials  medical  response  teams  for  situations  that  are  amenable  to  treatment\\nbased on the teams training and equipment.\\nContact Medical Control as soon as possible. If possible contact should be made as soon as\\narriving on a  scene. Be prepared to provide the following information:\\nName and form of the chemical(s) involved\\nAmount of chemical(s)\\nRoutes of exposure\\nNumber of victims\\nAny updated information should be relayed to Medical Control as soon as possible.\\nPre-Medical Control\\nPARAMEDIC\\n1. Approach the scene with caution only after a safety perimeter has been established.\\n2. Maintain a safe distance.\\n3. Approach upwind, uphill and upstream, as appropriate.\\n4. Be aware of potential contaminated terrain and contaminated objects.\\n5. Determine the HAZMAT involved in the incident, medics should not enter a hot zone.\\n6. The patient\'s clinical presentation may offer clues about the type of HAZMAT substance.\\n7. Victims and potential victims must be evacuated rapidly from the contaminated area.  Major\\ndecontamination  should  be  conducted  by  the  HAZMAT  team  and  decontaminated  as\\nquickly  as  possible.    Additional  decontamination  may  be  necessary  as  described  under\\nprotocol.","source_file":"10.100-General-Hazmat-9.14.23-Clean-edited.txt"},"10.101":{"name":"AMMONIA (LIQUID & GAS)","content":"This Protocol is intended for use by a Hazardous Materials Response Team.\\nAmmonia (Liquid & Gas)\\nFORMS: Gas (anhydrous) and liquid (aqueous solutions, variable concentrations).\\nROUTES OF EXPOSURE: Skin and eye, inhalation, ingestion.\\nSIGNS AND SYMPTOMS:\\nCNS:\\nEye:\\nStupor, lethargy and coma. Seizures may be present.\\nChemical conjunctivitis with vapors, necrosis and blindness\\nwith liquids and anhydrous gas exposures.\\nCardiovascular:  Ventricular arrhythmias and hypotension.\\nRespiratory:  Acute  pulmonary  edema,  bronchospasm,  stridor,  cough,\\ndyspnea and chest pain. Respiratory tract irritation with\\npossible laryngeal edema.\\nGastrointestinal: G.I. bleeding due to liquefaction necrosis of the G.I. tract.\\nOther:\\nRespiratory damage can be severe with potential fatal results.\\nRespiratory symptoms may be delayed.\\nPre-Medical Control\\nPARAMEDIC\\n1.\\n2.\\n3.\\n4.\\nFollow 10.100 General HAZMAT Treatment Protocol.\\nIf the patient is unconscious, follow the 3.1 Altered Mental Status protocol\\nand the  7.9  Airway Management Procedure.  Aggressive airway\\nmanagement may be  indicated.\\nIf the patient is wheezing, administer Albuterol 2.5 mg/3 ml NS\\nnebulized.  Repeat as needed.\\nFollow 10.105 HAZMAT Eye Irrigation protocol.","source_file":"10.101-Ammonia-Liquid-Gas-9.14.23-Clean.txt"},"10.102":{"name":"ASPHYXIANTS - SIMPLE","content":"This Protocol is intended for use by a hazardous materials response team.\\nAsphyxiants - Simple\\nFORMS: Carbon Dioxide (CO2), Nitrogen, Helium, Methane and Propane Gas.\\nROUTES OF EXPOSURE:  Inhalation displaces oxygen in the normal\\nenvironmentcausing hypoxia, hypercapnea or other potentially incapacitating\\ncondition.\\nSIGNS AND SYMPTOMS:\\nCNS:\\nAltered mental status, stupor, lethargy and coma.\\nCardiorespiratory: Respiratory or cardiopulmonary arrest due to hypoxia.\\nPre-Medical Control\\nPARAMEDIC\\n1.  Follow 10.100 General HAZMAT Treatment protocol.\\n2.  Administer oxygen 10-15 L via non-rebreather mask or BVM.\\n3.  Follow 7.9 Airway Management Procedure.","source_file":"10.102-Asphyxiants-9.14.23-clean-edited.txt"},"10.103":{"name":"Unknown Protocol","content":"This Protocol is intended for use by a Hazardous Materials Response Team.\\nChlorine and Related Compounds\\nFORMS:  Found in liquid and gaseous forms. Colorless to amber-colored liquid,\\nand  greenish-yellow gas with a characteristic odor. Some solid compounds may\\ngenerate  chlorine when in contact with water.  Phosgene (COCl2) and Nitrogen\\nDioxide (NO2) are  related compounds.\\nTHERMAL  DECOMPOSITION  PRODUCTS:  Reacts  with  water\\nform\\nhydrochloric  and  hypochlorous  acid.  Chlorine  reacts  with  carbon  monoxide  to\\nform  phosgene.  Slightly  water-soluble\\ntoxicants  Phosgene  (COCl2)  and\\nNitrogen  Dioxide  (NO2)  may  produce  prolonged  exposure.  Toxic  substances\\nare  formed  when  combustibles  burn  in  chlorine.\\nto\\nROUTES OF EXPOSURE: Skin and eye, inhalation, ingestion\\nTARGET ORGANS:  Primary - Skin, eyes, respiratory system\\nSecondary - Central nervous  system,  cardiovascular\\nsystem,  gastrointestinal system, renal, hepatic, metabolism\\nLIFE  THREAT:    Severe  respiratory  tract  irritant  that  may  cause  pulmonary\\nedema.  Skin,  eye  and  mucous  membranes irritant.  Patients\\nmay  have  delayed  life-threatening  symptoms  (Chlorine  or\\nPhosgene).\\nSIGNS AND SYMPTOMS:\\nCNS:\\nEye:\\nDecreased level of consciousness to coma.\\nHeadache and  dizziness.\\nChemical conjunctivitis with lacrimation. Severe and\\npainful  irritation and burns.\\nCardiovascular:  Cardiovascular collapse and possible ventricular\\narrhythmias.\\nRespiratory:\\nAcute or delayed non cardiogenic pulmonary edema,","source_file":"10.103-Chlorine-and-Related-Compounds-9.14.23-Clean-edited.txt"},"10.104":{"name":"Unknown Protocol","content":"This Protocol is intended for use by a Hazardous Materials Response Team.\\nCorrosive Agents\\nCommon Acids:  Acetic acid, Hydrochloric acid, Nitric acid, Phosphoric acid\\nCommon Bases: Ammonium hydroxide, Potassium hydroxide, Sodium\\nand  Sulfuric acid,\\nhydroxide.\\nOxidizers include: Chlorine dioxide, Hydrogen peroxide, Methyl ethyl ketone\\nperoxide, Sodium chlorate. May cause hemolysis and methemoglobin.\\nWhite phosphorus is found in fireworks and explosives.  Monitor for cardiogenic\\nshock  and arrhythmias.\\nFORMS:\\nA corrosive agent may be found as solids in pellets, flakes,\\nlumps or  sticks and liquid.\\nUSES:\\nAcid neutralizer in petroleum refining, cleaning agents, hair\\nstraighteners,  paint removers, solvents, water treatment,\\nprocessing of cellulose, paper,  textiles and plastics.\\nROUTES OF EXPOSURE: Skin and eye contact, inhalation, ingestion\\nTARGET ORGANS:\\nPrimary  Skin, eyes, respiratory system,\\ngastrointestinal system.\\nSecondary  Central nervous system,\\ncardiovascular system.\\nSevere tissue irritant that may cause upper airway\\nburns  and edema, pulmonary edema and skin burns.\\nMay cause  GI perforation, hemorrhage and peritonitis\\nleading to  circulatory collapse.\\nLIFE THREAT:\\nSIGNS AND SYMPTOMS:\\nCNS:\\nApathy, mental confusion, blurred vision and tremors.","source_file":"10.104-Corrosive-Agents-9.14.23-Clean-edited.txt"},"10.105":{"name":"HAZMAT EYE IRRIGATION","content":"This Protocol is intended for use by a Hazardous Materials Response Team.\\nHAZMAT Eye Irrigation\\nEye irrigation should be performed on all patients with a significant exposure to\\na gas or  when the eye is contaminated by a substance.\\nPre-Medical Control\\nPARAMEDIC\\n1.  Remove contact lenses.\\n2.  Eyes should be flushed with 1000cc of Normal Saline minimum for each\\neye.\\n3.  Use Tetracaine hydrochloride 0.5% 1 - 2 drops in each eye.\\n4.  Insert an irrigation lens into each eye.\\n5.  Hook lenses up to Normal Saline and irrigate with minimum of 1000 cc\\nfor each  eye.\\n6.  If  the  chemical  the  patient  was  exposed  to  creates  a  potential  for\\nsecondary  exposure, care should be taken to contain the run-off.\\n7.  For corrosive agents, continue eye irrigation until arrival at hospital.\\n8.  For Hydrogen Fluoride irrigate with a 1% aqueous solution of Calcium\\nGluconate  (50ml of 10% Calcium Gluconate in 450 ml of NS).\\nSPECIAL CONSIDERATIONS:\\nCare should be taken that the patient does not rub eyes after administration of\\nTetracaine  as damage can occur.\\nIf available, perform a pretreatment pH test.","source_file":"10.105-HazMat-Eye-Irrigation-9.14.23-Clean.doc.txt"},"10.106":{"name":"HYDROCARBONS AND HALOGENATED HYDROCARBONS","content":"This Protocol is intended for use by a Hazardous Materials Response Team.\\nHydrocarbons and Halogenated Hydrocarbons\\nHydrocarbons:  Methane, Propane, Gasoline, Mineral spirits, Kerosene,\\nTurpentine, and  Pine tar.\\nHalogenated hydrocarbons:  Chloroform, Ethyl Chloride, Methylene Chloride, and\\nTrichloroethane.\\nFORMS:\\nGas and liquid\\nROUTES OF EXPOSURE: Skin and eye, inhalation, ingestion.\\nSIGNS AND SYMPTOMS:\\nCNS:\\nStupor, lethargy and coma. Seizures may be present.\\nEye:\\nChemical conjunctivitis with vapors, irritation or corneal\\ninjury  with liquids.\\nCardiovascular:  Arrhythmias and hypotension.\\nRespiratory:  Respiratory depression.\\nSkin:\\nChemical burns with prolonged contact.\\nPre-Medical Control\\nPARAMEDIC\\nFollow 10.100 General Hazardous Materials Treatment protocol.\\n1.\\n2.  Administer oxygen 10-15 L via non-rebreather mask if inhalation exposure.\\n3.  Place the patient on cardiac monitor.\\n4.  Monitor level of consciousness for possible deterioration.\\n5.  Wash patient with mild soap/detergent and large quantities of water, for at\\nleast 15  minutes.\\nFollow 10.105 HAZMAT Eye Irrigation protocol if necessary.\\n6.","source_file":"10.106-Hydrocarbons-9.14.23-Clean-edited.txt"},"10.107":{"name":"HYDROGEN FLOURIDE","content":"Hydrogen Fluoride (Fluoric acid, Hydrofluoric acid, Fluorine monehydridel,\\nammonium  bifluoride)\\nFORMS:  Gas,  liquid.  (Fluoride  salts  in  the  presence  of  acids  may  generate\\nHydrogen  Sulfide) Metal cleaners and tire rim cleaners.\\nROUTES OF EXPOSURE: Skin and eye, inhalation, ingestion.\\nSIGNS AND SYMPTOMS:\\nCNS:\\nEye:\\nSymptoms of hypoxia, stupor, lethargy and coma.\\nChemical conjunctivitis, opafication of the cornea\\nand  blindness.\\nCardiovascular:  Hypovolemic shock and circulatory collapse.\\nTachycardia with  weak pulse. Dysrhythmias related to\\nhypocalcemia.\\nHyperkalemic arrhythmias.\\nRespiratory:\\nAcute pulmonary edema, asphyxia and chemical\\npneumonitis.  Upper airway obstruction with stridor, pain\\nand cough due to  edema.\\nGastrointestinal: Acute toxicity results in burns to the mouth, esophagus,\\nstomach and lower G.I. tract. Nausea, vomiting and\\ndiarrhea,  possibly containing blood.\\nSkin:\\nOther:\\nSevere pain with normal looking skin surface. Burn is in\\nlower  skin layers. Bone may be involved. Damage may\\nbe severe  with no outward signs, except patient will\\ncomplain of intense  pain.\\nHydrogen fluoride will form hydrofluoric acid upon\\ncontact  with water, such as in the respiratory system. It\\nbinds with the  calcium in bones and cause extreme\\npain. Both hypocalcemia  and hyperkalemia can be\\nassociated with cardiac  complications.","source_file":"10.107-Hydrogen-Fluoride-9.14.23-Clean-edited.txt"},"10.108":{"name":"HYDROGEN SULFIDE, SULFIDES AND MERCAPTANS","content":"This Protocol is intended for use by a Hazardous Materials Response Team.\\nHydrogen Sulfide, Sulfides and Mercaptans\\nFORMS: Gas (hydrogen sulfide, methyl & short-chain alkyl mercaptans), liquid\\n(other  mercaptans).\\nROUTES OF EXPOSURE: Skin and eye contact, inhalation, skin absorption.\\nSIGNS AND SYMPTOMS:\\nCNS:\\nHeadache, confusion, dizziness, excitement,\\ntiredness and a  garlic taste in mouth. Decreased\\nLOC, coma and seizures.\\nEye:\\nChemical conjunctivitis, lacrimation and photophobia.\\nCardiovascular:  Cardiovascular collapse, tachycardia and arrhythmias.\\nRespiratory:\\nIrritation of respiratory tract, cough, dyspnea and tachypnea.\\nRespiratory arrest and pulmonary edema may be present.\\nGastrointestinal: Nausea, vomiting, hemorrhage, perforation, abdominal\\npain,  painful swallowing, profuse salivation, and burns to\\nthe mouth,  esophagus, stomach and gastrointestinal\\ntract may occur.\\nSkin:\\n    Dermatitis, sweating and local pain. Cyanosis may be\\npresent.\\nOther:\\nSymptoms may be delayed. The ability to detect the\\nproduct by  smell may be lost after a short exposure time.\\nPre-Medical Control\\nPARAMEDIC\\n1.  Follow 10.100 General Hazardous Materials Treatment protocol.\\n2.  Administer oxygen 10-15 L via non-rebreather mask or BVM.\\n3.  In the symptomatic patient with significant exposure administer the\\nCyanide  Poisoning Kit.","source_file":"10.108-Hydrogen-Sulfide-Sulfides-and-Mercaptans-9.14.23-Clean-edited.txt"},"10.109":{"name":"METHEMOGLOBINEMIA","content":"This Protocol is intended for use by a Hazardous Materials Response Team.\\nMethemoglobinemia\\nMETHEMOGLOBINEMIA should be suspected in patients who have been\\nexposed to  Nitrogen Oxides. METHEMOGLOBINEMIA can also be induced\\nwhen treating a  patient with Cyanide Poisoning.\\nFORMS: Gas, liquid and solid. Substances tend to be brown or yellow in color,\\nespecially when impure.\\nROUTES OF EXPOSURE: Skin and eye, inhalation, ingestion\\nSIGNS AND SYMPTOMS:\\nCNS:\\nFatigue, restlessness and decreasing LOC are usually\\ndelayed  signs.\\nEye:\\nChemical conjunctivitis.\\nCardiovascular:  Cardiovascular collapse with a rapid and weak pulse.\\nReflex  bradycardia may occur.\\nRespiratory:  With most agents a mild and transient cough is the only\\nsymptom at the time of exposure. A delayed onset of\\ndyspnea,  rapid respirations, violent coughing and\\npulmonary edema  follows. Some agents work\\nimmediately on the upper airway,  resulting in pain and\\nchoking, spasm of the glottis, temporary  reflex arrest of\\nbreathing and cause upper airway obstruction  from\\nspasm or edema of the glottis.\\nGastrointestinal: Burning of the mucous membranes, nausea,\\nvomiting and  abdominal pain.\\nSkin:\\nOther:\\nIrritation of moist skin areas. Pallor and prominent\\ncyanosis.\\nWith most products, symptoms will be delayed for 5 to\\n72  hours. Certain products or high concentrations can\\nbring on  symptoms immediately. Blood may be a\\n\\"chocolate brown\\"  color.","source_file":"10.109-Methemoglobinemia-9.14.23-Clean-edited.txt"},"10-11":{"name":"PATIENT CONTAINMENT ALGORITHM","content":" Medical Control Authorities choosing to adopt this supplement may do so\\nby selecting this check box. Adopting this supplement changes or clarifies the\\nreferenced protocol or procedure in some way. This supplement supersedes,\\nclarifies, or has authority over the referenced protocol.  This protocol will only\\nbe used by SPRN trained individuals.\\nType of Patient\\nPerson Under Investigation\\nLow Risk/Dry Patient\\nHigh Risk/Wet Patient\\nNo Containment\\nNo Containment\\nRefer to SPRN\\nTransport Protocols\\nPROPER PPE\\nSelf-report to Tier 1-4\\nhospital or EMS Transport\\nwith Proper PPE\\nRefer to SPRN\\nAmbulance\\nPreparation\\nand\\nPatient Care\\nDuring\\nTransport of\\nSuspected\\nHighly\\nInfectious\\nAgent","source_file":"10.11-SPRN-Patient-COntainment-Algorithm-7.23.23.txt"},"10.110":{"name":"AND REPLACEMENT PROCEDURE","content":"This Protocol is intended for use by a Hazardous Materials Response Team.\\nHazardous Materials Medication Exchange and Replacement Procedure\\nEMS Service Stock\\n1.\\n2.\\n3.\\n4.\\nEach EMS Agency assigned a hazardous materials medication box will be\\nresponsible for the security and storage of the box.\\nAll drug boxes and associated supplies such as needles and syringes will be stored in a\\nsecurely locked, temperature-controlled location in the base station. Medication boxes will\\nremain sealed at all times except when in actual use.\\nHazardous materials medication boxes are to be inspected on the first of each month for the\\nexpiration date listed on the label. Expiring or used drug boxes are to be taken by the\\nassigned agency to the designated participating emergency department or pharmacy within\\n7 days for exchange.\\nHazardous materials medication boxes are to be inspected daily by the EMS provider\\nsupervisor for evidence of loss, theft, discrepancy and expiration date. It is recommended\\nthat this inspection be included in a standard documented check list.\\nHospital Stock/Expired/Used Box Exchange\\n1.\\n2.\\n3.\\nAny replacement hazardous material medication box must be maintained in a locked area,\\nunder the control of hospital staff available 24 hours per day. This area will be located in\\nthe emergency department or pharmacy of the participating hospital. Appropriate record\\nkeeping and security measures are required at each exchange site to ensure that only\\nappropriately licensed and authorized personnel have access to medications and other\\nrelated supplies.\\nHazardous materials medication boxes stocked in the emergency department will\\nbe checked regularly by pharmacy staff for expiration and updated as needed.\\nExpiring/used medication boxes will be exchanged for an updated drug box in the\\nemergency department or designated pharmacy. At the time of exchange, the prehospital\\nprovider will notify the charge nurse or make arrangement for the exchange with the\\ndesignated pharmacy. If present, the white pharmacy lock will be removed and the green\\nlock applied.","source_file":"10.110-OCMCA-Haz-Mat-Medication-Box-and-Exchange-9.14.23-Clean-edited.txt"},"10.111":{"name":"Unknown Protocol","content":"This Protocol is intended for use by a Hazardous Materials Response Team.\\nCyanokit\xae Medication Pack Exchange Procedure and Use Replacement Form\\nCyanokit\xae Medication Pack\\n1.\\nCyanokit\xae Medication Packs (CMPs) will be available to the HAZMAT Medical Response\\nTeam (HAZMAT MRT) and paramedics trained in use of the Cyanokit\xae.  Packs will be\\navailable for pickup, when needed by the HAZMAT MRT, at the participating hospital ED or\\npharmacy.  Alternatively, the CMPs may be issued to the HAZMAT MRT(s) or sponsoring\\nEMS agency designated by the MCA.  Each HAZMAT Medical Response Team (HAZMAT\\nMRT) or sponsoring EMS agency will provide an A-Pack style pack or equivalent to the\\ndesignated cooperating hospital pharmacy.  The hospital will be responsible for stocking\\nand restocking the pack.\\nHAZMAT MRT Sponsoring EMS Agency or other Sponsoring EMS Agency\\n1.\\n2.\\n3.\\n4.\\nWhen issued to the HAZMAT MRT, the EMS agency will be responsible for the security and\\nstorage of the Cyanokit\xae Medication Pack.  The Pack may also be issued to other\\nsponsoring EMS agencies.\\nAll drugs, needles, syringes and supplies will be stored in a securely locked, temperature-\\ncontrolled location.  The Medication Pack will remain sealed at all times except when in\\nactual use.\\nCyanokit\xae Medication Packs (CMPs) are to be inspected on the first of each month by the\\nhazardous materials paramedic supervisor or other sponsoring EMS agency for evidence of\\nloss, theft, and expiration date. It is recommended that this inspection be included in a\\nstandard documented check list.\\nUsed CMPs are to be taken to the emergency department or designated pharmacy within 7\\ndays for exchange. CMPs due to expire must be exchanged at least 30 days prior to the\\nexpiration date.\\nHospital Stock/Expired/Used Box Exchange\\n1.\\nAny replacement Cyanokit\xae Medication Packs must be maintained in a locked area, under\\nthe control of hospital staff available 24 hours per day. This area will be in the emergency\\ndepartment or pharmacy of the participating hospital.  Appropriate record keeping and\\nsecurity measures are required at each exchange site to insure that only appropriately\\nlicensed and authorized personnel have access to medications and other related supplies.\\n_________________________________________________________________________________________________________","source_file":"10.111-HazMat-Cyanokit-Medication-Kit-Exchange-Use-Replacement-9.14.23-Clean-edited.txt"},"10-112":{"name":"MEDICATION SECTION","content":"Initial Date: 9/19/2022\\nRevised Date: 9/14/2023\\nThis Protocol is intended for use by a Hazardous Materials Response Team.\\nCyanokit \xae (Hydroxocobalamin)\\nProtocols:\\n1.  Cyanide Exposure Supplement Protocol\\nIndications:\\n1.  Known or suspected cyanide poisoning\\nContraindications:\\n1.  Hypersensitivity to hydroxocobalamin or cyanocobalamin\\n2.  Cannot be administered in the same line as dopamine or fentanyl\\nDosing:\\n1.  A one vial (250ml) glass vial containing 5g of hydroxocobalamin in powder form\\nwhich must be reconstituted with 200mL of normal saline each, rotated or tipped for\\n30 seconds each (not shaken) and then administered through its own IV line (not\\nused with any other medications) over 7.5 minutes each.\\n2.  A one vial kit with 5g of hydroxocobalamin powder which must be reconstituted with\\n200mL of normal saline, be rotated or tipped for 60 seconds (not shaken) and\\nadministered through its own IV line (not used with any other medication) over 15\\nminutes.\\n3.  The starting dose of hydroxocobalamin for adults is 5g (i.e., two 2.5g vials OR one 5g\\nvial) administered as an intravenous (IV/IO) infusion over 15 minutes. Refer to table\\non page 2 for weight-based dosing.\\nExpected Effects:\\n1.  Increased blood glucose\\nSide Effects:\\n1.  Nausea\\n2.  Vomiting\\n3.  Abdominal pain\\n4.  Red colored urine, skin, mucus membranes\\n5.  Rash","source_file":"10.112-HYDROXOCOBALAMIN-CYANOKIT-9.14.23-Clean.txt"},"10-113":{"name":"Unknown Protocol","content":"The purpose of this protocol is to provide direction for incidents that involve multiple\\npatients, ambulance or agency response that does not meet the definition of an MCI.\\nDEFINITIONS\\nMultiple Patient Incident is an incident that a single Life Support Agency (LSA) is\\ncapable of dealing with alone or with the use of routine local mutual or automatic aid\\npartners.\\nThe distinction between a multiple patient incident and a Mass Casualty incident\\n(MCI) does not lie in the number of patients or the extent of the damage but rather the\\nresources needed to deal with the situation.\\nProcedure:\\n1.  Determine the number of patients.\\n2.  Contact additional resources.\\n3.  Transport to closest appropriate facilities.\\na.  Be mindful not to over burden hospital resources (refer to Hospital\\nAutomatic Patient Load section),\\nb.  If a transport officer is not staffed the incident commander will be\\nresponsible for patient distribution.\\n4.  Hospital communications will be conducted by the transporting ambulance.","source_file":"10.113-Multiple-Patient-Incidents-Oakland-8.5.24.txt"},"10-12":{"name":"TRANSPORT SUPPLIES","content":" Medical Control Authorities choosing to adopt this supplement may do so\\nby selecting this check box. Adopting this supplement changes or clarifies the\\nreferenced protocol or procedure in some way. This supplement supersedes,\\nclarifies, or has authority over the referenced protocol.  This protocol will only\\nbe used by SPRN trained individuals.\\nTransport Supplies\\nSuggested Supplies to be Immediately Available:\\n Manual Suction\\n BP cuff (manual, disposable)\\n Pulse Ox (disposable)\\n Emesis containers (sealable)\\n Absorbent paper towels\\n Sharps Container (small)\\n Nitrile gloves box (Small, Medium, Large, Extra-large)\\n Small trash bags\\n Disinfectant wipes for surfaces\\n Disinfectant wipes for skin\\n Portable 02 tank (15 LPM capable)\\n Nasal Cannula/NRB\\n Cooler/ice packs\\n Blankets (Space)\\n Pillow\\n Trauma Shears\\n 2 Buckets (for bodily fluids, hold trash bags, use for cleaning)\\n Time Keeping Device\\n Sedation and/or pain control guidelines as applicable\\n Medications, needleless delivery system\\nSuggested Supplies to be in accompanying vehicle or with driver:\\n IV Kit/Fluid/Saline Lock\\n 4X4 and/or Abdominal Pads\\n Tape\\n Rolled Gauze\\n Body bag\\n Cleaning / decontamination equipment\\n Solidifier for liquids\\n Donning/doffing protocols and checklists","source_file":"10.12-SPRN-Transport-Supplies-7.3.23-2.txt"},"10-13":{"name":"TRANSPORT PROCEDURE","content":" Medical Control Authorities choosing to adopt this supplement may do so\\nby selecting this check box. Adopting this supplement changes or clarifies the\\nreferenced protocol or procedure in some way. This supplement supersedes,\\nclarifies, or has authority over the referenced protocol.\\nTransport Procedure\\nPurpose: The purpose of this procedure is to provide guidance for transport of a patient\\nwith a known or suspected highly infectious disease including pathogens referred to as\\nCategory A agents.\\n1.  Patient belongings\\nA.  All patient belongings shall be kept in transport vehicle and only be removed at\\nthe final destination.\\nB.  Belongings shall be placed in a biohazard bag if possible and sealed in a manner\\nthat will prevent any further contamination to its surroundings.\\nC.  Belongings will be labeled with the patient name and identification.\\n2.  Documentation\\nA.  Pt documentation may be performed in a normal manner as outlined by the\\ntransporting agencies guidelines. A note pad may be used to document vital signs\\nand times during transport.\\nB.  All documentation should be performed after the transport is complete as to avoid\\ncontamination of equipment and materials. Any materials used for documentation\\nin the patient environment (such as Toughbook, tablets, clipboards etc.) shall be\\ncleaned, disinfected, and decommissioned for the same duration as the transport\\nvehicle and equipment involved in transport.\\n3.  Travel plans\\nA.  The MDHHS will be the central coordinating agency for the patient transport.\\nLocal and state authorities will assist in planning the path of travel so as to assist\\nin the event of an emergency.\\nB.  A predetermined route will be planned in conjunction with the sending facility,\\ntransport agency, receiving facility or airport, and any facilities in between sending\\nfacility and receiving facility that are willing to participate and accommodate\\ntransport crews for crew changes or emergency procedures.\\na.  Path of travel should be planned out in a way that will keep transport crews\\non as many major roads as possible to ease the ability of possible\\nresponding EMS agencies to locate them in the event of an emergency or\\naccident.\\nb.  Consider communication to potential Medical Control Authority along the\\npath of travel in the event that assistance is required.","source_file":"10.13-SPRN-Transport-Procedure-7.23.23.txt"},"10-14":{"name":"PATIENT CARE DURING TRANSPORT OF SUSPECTED HIGHLY INFECTIOUS AGENT","content":" Medical Control Authorities choosing to adopt this supplement may do so\\nby selecting this check box. Adopting this supplement changes or clarifies the\\nreferenced protocol or procedure in some way. This supplement supersedes,\\nclarifies, or has authority over the referenced protocol.  This protocol will only\\nbe used by SPRN trained individuals.\\nPatient Care During Transport of Suspected Highly Infectious Agent\\nPurpose: The purpose of this procedure is to provide guidance for transport of a patient\\nwith a known or suspected highly infectious disease including pathogens referred to as\\nCategory A agents from a health care facility to another, more specialized health care\\nfacility.\\nThe EMS Agency Will\\nA. Prior to transport, the transporting agency will communicate with the sending\\n(departing) and receiving (arriving) hospital facility to coordinate existing and\\nanticipated patient care needs.\\na. Determine the medical authority for the patient while in transit.  Refer to\\nthe state protocol.\\nb. Determine the number and mix of staff needed to provide care during\\ntransport.\\nc. Assure that equipment, devices, and crew can fit into the load-carrying\\ndimensions of all planned transport vehicles.\\nd. Determine if the patient has proper identification for transport.\\ne. Determine method for patient tracking.\\nf. Determine method to document patient care while preventing\\ncontamination.\\nB. Assess and develop plans for:\\na. Physical needs of the patient:  baseline vital signs via non-invasive\\nmethod.  Use blue tooth technology, disposable O2 saturation monitor.\\nb. Assess ability to provide for physical comfort of patient:\\ni. Heat\\nii. Air flow\\nc. Plans for failure of equipment.\\nd.\\nIdentified pre-existing conditions that will require medication or other\\nmeans of support (such as diabetes, oxygen therapy, etc.).  Identify\\nmethod to support these conditions if necessary.\\ne. Avoid use of sharps (needles, lancets) unless necessary.  Dispose in\\nf.\\ng.\\nsharps container.\\nIdentify current life support status and identify procedures that will or will\\nnot be performed during transport.\\nIdentify medications necessary for patient comfort during transport:\\nsedation, pain, nausea.","source_file":"10.14-SPRN-PC-During-Trans-of-Sus-Infectious-Agent-7.23.23.txt"},"10-15":{"name":"AMBULANCE CLEANING AND DISINFECTION","content":" Medical Control Authorities choosing to adopt this supplement may do so\\nby selecting this check box. Adopting this supplement changes or clarifies the\\nreferenced protocol or procedure in some way. This supplement supersedes,\\nclarifies, or has authority over the referenced protocol.\\nAmbulance Cleaning and Disinfection\\nPurpose:\\nProper cleaning and disinfection of an ambulance and equipment are necessary to reduce\\nthe bioburden of disease and prevent secondary transmission of a known or unknown highly\\ncontagious disease.  The process describes the measures needed to clean and disinfect an\\nambulance prior to its return to service following the transport of a patient with a known or\\nsuspected Category A disease.\\nNote: All disinfection should use a U.S. Environmental Protection Agency (EPA)-registered\\nhospital disinfectant with a label claim for a non-enveloped virus (norovirus, rotavirus,\\nadenovirus, poliovirus) to disinfect environmental surfaces at appropriate concentration and\\ncontact time.\\n1. This process is to be done after the Biocell or visquine (see procedure) has been\\nremoved.\\n2. Site Set Up\\nA. Select an appropriate site for ambulance decontamination that protects the\\nvehicle and the decontamination team from weather elements, preferably a well-\\nventilated large, enclosed structure.\\nB. Establish a secure perimeter for safety of the public and decontamination\\npersonnel.\\nC. Include considerations for waste management, security plan, public perception,\\nand media visibility when selecting decontamination site.\\nD. Depending on the location, the ability for climate control is beneficial.\\nE. Define and mark hot, warm, and cold zones of contamination1 around the\\nambulance that require PPE to enter.\\n1 The hot zone is considered an area that is known or suspected to be contaminated and has a high risk of exposure. It\\nshould only be entered with full PPE. In ambulance decontamination, this would be the vehicle and an area about a\\nmeter beyond the ambulance.\\nThe warm zone can be considered a transitional area between the hot and cold zones that has no known contamination\\nbut has a moderate risk of exposure. It should only be entered when wearing full PPE. This is also the area where one\\nbegins the initial portion of the doffing process (following a full suit wipe down within the hot zone) when leaving the\\nhot zone. For ambulance decontamination, the warm zone can also be the place where waste barrels are pre-positioned\\nso that the waste bags can be placed directly into the containers without entering the hot zone.","source_file":"10.15-SPRN-Ambulance-Cleaning-7.23.23.txt"},"10-16":{"name":"MEDICAL ISOLATION TRANSPORT DEVICE","content":" Medical Control Authorities choosing to adopt this supplement may do so\\nby selecting this check box. Adopting this supplement changes or clarifies the\\nreferenced protocol or procedure in some way. This supplement supersedes,\\nclarifies, or has authority over the referenced protocol.  This protocol will only\\nbe used by SPRN trained individuals.\\nMedical Isolation Transport Device\\nDefinition:  A Medical Isolation Transport Device is a vinyl enclosed patient containment device.\\nIt creates a negative air environment when closed.   It is used for the transport of highly infectious\\ndisease patients either internally at a facility or from one facility to another.\\n1.  Patient will be transported in impervious suit if ambulatory, in impervious suit and sheets (as\\ntolerated) if stretcher bound or in isolation pod, as indicated.  All transferred patient\\nbelongings are considered contaminated and are typically bagged, labeled, and transferred\\nwith patient.\\n2.  Any patient care documents should be free of contamination. When in doubt, consider them\\ncontaminated and package as appropriate for transport with patient. It may be desirable to\\nstore and transmit patient care records electronically if feasible.\\nIndications for use:\\n1.  A known or suspected case of highly infectious disease that may have been acquired via\\ntravel, health care provider, or lab.\\n2.  Drug resistant organism\\n3.  Some Medical Isolation Transport Devices may be used as a positive air environment to\\ntransport a patient with known immune deficiency or burns.\\nThings to know regarding use of Medical Isolation Transport Device:\\n1.  Assess if MEDICAL ISOLATION TRANSPORT DEVICE outside straps are approved for\\n2.\\ntransportation.  General rule:  vinyl straps are not tested and approved, but some material\\nstraps (such as those used in seat belts) may have been tested and approved.\\nThe head of the Medical Isolation Transport Device should be placed at the head of the\\ngurney or cart, so the patient is always moving feet first.\\nThe white noise created by the blower motor will reduce patient and staff level of hearing.\\n3.\\n4.  Be careful that wind may catch and move the Medical Isolation Transport Device, especially\\nwhen unsecured.\\n5.  As the outside temperature increases, the temperature inside the Medical Isolation\\nTransport Device will also increase.\\n6.  After using the Medical Isolation Transport Device during a drill, it may be cleaned and\\ndisinfected for future use.  Some disinfectants may leave a residue that can be wiped off\\nwith a clean towel.","source_file":"10.16-SPRN-Medical-Isolation-Transport-Device-7.23.23.txt"},"10-17":{"name":"TEAM SELECTION PROCEDURE","content":" Medical Control Authorities choosing to adopt this supplement may do so\\nby selecting this check box. Adopting this supplement changes or clarifies the\\nreferenced protocol or procedure in some way. This supplement supersedes,\\nclarifies, or has authority over the referenced protocol.\\nTeam Selection Procedure\\nPurpose\\nThe purpose of this procedure is to provide guidance in selecting qualified and support\\ntraining of EMS personnel willing to transport a patient with known or suspected highly\\ninfectious disease including pathogens referred to as Category A agents.\\n1.  The selected team members will be chosen according to\\nA.  Previous physical and mental health history\\nB.  Ability to be in service and away from home for an extended period of time\\nC.  Knowledge of the potentially hazardous situation to which they may be placed\\nD.  Additional assets of team members may include:\\na.  Able to work in a restrictive environment\\nb.  Critical thinking skills\\nc.  Participation in education sessions, exercises and drills\\nd.  Able to follow strict guidelines to ensure the safety of the entire unit\\n2.  It is recommended that each team member may have on file with their agency\\nA.  Two or more emergency contacts\\nB.  Hospital or Health care system of preference\\nC.  Blood type\\nD.  Religious preference\\nE.  Advanced directives (if applicable)\\n3.  Team member health status\\nA.  Each team member shall be compliant with and have documentation they have\\npassed the medical screening requirements of the agencies Respiratory\\nProtection Program.  This includes acknowledging a new history of respiratory\\ndiseases (i.e. asthma, chronic lung disease, or upper respiratory infection) that\\nwould interfere with wearing a fully enclosed respiratory device, such as a PAPR\\nor would involve removal of the PAPR hood for medication administration.\\nB.  Consideration should be given to any team member having a condition that\\naffects them while being in an enclosed environment.\\nC.  Each team member shall be free of any medical conditions that require\\nmedication administration in any less than 6 hour increments.","source_file":"10.17-SPRN-Team-Selection-Procedure-7.23.23.txt"},"10-18":{"name":"DEATH DURING TRANSPORT","content":" Medical Control Authorities choosing to adopt this supplement may do so\\nby selecting this check box. Adopting this supplement changes or clarifies the\\nreferenced protocol or procedure in some way. This supplement supersedes,\\nclarifies, or has authority over the referenced protocol.\\nDeath During Transport\\nPurpose\\nTo provide guidance for special pathogen crews when a patient suffers cardiac arrest during\\ntransport to a special pathogen treatment facility.\\nI.\\nII.\\nThis protocol is only for use by trained crews during the transport of a patient\\nbeing handled for treatment of a special pathogen.\\nIf a patient experiences cardiac arrest during transport,\\na.  No interventions will be performed\\nb.  Immediately discontinue transport\\nc.  Contact Community Health Emergency Coordination Center for destination\\ndetermination\\ni.  Crematorium\\nii.  ME needed?\\niii.  Receiving or sending hospital\\niv.  What about when its a county in between sending & receiving\\nIII.  MDHHS SPRN subject matter expert will provide technical assistance in the event\\nof a patient death using Bio Seal and body bags to complete safe and respectful\\nhandling of the decedent.\\nThe Community Health Coordination Center (CHECC) has identified a list of\\ncrematoriums to receive the body.\\nIV.","source_file":"10.18-SPRN-Death-During-Transport-7.23.23.txt"},"10-2":{"name":"CHEMICAL EXPOSURE","content":"Purpose: To provide guidance for the treatment of chemical exposure patients.\\nAssessment/Management  Chemical Agents\\nIf there is a confirmation of, or symptoms indicative of, a chemical incident, utilize\\nappropriate protective suits and respirators (PAPR) with Organic Vapor/HEPA cartridges\\nshould be donned.\\nI.  Nerve Agents & Cyanide Compounds  refer to 10.3 Nerve Agent/Organophosphate\\nPesticide Exposure-Special Operations Protocol and 10.5 Cyanide Exposure-\\nSpecial Operations Protocol.\\nII.  Choking Agents (e.g., Phosgene, Chlorine, Chloropicrin)\\nA.  Exposure Route: Inhalation\\nB.  Signs and symptoms:\\n1.  Cough, dyspnea, irritation of mucous membranes, pulmonary edema.\\nC.  Patients should be promptly removed from the area to a clean atmosphere.\\nD.  Treatment\\n1.  Assist ventilations, as necessary.\\n2.  Provide 100% oxygen\\n3.  If wheezing, administer albuterol 2.5 mg/3ml NS nebulized per 9.1\\nMedication Administration-Medication Protocol (Per MCA selection\\nmay be EMT skill).\\nNebulized albuterol administration\\n   EMT\\na.  4 puffs from patients own prescribed albuterol metered dose\\ninhaler (with spacer if available).\\n4.  For severe exposure consider early interventional airway and aggressive\\nventilatory support (including CPAP per 7.5 CPAP-Procedure Protocol)\\n5.  If eye exposure:\\na.  Eye irrigation\\ni.  Remove contact lenses\\nii.\\nFlush with 1000cc of NS each eye\\nb.  For eye pain, use tetracaine hydrochloride 1-2 drops in each\\neye, if available.\\nIII.  Vesicant Agents (Blister agents)\\nA.  Examples: Sulfur Mustard (HD), Nitrogen Mustard (HN), Lewisite, Phosgene\\nOxime (CX) Vesicant agents are named for their tendency to cause blisters.\\nB.  Exposure Route: Dermal/Inhalation\\nC.  Decontamination is critical:\\n1.  Medical providers will require the proper PPE as determined by\\nunified command before decontaminating patient.","source_file":"10.2-CHEMICAL-EXPOSURE-9.14.23-Clean-edited.txt"},"10-3":{"name":"EXPOSURE TREATMENT","content":"Nerve Agent/Organophosphate Pesticide Exposure Treatment\\nPurpose:\\nThis protocol is intended for EMS personnel at all levels that have been trained\\nin the use of these devices and authorized by the medical control authority to\\nassess and treat patients exposed to nerve agents and organophosphate\\npesticides utilizing the Duo Dote/Mark I Antidote Kits and/or a combination of\\nauto injectors and/or nasal sprays. Administration of non-prepackaged kits is\\nrestricted to ALS.\\nThe following medications in this protocol are not required to be carried on EMS\\nvehicles and may be available through special response units.\\nMedications/Definitions:\\nA.  One (1) Nerve Agent (NA) Antidote Kit  for the purpose of this protocol means either\\none (1) Duo Dote OR one (1) Mark I\\n1.  Duo Dote  a single device with 2 chambers.  The front chamber contains 2.1 mg\\natropine, the back chamber contains 600 mg pralidoxime (2-PAM).  When activated\\nthe device sequentially administers both drugs through a single needle.\\n2.  Mark I Antidote kit 2 separate injectors.  One containing 2mg atropine, the\\nsecond containing 600 mg of pralidoxime (2-PAM).\\nB.  Atropine auto injector- a single auto-injector of atropine that comes in 3 doses:\\natropine 0.5 mg, atropine 1 mg, atropine 2 mg.\\nC.  Midazolam auto-injector  20 mg midazolam per device\\nD.  Midazolam nasal spray  5 mg per device\\nE.  Diazepam auto-injector  10 mg per device\\nF.  Non prepackaged kit administration:  Administer 600 mg pralidoxime and 2 mg of\\natropine for every one (1) NA Antidote Kit.(ALS only)\\nChemical Agents\\n1.  Agents of Concern\\nA.  Military Nerve Agents including: Sarin (GB), Soman (GD), Tabun (GA), VX\\nB.  Organophosphate Pesticides (OPP) including Glutathione, Malathion,\\nParathion, etc.\\n2.  Detection:  The presence of these agents can be detected through a variety of\\nmonitoring devices available to most hazardous materials response teams and other\\npublic safety agencies.\\nPatient Assessment\\n1.  SLUDGEM Syndrome\\nS\\nL\\nU  Urination\\nD  Defecation / Diarrhea\\nG  Gastric Emptying (Vomiting) / GI Upset (Cramps)\\nSalivation / Sweating / Seizures\\nLacrimation (Tearing)\\nA.\\nB.\\nC.\\nD.\\nE.","source_file":"10.3-NERVE-AGENT-ORGANOPHOSPHATE-9.14.23-clean-edited.txt"},"10-4":{"name":"CHEMPACK/MEDDRUN","content":"Purpose: The CHEMPACK Project provided the State of Michigan, in collaboration with the\\nCenter for Disease Control (CDC) and the U.S. Department of Homeland Security, with a\\nsustainable, supplemental source of pre-positioned nerve agent/organophosphate antidotes\\nand associated pharmaceuticals.  A large-scale event would rapidly overwhelm both the pre-\\nhospital and hospital healthcare systems.\\nThe CHEMPACK project is one component of the Michigan Emergency Preparedness\\nPharmaceutical Plan (MEPPP), a comprehensive statewide plan for coordinating timely\\napplication of pharmaceutical resources in the event of an act of terrorism or large-scale\\ntechnological emergency/disaster.\\nThe Michigan Emergency Drug Delivery and Resource Utilization Network (MEDDRUN)\\nestablished standardized caches of medications and supplies strategically located\\nthroughout the State of Michigan.   In the event of a terrorist incident or other catastrophic\\nevent resulting in mass casualties, MEDDRUN is intended to rapidly deliver medications and\\nmedical supplies, when local supplies are not adequate or become exhausted.  The goal is\\nto deploy MedPack within 15 minutes of the request.\\nOnly authorized agencies and officials can request MEDDRUN.  These agencies include\\nany Michigan Hospital, local public health agency, or emergency management program.\\nAuthorized officials include designated representatives from the Bureau of Emergency\\nPreparedness, EMS, and Systems of Care (BEPESOC), the Michigan State Police (MSP)\\nand the Regional Bioterrorism Preparedness projects.\\nActivation\\nI. Recognition of need can come from EMS personnel, or it may be a hospital, public\\nhealth, EOC, or Emergency management that identifies the need for activation.\\nA. EMS Identifies a need for medication support.\\n1.\\n2.\\nContact Central Dispatch or a hospital/MCA\\nCentral Dispatch or hospital/MCA contacts MEDDRUN and/or\\nCHEMPACK Communications Agency\\nB. Hospital, Public Health, EOC or Emergency Management\\n1.\\n2.\\nIdentifies need\\nHospital, Public Health, EOC or Emergency Management contacts\\nMEDDRUN and/or CHEMPACK Communications Agency\\nC. To activate MEDDRUN and/or CHEMPACK call:\\nPrimary Communication Agency:  877-633-7786\\n1.\\n2. Backup Communication Agency:  616-391-5330\\nCHEMPACK/MEDDRUN Communications Agency:\\nA. Conducts analysis & issues deployment orders to selected\\nCHEMPACK/MEDDRUN storage sight, (CSS) Point of Contact (POC).\\nStorage site notifies the transport unit and moves cache to designated loading\\narea.\\nII.\\nIII.","source_file":"10.4-Chempack_Meddrun-12.27.22.txt"},"10-5":{"name":"CYANIDE EXPOSURE","content":"Purpose: This Protocol is intended for EMS personnel at all levels to assess and treat\\npatients exposed to cyanide. Additionally, the protocol allows trained and authorized\\nparamedics to administer antidotes when available.\\nNOTE: A single medical control order in a mass casualty incident may be applied to all\\nsymptomatic patients.\\nDefinitions: For the purposes of this protocol Cyanokit\xae (brand name) refers to\\nHydroxocobalamin.\\nMedications in this protocol are not required to be carried on EMS vehicles and may\\nbe available through special response units.\\nChemical Agent\\n1.  Agents of Concern: Cyanide\\na.  Hydrogen Cyanide\\nb.  Potassium/Sodium Cyanide\\nc.  Cyanogen Chloride\\n2.  Detection: The presence of these agents can be detected through specialized\\nenvironmental monitoring equipment available to hazardous materials response\\nteams.\\n3.  Modes of Exposure\\na.  Inhalation (including smoke inhalation)\\nb.  Ingestion\\nc.  Skin absorption unlikely\\n4.  Alert receiving hospital ASAP to prepare additional antidotes\\nAssessment\\n1.  Hypotension\\n2.  Shortness of breath\\na.  Possibly accompanied by chest pain\\nb.  Generally, not associated with cyanosis\\nc.  Pulse oximetry levels usually normal\\nd.  Usually associated with increased respiratory rate and depth\\ne.  Potential for rapid respiratory arrest\\n3.  Confusion, decreased level of consciousness, coma\\n4.  Seizures\\n5.  Headache, dizziness, vertigo (sense of things spinning)\\n6.  Pupils may be normal; dilation is a late sign\\nIndications for Antidote use in patient with suspected cyanide poisoning:\\n1.  Cardiac or Respiratory Arrest\\n2.  Hypotension SBP<90 mm Hg\\n3.  GCS <= 9\\nPersonal Protection","source_file":"10.5-Cyanide-Exposure-9.14.23-Clean-edited.txt"},"10-6":{"name":"MASS CASUALTY INCIDENTS","content":"The purpose of this protocol is to provide a uniform initial response to a Mass Casualty\\nIncident (MCI).\\nI.\\nII.\\nDefinition of MCI:  For the purpose of this document, an MCI will be defined as\\nany incident, which because of its physical size, the number and criticality of its\\nvictims, or its complexity, is likely to overwhelm those local resources (including\\nlocal hospitals), which would typically be available.\\nOverall MCI Management  DISASTER Paradigm\\nThe DISASTER Paradigm is part of the National Disaster Life Support (NDLS)\\nProgram and provides a framework for management of MCIs.  The components\\nmay be pursued concurrently.\\nA.  Detection: Do we have an MCI? If yes, immediately declare to dispatch.\\nB.  Incident Command: Establish or interface with the Incident Command System\\n(ICS)\\nC.  Safety and Security: Immediate action steps to immediately protect\\nresponders, casualties, public.\\nD.  Assess Hazards: Actively assess (initially and ongoing) for hazards that can\\nharm responders, casualties, public.\\nE.  Support: Request resources needed to effectively manage incident\\nF.  Triage and Treatment: Initiate SALT Triage and provide treatment to casualties\\nG.  Evacuation: Transport of casualties to appropriate hospitals (avoiding\\noverloading individual hospitals) or alternate treatment centers\\nH.  Recovery: Return responders and community to pre-incident status and\\nidentify lessons learned.\\nIII.  MCI Detection\\nA.  Actively assess the scene to determine if MCI is (or maybe) present\\nB.  Alert dispatch and assure hospitals and other stakeholders made aware\\nC.  For major incidents (including incidents involving multiple counties/MCA\\nresources) RMCC should be alerted\\nIV.\\nIncident Command System\\nA.  All incidents shall be managed in accordance with the National Incident\\nManagement System and the National Response Framework.\\nB.  If Incident Command (IC) has not been established, the most qualified EMS\\npersonnel shall assume the role of IC until command is transferred.\\nC.  The IC is responsible for all functions of the Incident Command System (ICS)\\nuntil other personnel are assigned those functions.\\nD.  Establish EMS Branch Director/EMS Group Supervisor\\nEstablished by IC\\n1.\\n2.  Responsible for all EMS activities\\n3.  Reports to IC or Operations Chief\\nE.  Establish functional subordinate EMS ICS positions, as appropriate. Note,\\npositions may be combined (e.g., Treatment/Transport) when appropriate.\\n1.\\nTriage Unit Leader Role\\na.  Report to EMS Branch Director/Group Supervisor","source_file":"10.6-MCI-Protocol-Clean-8.5.24.txt"},"10.6.1":{"name":"Unknown Protocol","content":"10.6.1 MCI - OCMCA Initial Patient-Hospital Transport\\nThis protocol should be utilized in the early stages of a mass casualty incident.  It indicates the\\ninitial capability of all OCMCA and surrounding hospitals.  After the initial stages the hospitals\\nshould be contacted for additional capacities.\\nHospital\\nCorewell-Farmington Hills\\nCorewell-RO\\nCorewell-Troy\\nChildrens Hospital-Troy\\nAscension Rochester Hospital\\nAscension Genesys\\nHenry Ford Medical Center-WB\\nHuron Valley-Sinai\\nMcLaren Clarkston\\nMcLaren Hospital-Oakland\\nAscension Providence Novi\\nAscension Providence Southfield\\nAscension Macomb-Oakland\\nTrinity-Oakland\\nTrinity-Livonia\\nACS Trauma Level\\nLevel 2\\nLevel 1\\nLevel 2\\nPediatric only\\nLevel 3\\nLevel 2\\nLevel 3\\nLevel 3\\nLevel 2\\nLevel 2\\nLevel 2\\nLevel 2\\nLevel 2\\n# of High Acuity Patients\\n2\\n2\\n2\\n2\\n2\\n2\\n2\\n2\\n2\\n2\\n2\\n2\\n2\\n2\\n2","source_file":"10.6.1-MCI-OCMCA-Initial-Patient-Hospital-Transport-1.12.24-Updated.txt"},"10-7":{"name":"DURING DISASTER","content":"Pre-hospital (EMS) MCA Mutual Aid During Disaster\\nPurpose:  Establish a mechanism allowing EMS agencies/Medical Control Authorities (MCA) to\\ngive prehospital care across MCA boundaries during disaster conditions.\\n1. This agreement between the MCAs demonstrates the intention to assist and support each other\\nduring a disaster situation.  It provides an approved/authorized process allowing EMS agencies\\nto function within a MCA under their originating MCAs protocols, during a disaster.\\n2. During disaster conditions, whether natural or otherwise, MCAs may need assistance from\\nother MCAs.  For the purpose of this agreement, a disaster is considered to be an emergency\\nevent where a declared emergency and/or disaster condition as defined by local, state, or\\nfederal statutory laws, exists in which the responding MCA and EMS resources may be unable to\\nhandle the patient care needs without additional resources from outside its own Medical Control\\narea.\\n3. Requests for support may be made to any MCA or any EMS agency. It is agreed that mutual aid\\nresponse is dependent on the availability of equipment and personnel.\\n4. It is in the best interests of MCAs to include each other in disaster planning efforts.  It is expected\\nthat upon request, participating MCAs will extend any relevant information on emergency\\nplanning to other MCAs as deemed reasonably appropriate by the MCA distributing the\\ninformation.\\n5. Participating MCAs agree to adopt, as a minimum, the State Protocols for responding to a\\ndisaster event, and those agencies/EMS personnel will follow these when responding outside\\ntheir own MCA, unless prior arrangements with that MCA.","source_file":"10.7-Pre-Hospital-EMS-MCA-Mutual-Aid-During-Disaster-12.27.22.txt"},"10.8":{"name":"HAZARD CONTAMINATED PATIENT","content":"I.\\nIdentification of the Contaminated Patient\\na. Use all your senses.  Suspect hazardous material situation if you:\\ni.\\nii.\\niii.\\nSee containers, labels or placards, or a location suggesting a\\nhazardous substance\\nHear explosions, or reports of possible contamination, pre-arrival or\\non scene\\nSmell unusual odors  be suspicious\\nIf contamination of a patient is suspected, the local fire or public safety department\\nmust be informed of the hazardous material situation.\\nThe responding EMS agencies must prevent further contamination to themselves or\\nothers.  Determine if any contaminated patients have already left the scene and\\npromptly notify the hospital(s).\\nThe responding EMS agency must not spread any contamination outside the\\nresponse area until the responding fire or public safety department incident\\ncommander, or appropriate designee, has confirmed that decontamination is\\ncomplete.  Contaminated patients will not be transported out of the decontamination\\narea until field decontamination is complete.\\nEMS responders will not enter a known contaminated area without proper personal\\nprotective equipment, training, and direction by incident command.\\nInvasive patient care procedures (IV/IO, OPA, NPA, ET, and Emergency Airway\\nDevices) should not begin until decontamination of the patient is confirmed or until\\npersonal protective equipment is in place.\\nPrior to transport of a decontaminated patient, on-line medical control will be\\ncontacted to assure the patient is transported to a facility equipped to handle the\\nspecific needs of the patient.\\nII.\\nIII.\\nIV.\\nV.\\nVI.\\nVII.\\nVIII. Once the scene Incident Commander, or the appropriate designee, has confirmed\\nthat the patient is decontaminated, the responding EMS agency may transport the\\npatient to the designated facility.","source_file":"10.8-Hazard-Contaminated-Patient-12.27.22.txt"},"10-9":{"name":"SUSPECTED PANDEMIC","content":"Purpose: To have a standard approach to patients during a period of a declared pandemic\\nor state of Public Health Emergency.  This approach should increase awareness and\\nprotection of first responders and prehospital care while maximizing supplies that may\\nbecome limited.\\nCriteria:\\n1. This protocol will apply to patients encountered by all levels of EMS, during an\\ninfectious disease epidemic/pandemic.  All agencies should frequently check the\\nCDC.gov website for the latest recommendations with Personal Protective\\nEquipment (PPE) and treatment. These recommendations may change frequently\\nduring an evolving and ongoing epidemic/pandemic as regulatory standards are\\ninfluenced by CDC recommendations.\\n2. The center for Disease Control and Prevention (CDC) has declared that an epidemic\\nand/or the Michigan Department of Public Health has declared a statewide or local\\npublic health emergency.\\n3. Acute Febrile Respiratory Illness (AFRI) is defined as fever and at least one of the\\nfollowing (cough, nasal congestion/runny nose, or sore throat).\\nEMS System / Medical Control Authority (MCA) Recommendations:\\n1. Encourage all EMS personnel to receive seasonal and disease specific\\nvaccinations.\\n2. Each life support agency shall maintain a supply of fit tested N-95 respirators and\\neye protection (e.g., goggles, eye shield), disposable non-sterile gloves, and gowns.\\n3. Each life support agency shall provide approved pathogen neutralizing hand\\nsanitizer to staff.\\n4. Each life support agency should instruct their personnel to stay home and not report\\nfor duty if they have signs or symptoms of acute febrile respiratory illness. A staff\\nmember that develops these symptoms during a shift must inform the agency\\nsupervisor for appropriate follow up procedures.\\n5. Dispatch centers should be encouraged to screen callers to determine if the patient\\n6.\\nmay have an AFRI. Information should be provided to EMS personnel prior to\\narriving on the scene if suspected AFRI.\\nIf it is determined by EMS that the patient may have an AFRI, early notification to\\nthe receiving facility should be done so that appropriate infection control may be\\ntaken prior to patient arrival.\\nProcedure and Patient Categorizations/Situations\\n1. Limiting Personnel Exposure:\\nA. If the patient has symptoms of an Acute Febrile Respiratory Illness (AFRI)\\nbased upon the dispatch information the responding agency should consider\\nlimiting the initial number of personnel that approach or enter a residence.","source_file":"10.9-Suspected-Pandemic-12.27.22.txt"},"2-10":{"name":"HEAT EMERGENCIES","content":"Initial Date:8/31/2023\\nRevised Date:\\nHeat Emergencies\\n1.  Follow 1.1 General Pre-hospital Care-Treatment Protocol.\\n2.  Pediatric patients (< 14 years of age) utilize MI MEDIC cards for appropriate\\nmedication dosage.  When unavailable utilize pediatric dosing listed within protocol\\n3.  Determine history/evidence of heat exposure.\\n4.  Check blood glucose (may be MFR skill, see 7.21 Blood Glucose Testing-\\nProcedure Protocol) and treat hypoglycemia per 1.100 Diabetic Emergencies\\nHEAT CRAMPS:\\n1.  Move the patient to a cool environment and attempt oral liquids (may use commercial\\nsports/rehydration).\\nHEAT EXHAUSTION:\\n1.  Move the patient to a cool environment.\\n2.  Remove tight clothing.\\n3.  Cool patient, provide air conditioning/fanning.  Avoid chilling/shivering.\\n4.  Obtain IV/IO Access and administer fluid bolus NS or LR wide open (refer to 7.23\\nVascular Access and IV Fluid Therapy-Procedure Protocol).\\na.  Adults (> 14 years of age): up to 1 liter\\nb.  Pediatrics (<14 years of age): up to 20 mL/kg\\n5.  Patient may take oral fluid replacement rather than IV if no nausea.  Allow oral intake of\\ncool fluids or water (may use commercial sports/rehydration drinks).  Do not permit\\npatient to drink if altered mental status, abdominal pain, or nausea.  Avoid carbonated,\\nalcoholic and caffeinated beverages.\\n6.  Treat nausea according to 1.3 Nausea/Vomiting-Treatment Protocol.\\nHEAT STROKE:\\n1.  Move the patient to a cool environment.\\n2.  Remove tight clothing.\\n3.  Immediate cooling  provide air conditioning and fanning.  Avoid chilling/shivering.\\n4.  Place patient in semi-reclining position with head elevated.\\n5.  Obtain IV/IO Access and administer fluid bolus NS or LR wide open (refer to 7.23\\nVascular Access and IV Fluid Therapy-Procedure Protocol).\\na.  Adults (> 14 years of age): up to 1 liter\\nb.  Pediatrics (<14 years of age): up to 20 mL/kg\\n7.  Treat nausea according to 1.3 Nausea/Vomiting-Treatment Protocol.\\n8.  Initiation of aggressive cooling may take priority over transport.  Contact Medical Control\\nfor further cooling and transport guidance.\\nMANAGEMENT OF PATIENT WITH EXERTIONAL HEAT STROKE\\n1.  Cool as quickly as possible via ice or cool-water immersion, if possible. Alternative\\nmeans, such as continually misting the exposed skin with tepid water while fanning\\nthe victim, may be used if immersion is not possible.","source_file":"2.10-HEAT-EMERGENCIES-8.31.23-Clean.txt"},"2-100":{"name":"Unknown Protocol","content":"Initial Date: 8/7/2024\\nRevised Date:\\nStrangulation\\nStrangulation is defined as asphyxiation caused by closure of blood vessels and or air\\npassageways of the neck due to external pressure. External pressure can be manual via a\\nbody part such as hands, arms, knees, etc., or can be by an object such as a belt, rope, etc.\\nStrangulation can be self-inflicted or inflicted by another person. Patients are at risk of\\ndelayed death due to internal swelling, anoxia, hematoma or structural damage that cannot\\nbe identified externally. Patients should be encouraged to seek medical care; if transported,\\ncommunicate strangulation attempt to hospital.\\nI.\\nII.\\nScene Safety\\na.  Patient\'s spouse/partner, caregiver or parent may be the perpetrator; their\\npresence may hinder patient\'s disclosure of information and affect scene\\nsafety.\\nb.  If appropriate, ensure law enforcement response.\\nAssess and document:\\na.  Mechanism of injury.\\ni.  Mechanism of strangulation:\\n1. Left, right, or both hands.\\n2. Forearm.\\n3. Knee or foot.\\n4. Ligature (i.e., rope, belt, etc.).\\n5. Smothered.\\n6. Other, describe.\\nii.  Evaluate for:\\n1. Quantify grip strength of strangulation.\\n2. Level of pain using 1-10 scale.\\n3. Duration of strangulation in min/sec.\\n4. Prior incidents of strangulation, domestic violence, or threats.\\niii.  Evaluate additional mechanism of injuries.\\n1. Was the patient shaken, beaten or held against wall, ground, etc.\\nb.  Signs and symptoms of strangulation and neck injury are not visible over 50%\\nof the time. Evaluate for:\\ni.  Neck spasms.\\nii.  Petechiae on face, eyes/eyelids, nose, ears, head.\\niii.  Deformity of or bleeding from nose, ears; bruising, swelling of\\nmouth/lips.\\niv.  Redness, scratches, abrasions, bruising under chin, on neck,\\nshoulders, chest.\\nv.  Ligature marks, swelling, fingernail impressions (offensive or defensive)\\non neck.\\nvi.  Missing hair, fracture, or swelling/bruising on head, signs of concussion.\\nvii.  Difficulty breathing or speaking; coughing, hoarse or raspy voice;\\ndrooling, difficulty or pain swallowing.\\nviii.  Vision disturbances or changes (spots, light flashes, tunnel vision, etc.).","source_file":"2.100-Strangulation-8.7.24-Clean.txt"},"2-11":{"name":"HYPOTHERMIA/FROSTBITE","content":"1.  Follow 1.1 General Pre-hospital Care-Treatment Protocol\\nHYPOTHERMIA:\\n1.  If cardiac arrest develops follow 5.1 Adult or 6.1 Pediatric General Cardiac Arrest-\\nTreatment Protocol.\\n2.  Move patient to a warm dry place, remove wet clothing & wrap in warm blankets and\\nprotect from wind exposure.\\n3.  If the patients temperature is greater than 30\xb0 C (86\xb0 F) or patient shivering &\\nconscious:\\nA.  Apply heat packs to groin, axillae, and neck if possible.\\nB.  Use warmed humidified oxygen if available.\\n4.  If patient is alert, administer warm non-caffeinated beverages (if available) by mouth,\\nslowly.\\n5.  If patient temperature is less than 30\xb0 C (86\xb0 F)\\nA.  Gentle handling is required.\\nB.  Facilitate transport immediately.\\n6.  If altered mental status, check blood glucose (may be MFR skill, see 7.21 Blood\\nGlucose Testing-Procedure Protocol) and treat as indicated per 3.1 Adult or 4.4\\nPediatric Altered Mental Status-Treatment Protocol and assess for other causes\\nof alterations of mentation.\\n7.  If hypotensive, follow 1.5 Shock-Treatment Protocol.\\nA.   If a commercial device designed for warming IV fluids is available, warm fluid\\nprior to administration.\\n8.  Administer oxygen, if available oxygen should be warmed and humidified.\\nSUSPECTED FROSTBITE:\\n1.  Remove wet or constricting clothing.  Keep skin dry and protected from wind.\\n2.  Do not allow the limb to thaw if there is a chance that limb may re-freeze before\\nevacuation is complete or if patient must walk to transportation.\\n3.  Dress injured areas lightly in clean cloth to protect from pressure, trauma or friction.\\nDo not rub. Do not break blisters.\\n4.  Keep patient warm.\\n5.  Frostbitten areas should be supported and elevated during transport.\\n6.  Treat pain per 7.13 Pain Management-Procedure Protocol.\\nProtocol Source/References: NASEMSO CLINICAL GUIDELINES","source_file":"2.11-HYPOTHERMIA-FROSTBITE-8.31.23-clean.txt"},"2-12":{"name":"MODERATE & SEVERE TBI","content":"Head Injury  Moderate & Severe TBI\\nPurpose:  Reduction of morbidity and mortality associated with Traumatic Brain Injury\\n(TBI). The treatment of a patient with suspected TBI should focus on four important clinically\\nidentifiable conditions: hypoxia, hyperventilation, hypotension, and hemorrhage.  Overall\\napproach:  Continuous monitoring of O2 saturation with high-flow oxygen regardless of O2\\nsaturation, avoidance of positive pressure ventilation (PPV) whenever possible and use of\\ncontinuous quantitative end-tidal CO2 (ETCO2) monitoring in patients requiring positive\\npressure ventilation, blood pressure monitoring every 3-5 minutes and using IV fluids to\\nmaintain BP above target, and assessment for signs of hemorrhage or hemorrhagic shock\\nwith use of applicable bleeding control interventions.\\nI.  TBI Criteria (moderate or severe TBI)\\n1.  Anyone with physical trauma and a mechanism consistent for a brain injury AND\\none or more of the following:\\na.  Any loss of consciousness OR any altered mental status (e.g., GCS <15)\\nb.  Multisystem trauma requiring PPV, whether the primary need for PPV was from\\nTBI or from other injuries.\\nc.  Seizures: pre-traumatic or post-traumatic seizures whether continuing or not.\\nd.  In infants (where mental status may be difficult to interpret): any decreased\\nlevel of consciousness or decreased responsiveness.\\nII.   Procedure:\\n1. Follow 1.1 General Pre-hospital Care Protocol\\n2. Transport according to 8.3 Transportation Protocol.\\n3. Manage Airway & Oxygenation (Prevent Hypoxemia)\\n  a. All patients identified with moderate or severe head injury should receive\\ncontinuous high-flow oxygen immediately by non-rebreather mask.\\nb. Monitor and maintain SpO2 equal to or greater than 90%.\\nc. If hypoxia is present despite high-flow oxygen, basic maneuvers for airway\\nrepositioning should be attempted, followed by reevaluation.\\n  d. If this does not restore SpO2 to 90% or greater, or if there is inadequate\\nventilatory effort, bag-valve-mask (BVM) ventilation should be performed, 2-\\nperson with supplemental oxygen and basic airway adjuncts.\\ne. Advanced airway placement only when BVM ventilation ineffective or other\\nconditions warrant advanced airway (e.g., long transport time) refer to 7.9\\nAirway Management-Procedure Protocol\\n4. Manage Ventilation (Prevent Hyperventilation)\\nNote:  Identify and treat hypoventilation as well as prevent hyperventilation when\\nassisting ventilation.  As much as possible maintain normal ventilation.  Hyper-\\nventilation decreases cerebral blood flow and worsens secondary brain injury.\\nStrict attention on avoiding hypo- and hyper- ventilation is critical. It has been\\nshown that repeatedly that inadvertent hyperventilation happens reliably if not\\nmeticulously prevented.  Use Pressure-Controlled Bags (PCBs) and Ventilation","source_file":"2.12-HEAD-INJURY-ADULT-8.31.23-Clean-edited.txt"},"2-13":{"name":"BLEEDING CONTROL (BCON)","content":"Initial Date: 8/31/2023\\nRevised Date:\\nBleeding Control\\nIndications:\\nPatients with significant traumatic or non-traumatic (i.e., hemodialysis access) external\\nhemorrhage\\n1.\\n2.\\n3.\\nFollow 1.1 General Pre-hospital Care-Treatment Protocol and 2.5 Soft Tissue\\n& Orthopedic Injuries-Treatment Protocol.\\nApply direct pressure to the wound with clean gauze using universal precautions.\\nIf the bleeding is not controlled with direct pressure, treat according to the\\nlocation of the wound.\\na.  Extremity bleeding - apply tourniquet:(Refer to 7.22 Tourniquet Application-\\nProcedure Protocol)\\ni.  If tourniquet unsuccessful apply second/adjacent tourniquet per 7.22\\nTourniquet Application-Procedure Protocol.\\nii.  NOTE- tourniquet may be painful, see 7.13 Pain Management-\\nProcedure Protocol.\\nb.  Neck, axilla/shoulder or groin bleeding:\\ni.  Pack wound with MCA approved hemostatic dressing (if available,\\nfollowing manufacturers instructions) or clean gauze.\\nii.  Use as much of the dressing/gauze as needed to stop the blood flow.\\niii.  Quickly apply pressure until the bleeding stops. (Approximately 3-5\\nminutes)\\niv.  Leave the dressing in place and wrap area with bandaging to secure the\\ndressing.\\n4.\\n5.\\n6.\\n7.\\n8.\\nDo not remove the bandage or hemostatic dressing/gauze\\nElevate the injury, if possible.\\nReassess for bleeding through or around the dressing.\\nFor patients who have signs or symptoms of shock, secondary to hemorrhage,\\nrefer to 2.14 Hemorrhagic Shock-Treatment Protocol.\\nTransport according to 8.3 Transportation Protocol\\nNotes:\\nIf hemostatic dressing is used, contact medical control to advise of application,\\ndocument time of use, and send packaging from dressing to hospital with patient for\\nremoval instructions.","source_file":"2.13-BCON-8.31.23-Clean.txt"},"2-14":{"name":"HEMORRHAGIC SHOCK","content":"Hemorrhagic Shock\\nPurpose:  To provide treatment for patients displaying signs and symptoms of shock\\nattributed to hemorrhage including trauma and severe postpartum hemorrhage.\\n1.\\n2.\\n3.\\n4.\\n5.\\n6.\\n7.\\n8.\\nFollow 1.1 General Pre-hospital Care-Treatment Protocol control bleeding\\naccording to 2.13 Bleeding Control (BCON)-Treatment Protocol when\\napplicable.\\nTransport according to 8.3 Transportation Protocol.\\nNo intervention should delay transport.\\nObtain vascular access.\\nFor signs of hypotension unaccompanied by moderate to severe head trauma\\nadminister NS or LR IV/IO fluid bolus IV/IO (refer to 7.23 Vascular Access and\\nIV Fluid Therapy-Procedure Protocol).\\na.  Adults (> 14 years of age): up to 1 liter\\nb.  Pediatrics (< 14 years of age): up to 20 mL/kg\\nFor signs of hypotension accompanied by moderate to severe head trauma refer\\nto 2.12 Head InjuryTreatment Protocol for fluid administration guidelines.\\nConsider other causes of traumatic hypotension and treat accordingly. (Tension\\npneumothorax see 7.18 Pleural Decompression-Procedure Protocol,\\nneurogenic shock see 1.5 Shock-Treatment Protocol)\\nHypotensive patients unaccompanied by moderate to severe head trauma should\\nreceive additional IV/IO fluid boluses, as indicated by hemodynamic state.\\na.  Adults (> 14 years of age): repeat IV/IO fluid bolus to a maximum of 2 liters.\\nb.  Pediatrics (< 14 years of age): repeat dose of 20 ml/kg to a maximum of 40\\nml/kg.\\nc.  Monitor for pulmonary edema.\\nd.  If pulmonary edema presents, stop fluids and contact Medical Control for\\ndirection.\\n9.\\nPer MCA Selection, if bleeding is uncontrolled and non-compressible, administer\\nTranexamic Acid (TXA)\\nTranexamic Acid (TXA) Included\\n Yes\\n   No\\nAge greater than 18 years old AND > 50 kg\\n1.\\n2.\\n3.\\nDestination must be capable of administering 2nd dose.\\nDraw up and mix 1 gram of TXA into a 100 ml bag of normal saline solution\\n(0.9% Sodium Chloride Solution).\\na.  Use a filter needle if the medication is supplied in an ampule.\\nb.  Apply pre-printed TXA added fluorescent-colored label to IV bag.\\nAdminister mixed medication via piggyback into IV/IO line over 10 minutes.","source_file":"2.14-HEMORRHAGIC-SHOCK-8.31.23-Clean-edited.txt"},"2-15":{"name":"SEXUAL ASSAULT","content":"Initial Date: 8/31/2023\\nRevised Date: 8/5/2024\\nSexual Assault\\nNote to Responders: Victims of sexual assault commonly require psychological support.\\n  Respect all stress they may be enduring and be thoughtful with your speech and\\nmovement.\\n  Touching may be traumatic. Be clear and communicate what you are doing and any\\nprocedures or physical assessments that are completed.\\nI.\\nII.\\nIII.\\nTreat any life-threatening injuries or other emergencies first and according to\\nprotocol.\\nNeck Injury (possible strangulation)  Refer to 2.100 Strangulation.\\nDuring treatment, attempt to maintain evidence, refer to 7.3 Crime Scene\\nManagement-Procedure Protocol.\\na.  Do not cut through tears or stains. Only cleanse skin when necessary to\\nprovide immediate treatment.\\nb.  Any clothes that have been removed from the patient, should be bagged in\\npaper bags, and brought with the patient to the hospital, if possible.\\nc.  Explain to the patient why they should not eat, drink, smoke, bathe, change\\nclothing, or go to the bathroom. If they must urinate, ask that they not wipe.\\nd.  If the patient desires and/or mandatory reporting is indicated, notify law\\nenforcement if they are not present.\\ne.  Any incident involving a minor or a vulnerable adult is a mandatory reporting\\nevent.\\nIV.\\nV.\\nVI.\\nVII.\\nAt the request of the patient, further assessment and treatment may be delayed\\nfor law enforcement arrival only if no life-threatening situation is present.\\nDuring transport, allow the patient to choose the preferable attendant, if possible.\\nDo not communicate details of a sexual assault over an open radio channel. Use\\ntelephone or other secure electronic communication.\\nIf the patient declines transport to the hospital:\\na.  Advise patients of risks and document according to the 7.19 Refusal of Care,\\nAdult and Minor-Procedure Protocol\\nb.  Encourage patients to seek follow-up care at a local specialized treatment\\ncenter.\\nc.  If law enforcement is not present, and the patient refuses law enforcement\\ncontact, advise patient that evidence of assault is best collected within 120\\nhours.\\nd.  Advise of available resources by seeking treatment or assistance, such as:\\ni.  MCA Specific resources, if available (i.e., Community Integrated\\nParamedicine if available and patient consents, MCA specific resource\\nsheets if available, etc.)\\nii.  Michigans sexual assault hotline 1-855-VOICES4 (1-855-864-2374)\\niii.  Links to local resources: https://www.michigan.gov/mdhhs/safety-injury-\\nprev/domestic-violence/find-services-in-your-area\\niv.  If unaware of local resources, and law enforcement is not available,\\ncontact Medical Control","source_file":"2.15-SEXUAL-ASSAULT-Clean-8.5.24.txt"},"2-2":{"name":"GENERAL TRAUMA","content":"General Trauma\\nThis protocol should be followed for severely injured patients meeting trauma triage\\nguidelines and methodology, including chest injuries, and patients with symptoms of spinal\\ncord injury, along with extremity weakness, numbness, or sensory loss.  It consists of\\nassessment, stabilization, extrication, initiation of resuscitation, and rapid transportation to\\nthe closest appropriate trauma facility.\\nGENERAL TRAUMA MANAGEMENT\\n1.  Follow 1.1 General Pre-Hospital Care-Treatment Protocol.\\n2.  Stabilize spinal column while opening the airway, determine level of consciousness.\\nRefer to 2.6 Spinal Injury Assessment-Treatment Protocol.\\n3.  Manage airway and ventilation per 7.9 Airway Management-Procedure Protocol.\\nAvoid Hyperventilation/Hyperoxygenation.\\n4.  Control major external bleeding.  Refer to 2.13 Bleeding Control (BCON)-\\nTreatment Protocol.\\n5.  If signs of shock are present, refer to 1.5 Shock-Treatment Protocol.\\n6.  Refer to 10.6 Mass Casualty Incidents-Special Operations Protocol if appropriate.\\n7.  Determine if the patient is taking blood thinners and document the results in the PCR.\\n8.  Initiate transport according to 8.3 Transportation Protocol.\\n9.  Alert receiving hospital as soon as appropriate.  Include pertinent trauma triage\\ncriteria.\\n10. Obtain vascular access (in a manner that will not delay transport).\\n11. Refer to 7.13 Pain Management-Procedure Protocol.\\nCHEST INJURY\\n1.  Control hemorrhage per 2.13 Bleeding Control (BCON)-Treatment Protocol and\\n2.5 Soft Tissue and Orthopedic Injuries-Treatment Protocol and 2.13\\nBleeding Control-Treatment Protocol.\\n2.  Assess, monitor, and treat life threatening respiratory problems.\\nA.  Administer high-flow oxygen. Avoid positive pressure ventilation if possible.\\nB.  Cover open and/or sucking chest wounds with an occlusive dressing or an\\nFDA approved, MCA authorized commercial device.\\n1.  Release dressing if worsened shortness of breath, or signs of tension\\npneumothorax.\\n3.\\nIf tension pneumothorax suspected, perform needle decompression per 7.18\\nPleural Decompression-Procedure Protocol.\\nABDOMINAL INJURY\\n1.  Cover intestinal eviscerations with a sterile dressing moistened with sterile saline or\\nwater; cover the area with an occlusive material (aluminum foil or plastic wrap).\\nCover the area with a towel or blanket to keep it warm.  Transport with knees slightly\\nbent, if possible.  DO NOT PUSH VISCERA BACK INTO ABDOMEN.\\n2.  If signs of shock see 1.5 Shock-Treatment Protocol and/or 2.14 Hemorrhagic\\nShock-Treatment Protocol\\nHEAD INURY\\n1.  Avoid hypo or hyper ventilation.  See 2.12 Head Injury-Treatment Protocol","source_file":"2.2-General-Trauma-8.31.23-Clean.txt"},"2-3":{"name":"BURNS","content":"Initial Date: 8/31/2023\\nRevised Date:\\nBurns\\nNOTE:  When calculating Total Body Surface Area (TBSA) do not include superficial burns\\n(erythematous tissue) in the TBSA\\nBURN SEVERITY DETERMINATION/DEFINITIONS\\nSUPERFICIAL - NOT counted in TBSA\\nDry, red, easily blanching, sometimes painful (i.e., sunburn)\\nSUPERFICIAL PARTIAL THICKNESS  counted in TBSA\\nMoist, red, blanching, blisters, very painful\\nDEEP PARTIAL THICKNESS  counted in TBSA\\nDrier, more pale, less blanching, less pain\\nFULL THICKNESS  counted in TBSA\\nDry, leathery texture, variable color (white, brown, black), loss of pin prick sensation\\nGENERAL TREATMENT:\\n1.  Follow 1.1 General Pre-Hospital Care-Treatment Protocol.\\n2.  Pediatric patients (< 14 years of age) utilize MI MEDIC cards for appropriate\\nmedication dosage.  When unavailable utilize pediatric dosing listed within protocol\\n3.  If evidence of possible airway burn, consider proactive airway management per 7.9\\nAirway Management-Procedure Protocol.\\n4.  Administer 100% oxygen to all patients rescued from a confined space fire (i.e.,\\nbuilding, automobile) regardless of pulse oximetry reading.\\n5.  Determine burn extent & severity (rule of nines, or palm = 1%).\\n6.  Keep patient warm and avoid hypothermia.\\n7.  Assess and treat for associated injuries.\\n8.  If burns are associated with unconsciousness or respiratory burns, or cyanide\\npoisoning, refer to 10.5 Cyanide Exposure-Special Operations Protocol.\\nTHERMAL BURNS:\\n1.  Stop the burning process. Remove smoldering and non-adherent clothing.\\n2.  Consider potential for secondary contamination .\\n3.  Assess and treat associated trauma.\\n4.  Remove any constricting items.\\n5.  Cover burns with dry clean dressings to prevent hypothermia.\\nCHEMICAL BURNS:\\n1.  Protect personnel from contamination.\\na.  Identify chemical agent when possible.\\n2.  Remove all clothing and constricting items.\\n3.  Decontaminate patient prior to transport, brushing off dry chemicals prior to irrigation\\nrefer to 10.8 Hazard Contaminated Patient-Special Operations.\\n4.  Evaluate for systemic symptoms, which might be caused by chemical contamination.\\n5.  Notify receiving hospital of possible chemical contamination.\\n6.  Cover burned area in clean, dry dressing for transport.\\nELECTRICAL INJURY:\\n1.  Protect rescuers from live electric wires.\\n2.  When energy source is removed, remove patient from electrical source.","source_file":"2.3-BURNS-8.31.23-Clean.txt"},"2-4":{"name":"GENERAL CRUSH INJURY","content":"Initial Date: 8/31/2023\\nRevised Date:\\nGeneral Crush Injury\\nPurpose:\\nThis protocol should be considered when the patient has been entrapped at the scene\\nfor more than one hour, one or more full extremities trapped by an object capable of\\ncausing a crush injury, including machinery, dirt, rock, and rubble or there is entrapment\\nof patient with history of previous cardiac or renal disease or dialysis treatment.\\nCrush Syndrome:\\nShould be suspected in patients with entrapment/compression of greater than one hour,\\nespecially when a large muscle mass/group is involved. Treatment of the patient at risk\\nfor Crush Syndrome should begin before the patient is removed when practical.\\nTreatment:\\n1.  Follow 1.1 General Trauma-Treatment Protocol, identify and treat life threats.\\n2.  Pediatric patients (< 14 years of age) utilize MI MEDIC cards for appropriate\\nmedication dosage.  When unavailable utilize pediatric dosing listed within protocol.\\n3.  Assess for signs of Compartment Syndrome or Crush Syndrome.\\n4.  Use tourniquet as indicated (see 7.22 Tourniquet Application-Procedure Protocol.\\n5.  Administer oxygen to patient if environment allows.\\n6. Administer albuterol 2.5 mg/3ml NS nebulized per 9.1 Medication Administration-\\nMedication Protocol continuous if IV access is not immediately available.  (Per MCA\\nselection may be EMT skill).  Albuterol may be continued to a maximum dose of 20 mg\\nNebulized albuterol administration\\n          EMT\\n7.  Establish large bore IV(s) and/or IO (refer to 7.23 Vascular Access and IV Fluid\\nTherapy-Procedure Protocol) and administer Normal Saline bolus prior to removal\\nof patient, when practical.\\na.  AVOID LR solution as it contains potassium\\nb.  Adults: 1 liters NS IV/IO wide open followed by 500-1,000 mL/hr\\nc.  Pediatrics: 20 ml/kg NS IV/IO wide open followed by 10/mL/kg/hr\\n8.  Treat patient pain per 7.13 Pain Management-Procedure Protocol.\\n9.  Initiate cardiac monitoring and assess for hyperkalemia, i.e., wide QRS or peaked T\\nwaves. Monitor continuously for changes.\\n10. If extrication is prolonged, and/or hyperkalemia is suspected (peaked T waves,\\nwidened QRS, hypotension):\\na.  Administer sodium bicarbonate","source_file":"2.4-GENERAL-CRUSH-INJURY-8.31.23-Clean.txt"},"2-5":{"name":"SOFT TISSUE AND ORTHOPEDIC INJURIES","content":"1.  Follow 1.1 General Pre-hospital Care Protocol.\\n2.  Pediatric patients (< 14 years of age) utilize MI MEDIC cards for appropriate\\nmedication dosage.  When unavailable utilize pediatric dosing listed within protocol.\\n3.  Control bleeding (refer to 2.13 Bleeding Control (BCON)- Procedure Protocol)\\nA.  Utilize direct pressure.\\nB.  Consider early tourniquet use (refer to 7.22 Tourniquet Application-\\nProcedure Protocol).\\nC.  Consider MCA approved hemostatic agents and hemorrhage control devices.\\nD.  Consider use of pressure dressings with deep wound packing.\\nE.  Consider pelvic binding for suspected unstable pelvic fracture.\\n4.  For uncontrolled bleeding with hemorrhagic shock see 2.14 Hemorrhagic Shock-\\n5.\\nTreatment Protocol\\nIf appropriate, maintain spinal precautions for patient per 2.6 Spinal Injury\\nAssessment-Treatment Protocol.\\n6.  Assess pain on 1-10 scale and treat per 7.13 Pain Management-Procedure Protocol.\\n7.\\nImmobilize/splint orthopedic injuries as appropriate.\\nA.  Special Considerations\\ni.  Consider traction splinting for closed femur fractures (excluding\\nhip/femoral neck).\\nii.  Straighten severely angulated fractures if distal extremity has signs of\\ndecreased perfusion.\\niii.  Evaluate and document neurovascular status before and after\\nsplinting.\\n8.  Partial/complete  amputations,  major  soft  tissue  injuries  (e.g.,  mangled  extremity)  and\\nopen fractures.\\nA.  Control bleeding as above\\nB.  Cover wounds with sterile dressings moistened with sterile solution.\\nC.  Splint extremity.\\nD.  Recoverable amputated parts should be brought to hospital as soon as possible.\\nE.  Wrap amputated part in sterile dressing moistened with sterile solution.  Seal in\\na plastic bag and, if available, place bag in container of ice and water.  DO\\nNOT place part directly on ice.\\nF.  Obtain IV access per 7.23 Vascular Access and IV Therapy-Procedure\\nProtocol.\\nG.  Administer antibiotics (per MCA selection).","source_file":"2.5-SOFT-TISSUE-AND-ORTHOPEDIC-INJURIES-Clean-8.31.23.txt"},"2-6":{"name":"SPINAL INJURY ASSESSMENT","content":"1.  Follow 1.1 General Pre-hospital Care-Treatment Protocol.\\n2.  Assess the mechanism of injury.\\nA.  Negative mechanism does not need a spine injury clinical assessment.\\nB.  Patients with mechanism of injury with the potential for causing spine injury\\nshall have a spine injury clinical assessment performed.\\n3.  Clinical criteria are used as the basis for assessment.  If any of the clinical criteria are\\npresent or if the assessment cannot be completed, the patient has a positive spine\\ninjury assessment.\\n4.  If the mechanism of injury with the potential for causing spine injury exists, the\\nfollowing clinical criteria are assessed:\\nA.  Altered mental status\\nB.  Use of intoxicants\\nC.  A painful injury that distracts the patient from assessment of the spine.\\nD.  Motor and/or sensory deficit\\nE.  Spine pain and/or tenderness\\n5.  If any of the clinical criteria are present the patient has a positive spine injury\\nassessment.  If none of the clinical criteria are present the patient has a negative\\nspine injury assessment.\\n6.  Patients with a positive spine injury assessment should have spinal precautions\\nmaintained during movement and transport. Refer to 7.20 Spinal Precautions-\\nProcedure Protocol.\\n7.  Patients over the age of 65 with evidence of a head strike mechanism of injury will\\nhave a rigid extrication collar applied even if the spinal injury clinical assessment is\\nnegative.\\nProtocol Source/References: NASEMSO Clinical Guidelines","source_file":"2.6-SPINAL-INJURY-ASSESSMENT-8.31.23-clean.txt"},"2-7":{"name":"TRAUMATIC ARREST","content":"Initial Date: 8/31/2023\\nRevised Date:\\nTraumatic Arrest\\nPurpose:  The patient in cardiac arrest from a traumatic cause requires rapid assessment\\nand treatment for any chance of meaningful recovery. Standard ACLS is not the optimal\\napproach. Successful resuscitation of the traumatic cardiac arrest patient requires rapid\\nidentification and correction of specific entities and rapid transport to an appropriate facility.\\n1.  Indications:\\na.  Patients in cardiac arrest from a traumatic source (blunt or penetrating)\\n2.  Contraindications:\\na.  Patient that meets DOA criteria, refer to 7.6 Dead on Scene/Termination of\\nResuscitation-Procedure Protocol.\\nb.  Suspected traumatic cardiac arrest of more than 10 minutes prior to any\\ninterventions, refer to 7.6 Dead on Scene Termination of Resuscitation-\\nProcedure Protocol\\nc.  If the trauma appears to be minor/minimal and a medical condition appears to\\nbe the cause of the cardiac arrest, refer to the appropriate cardiac arrest\\nprotocol.\\n3.  Procedures\\na.  CPR - high quality CPR needs to be maintained refer to 5.1 Adult or 6.1\\nPediatric General Cardiac Arrest-Treatment Protocol\\ni.\\nIt is permissible to interrupt CPR briefly for life saving interventions\\nlike needle decompression/hemorrhage control.\\nb.  MEDICATIONS - Prioritize findings and reversing life threatening injuries as\\nstandard ACLS medications may not be useful.\\nc.  AIRWAY - Rapid establishment of an advanced airway with 100% oxygen\\nadministration refer to 7.9 Airway Management-Procedure Protocol\\nd.  CHEST DECOMPRESSION - Refer to 7.18 Pleural Decompression-\\nProcedure Protocol.\\ni.  Consider bilateral needle decompression in the presence of chest\\ntrauma, regardless of findings.\\ne.  HEMORRHAGE CONTROL - Bleeding control is essential refer to 2.13\\nBleeding Control (BCON)-Treatment Protocol and if applicable 7.22\\nTourniquet Application-Procedure Protocol.\\ni.  Penetrating Trauma - Areas not amenable to tourniquet should have a\\npressure dressing and/or wound packing per 2.13 Bleeding Control\\n(BCON)-Procedure Protocol.\\nii.  Blunt Trauma  Place a pelvic binder (commercial or a sheet) on all\\npatients with blunt or blast trauma suffering traumatic arrest.  If using\\na sheet, it should be wrapped around the greater trochanters.","source_file":"2.7-TRAUMATIC-ARREST-8.31.23-clean-edited.txt"},"2-8":{"name":"DROWNING/SUBMERSION INJURY","content":"Drowning is defined as, A process resulting in primary respiratory impairment from\\nsubmersion or immersion in a liquid medium. (American Heart Association, 2010).\\nFor patients who have been submerged and in cardiac arrest:\\n1.  In cold water (water temperature less than 70\xb0 F/21\xb0 C)\\nA.  Initiate resuscitative efforts if submersion time is less than 90 minutes.\\ni.  Contact Medical Control for instructions on transport timing and\\ndestination for in-hospital rewarming.\\nB.  For submersion time greater than 90 minutes see 7.6 Dead on\\nScene/Termination of Resuscitation-Procedure Protocol\\n2.  In warm water (temperature is greater than 70\xb0 F/21\xb0 C)\\nA.  Initiate resuscitative efforts if submersion time is less than 30 minutes.\\ni.  Contact Medical Control for futher direction, which may include\\ninstructions on transport timing, destination, or termination of\\nresuscitation.\\nB.   For submersion time greater than 30 minutes see 7.6 Dead on\\nScene/Termination of Resuscitation-Procedure Protocol\\n3.  It may be impractical to determine water temperature; subsurface water\\ntemperatures may be considerably colder than surface temperature. When in doubt,\\nconsider water to be cold.\\n4.  Time estimation begins when the patient is presumed to be submersed.\\nFor patients who have been submerged and NOT in cardiac arrest\\n1.  If SCUBA incident with rapid ascent, the maintain the patient in a supine position.\\n2.  Follow 1.1 General Pre-hospital Care-Treatment Protocol.\\nA. Administer high flow oxygen.\\nB. Primary survey should include proactive airway management and restoration\\nof adequate oxygenation and ventilation.\\nC. Exam should include consideration of possible c-spine injury.\\nD. Assess for other associated injury such as injury to the head or dive-related\\nemergency.\\nE. Assess patients temperature.\\nF. If patient is hypothermic, go to 2.11 Hypothermia/Frostbite-Treatment\\nProtocol, handle patients gently.  Excessive/aggressive movement can\\nprecipitate cardiac arrest.\\nG. Prevent further heat loss by transport in a warm environment.\\nH. Patient should be dry and/or wrapped in vapor barrier, as available.\\nI.  Patients may develop subacute respiratory difficulty after drowning and\\ntherefore all victims of drowning should be transported for observation.\\ni.  Consider transport to facility with hyperbaric oxygen therapy capability.\\nJ.  Consider CPAP (Per MCA selection, may be a BLS procedure) follow 7.5\\nCPAP- Procedure Protocol.\\nK. Contact Medical Control if no transport is considered or no transport is\\nrequested.","source_file":"2.8-DROWNING-SUBMERSION-INJURY-8.31.23-clean.txt"},"2-9":{"name":"POISONING/OVERDOSE/ENVIRONMENTAL EXPOSURE","content":"Poisoning/Overdose/Environmental Exposure\\nNERVE AGENT/ORGANOPHOSPHATE EXPOSURE refer to 10.3 Nerve\\nAgent/Organophosphate Pesticide Exposure-Special Operations Protocol.\\nGENERAL MANAGEMENT OF TOXIC EXPOSURE (INCLUDING INGESTION)\\n1.  Follow 1.1 General Pre-hospital Care-Treatment Protocol.\\n2.  Pediatric patients (< 14 years) utilize MI MEDIC cards for appropriate medication\\ndosage.  When unavailable utilize pediatric dosing listed within protocol.\\n3.  Use proper personal protective equipment and prepare for decontamination if necessary.\\n4.  Remove clothing exposed to chemical (dry decon) refer to 10.8 Hazardous Contaminated\\nPatient-Special Operations\\n5.  Identification of the substance the patient has been exposed to.\\n6.  If altered mental status, refer to 3.1 Adult or 4.4 Pediatric Altered Mental Status-\\nTreatment Protocol.\\n7.  If suspected opioid overdose, refer to 1.9 Opioid Overdose Treatment and Prevention-\\nTreatment Protocol.\\n8.  If respiratory distress, refer to 3.3 Adult or 4.5 Pediatric Respiratory Distress-Treatment\\nProtocol.\\n9.  If the patient is seizing, refer to 3.4 Adult or 4.7 Pediatric Seizure-Treatment Protocol.\\n10. Alert receiving hospital if patient may present HAZMAT risk.\\n11. Sample of drug or substance and any medication or poison containers should be brought in\\nwith patient if it does NOT pose a risk to rescuers.\\n12.  Refer to 7.13 Pain Management-Procedure Protocol\\n13.  For inhalation exposures, ensure high flow oxygen is provided.\\n14. If suspected cyanide gas exposure, refer to 10.5 Cyanide Exposure-Special Operations\\nProtocol and contact Medical Control immediately.\\n15. If suspected nerve agent or organophosphate pesticide, refer to 10.3 Nerve\\nAgent/Organophosphate Pesticide Exposure-Special Operations Protocol and\\ncontact Medical Control immediately.\\n16. Obtain 12 lead (Per MCA selection, may be a BLS or Specialist procedure) refer to 7.1\\n12-Lead ECG- Procedure Protocol and monitor cardiac rhythm, treat dysrhythmia per\\nappropriate dysrhythmia protocol.\\n17. For extrapyramidal dystonic reactions, administer diphenhydramine.\\na.  For adults (>14 years of age), 50 mg IV.\\nb.  For pediatrics (<  14 years of age), 1 mg/kg IV (max dose 50 mg).\\n15. For symptomatic tricyclic antidepressant ingestions (tachycardia, wide complex QRS),\\ncontact Medical Control for administration of sodium bicarbonate\\na.  Adults (>14 years of age), 50 mEq IV, repeat as needed per medical control.\\nb.  Pediatrics (<  14 years of age), 1mEq/kg IV, repeat as needed per medical control.\\n16. For symptomatic calcium channel blocker overdose, contact Medical Control and consider\\ncalcium chloride\\na.  Adults (>14 years of age), 1 gm IV.\\nb.  Pediatrics (<  14 years of age), 20 mg/kg IV (max dose 1 gm).","source_file":"2.9-Poisoning-OD-Envir-8.31.23-Clean.txt"},"3-1":{"name":"ALTERED MENTAL STATUS","content":"The purpose of this protocol is to provide for the assessment and treatment of patients with\\naltered mental status.  Consideration should be given to treatable and reversible causes (e.g.,\\nhypoglycemia, opioid overdose, etc.).  For patients < 14 years of age refer to 4.4 Pediatric\\nAltered Mental Status-Treatment Protocol.\\n1.  Follow 1.1 General Pre-hospital Care Protocol-Treatment Protocol.\\n2.  If patient is not alert or vital signs are abnormal:\\na.  Evaluate and maintain airway, provide oxygenation, and support ventilations as\\nneeded per 7.9 Airway Management-Procedure Protocol.\\nb.  If no suspected spinal injury, place the patient in recovery position.\\n3.  If respiratory depression is present due to suspected opioid overdose, administer\\nnaloxone per 1.9 Opioid Overdose Treatment and Prevention-Treatment Protocol.\\n4.  Restrain patient, if necessary, refer to 7.16 Patient Restraint-Procedure Protocol.\\n5.  For a known diabetic, consider small amounts of oral glucose if unable to measure\\nblood glucose level.\\n6.  If the patient is demonstrating signs of hypoglycemia, refer to 1.100 Diabetic\\nEmergencies.\\n7.  Consider 12 Lead ECG (Per MCA selection, may be a BLS or Specialist procedure)\\nfollow 7.1 12 Lead ECG-Procedure Protocol.\\n8.   If the patient is not alert and the cause is not immediately known contact Medical\\nControl and consider:\\nA  Alcohol\\nE  Epilepsy\\nI  Insulin\\nO  Overdose\\nU  Uremia\\nT  Trauma\\nI  Ingestion\\nP  Psych\\nP  Phenothiazine\\nS  Salicylates\\nC  Cardiac\\nH  Hypoxia\\nE  Environmental\\nS  Stroke\\nS - Sepsis","source_file":"3.1-ALTERED-MENTAL-STATUS-8.31.23-Clean-Amended-12-4.txt"},"3-2":{"name":"STROKE OR SUSPECTED STROKE","content":"OCMCA FAST-ED Stroke Severity Scale Checklist\\n(FAST-ED LSAs only)\\nFacial Palsy  Ask the patient to show their teeth or smile.\\n1.  Both sides of the face move equally or not at all.\\n2.  One side of the face droops or is clearly asymmetric.\\n0\\n1\\nArm Weakness  Ask the patient to extend both arms with palms up out in front of them, close their\\neyes, and hold them there for a count of 10.\\n1.  Both arms remain up for >10 seconds or slowly move down equally.\\n2.  Patient can raise arms but one arm drifts down in <10 seconds.\\n3.  One or both arms fall rapidly, cannot be lifted, or no movement occurs at all.\\nSpeech Changes\\nExpressive Aphasia  Ask the patient to name 3 common items.\\n1.  Names 2 to 3 items correctly.\\n2.  Names only 0 - 1 items correctly.\\nReceptive Aphasia  Ask the patient to perform a simple command.\\n                                   Example: Ask the patient, show me two fingers.\\n1.  Normal, patient can follow the simple command.\\n2.  Unable to follow the simple command.\\nEye Deviation\\n1.  No deviation, eyes move equally to both sides.\\n2.  Patient has clear difficulty when looking to one side (left or right).\\n3.  Eyes are deviated to one side and do not move to the other side.\\nDenial/Neglect  (Do not perform if expressive or receptive aphasia is present)\\n0\\n1\\n2\\n0\\n1\\n0\\n1\\n0\\n1\\n2\\nAnosognosia  Show the patient their affected arm and ask, Do you feel weakness in this arm?\\n1.  Patient recognizes the weakness in their weak arm.\\n2.  Patient does NOT recognize the weakness in their weak arm.\\nAsomatognosia  Show the patient their affected arm and ask, Whose arm is this?\\n1.  Patient recognizes their weak arm.\\n2.  Patient does NOT recognize their weak arm.\\nA FAST-ED score > 4\\nindicates a high likelihood of a severe stroke\\nTotal Score\\n(0-9)\\n0\\n1\\n0\\n1\\nMCA:  Oakland County\\nMCA Approval Date: 10/10/2024\\nMCA Implementation Date:  11/15/2024\\nMDHHS Approval Date: 10/25/2024","source_file":"3.2-OCMCA-STROKE-OR-SUSPECTED-STROKE-Clean-5.24.24.txt"},"3-3":{"name":"RESPIRATORY DISTRESS","content":"Initial Date: 8/31/2023\\nRevised Date: 3/14/2024\\nRespiratory Distress\\nFor patients < 14 years of age refer to 4.5 Pediatric Respiratory Distress-Treatment\\nProtocol.\\n1.  Follow 1.1 General Pre-hospital Care-Treatment Protocol.\\n2.  Allow patient a position of comfort.\\n3.  Determine the type of respiratory problem involved.\\n4.  Crackles of suspected cardiac etiology or fluid overload (Refer to the 5.4 Pulmonary\\nEdema/Cardiogenic Shock-Treatment Protocol).\\n5.  Refer to the 7.24 End Tidal Carbon Dioxide Monitoring protocol.\\nCLEAR BREATH SOUNDS:\\n1.  Possible metabolic problems, MI, pulmonary embolus, hyperventilation\\n2.  Obtain 12-lead ECG (Per MCA selection, may be a BLS or Specialist procedure)\\nfollow 7.1 12 Lead ECG-Procedure Protocol.\\nASYMMETRICAL BREATH SOUNDS:\\n1.  If evidence of tension pneumothorax and patient unstable, consider decompression\\nrefer to 7.18 Pleural Decompression-Procedure Protocol\\nSTRIDOR/UPPER AIRWAY OBSTRUCTION:\\n1.  Complete Obstruction:\\n A. Follow 1.10 Foreign Body Airway Obstruction-Treatment Protocol.\\n2.  Partial Obstruction: epiglottitis, foreign body, anaphylaxis, etc.\\nA. Follow 7.9 Airway Management-Procedure Protocol.\\nB. Consider anaphylaxis see 1.6 Anaphylaxis/Allergic Reaction-Treatment\\n    Protocol.\\nC. Transport in position of comfort.\\nRHONCHI (SUSPECTED PNEUMONIA):\\n1.  Sit patient upright.\\n2.  Consider CPAP per 7.5 CPAP-Procedure Protocol.\\n3.  Consider NS or LR IV/IO fluid bolus up to 1 liter, wide open if tachycardia, repeat as\\nneeded per 7.23 Vascular Access and IV Fluid Therapy-Procedure Protocol\\nCRACKLES:\\n1.  Crackles of suspected non cardiac etiology/fluid  follow wheezing, diminished breath\\nsound below. For crackles of suspected cardiac etiology/CHF/cardiogenic shock refer\\nto 5.4 Pulmonary Edema/Cardiogenic Shock-Treatment Protocol.\\nWHEEZING, DIMINISHED BREATH SOUNDS (ASTHMA, COPD):\\n1.  Assist the patient in using their own albuterol Inhaler, if available\\na.  Administer albuterol 2.5 mg/3mL NS nebulized (Per MCA selection may be\\nEMT skill) per 9.1 Medication Administration-Medication Protocol","source_file":"3.3-RESPIRATORY-DISTRESS-Clean-Final-3.14.24.txt"},"3-4":{"name":"SEIZURES","content":"Initial Date: 8/31/2023\\nRevised Date:\\nSeizures\\nFor patients < 14 years of age refer to 4.7 Pediatric Seizure-Treatment Protocol\\n1.  Follow 1.1 General Pre-hospital Care-Treatment Protocol.\\n2.  IF PATIENT IS ACTIVELY SEIZING:\\nA.  Protect patient from injury.\\nB.  Do not force anything between teeth.\\nC.  Pregnant women 20 weeks gestation up to 6 weeks post birth WITHOUT a\\nseizure disorder history treat as eclampsia, see Magnesium Sulfate\\nadministration below.\\nD.  Administer midazolam 10 mg IM prior to IV start\\n3.  Check blood glucose (may be MFR skill, see 7.21 Blood Glucose Testing-\\nProcedure Protocol),\\nA.  If blood glucose is found to be less than 60 mg/dL or hypoglycemia is suspected\\n                      administer dextrose 25 gm IV per 1.100 Diabetic Emergencies.\\nB.  If patient is pregnant (eclampsia)\\na.  Administer magnesium sulfate 4 gm over 10 minutes IV/IO until\\nseizure stops.  Administration of magnesium sulfate is best\\naccomplished by adding magnesium sulfate 4 gm to 100 or 250 ml\\nof NS and infusing over approximately 10 minutes.\\nb.  If eclamptic seizure does not stop after magnesium, then administer\\nbenzodiazepine as specified below.\\nC.  If IV already established and midazolam IM/IN has not been administered,\\nadminister midazolam 5 mg IV/IO\\nD.  If seizures persist\\na.  Repeat midazolam 5mg IV/IO/IM/IN\\nb.  Contact Medical Control\\n4.  IF PATIENT IS NOT ACTIVELY SEIZING and has/is:\\nA.  Altered level of consciousness, refer to 3.1 Altered Mental Status-Treatment\\nProtocol.\\nB.  Alert\\na.  Monitor for changes.\\nb.  Obtain vascular access see 7.23 Vascular Access & IV Fluid\\nTherapy.\\nc.  Check blood glucose (may be MFR skill, see 7.21 Blood Glucose\\nTesting-Procedure Protocol),\\nMedication References\\nDextrose\\nGlucagon\\nMagnesium Sulfate\\nMidazolam\\nProtocol Source/References: NAEMSO Clinical Guidelines","source_file":"3.4-SEIZURES-8.31.23-Clean-edited.txt"},"3-5":{"name":"SEPSIS","content":"Initial Date: 8/31/2023\\nRevised Date:\\nSepsis\\nIt is the purpose of this protocol to recognize and treat sepsis early to promote\\noptimal care and survival of patients who may be septic. This protocol applies to\\npatients >14 years of age with a clinical suspicion of systemic infection who have 2 or\\nmore of the inclusion criteria. These patients are defined as meeting criteria for\\nsuspicion of sepsis and should be evaluated and treated per this protocol.\\nINCLUSION CRITERIA\\n1.  Clinical suspicion of systemic infection, and two or more of the following:\\nA.  Hyperthermia temp >38o C (100.4 F)\\nB.  Hypothermia temp<36o C (96.8 F)\\nC.  Heart rate >90bpm\\nD.  Respiratory rate  <10 or >20 per minute\\nE.  SBP <90 mmHg or evidence of hypoperfusion\\nTreatment\\n1.  Follow 1.1 General Pre-Hospital Care-Treatment Protocol.\\n2.  Place patient in supine position.\\n3.  Start large bore IV catheter per 7.23 Vascular Access and IV Fluid Therapy-\\nProcedure Protocol.\\na. Start second large bore IV catheter, if time permits.\\n4.  Place on cardiac monitor and treat rhythm according to appropriate protocol.\\n5.  Place on continuous pulse oximetry.\\n6.  Check blood glucose (may be MFR skill, see 7.21 Blood Glucose Testing-\\nProcedure Protocol\\n7.  If the patient meets inclusion criteria, administer a NS or LR IV/IO fluid bolus up to 1\\nliter, wide open. Reassess the patient, repeat boluses to a maximum of 2 L NS or\\nLR as long as vital sign abnormalities persist.\\nA.  Monitor for pulmonary edema.\\nB.  If pulmonary edema presents, stop fluids, and contact Medical Control for\\n     direction.\\n8.  If hypotension persists, refer to 1.5 Shock-Treatment Protocol.\\n9. Monitor ETCO2 level (see 7.24 End Tidal Carbon Dioxide Monitoring-Procedure\\nProtocol) and report levels outside of normal range (35-45 mm Hg) to the receiving\\nfacility as soon as possible","source_file":"3.5-SEPSIS-8.31.23-clean.txt"},"3-6":{"name":"SEVERE AGITATION","content":"Hyperactive Delirium Syndrome with Severe Agitation\\nIndications: Patient > 14 years of age who is an imminent physical threat to personnel\\nand/or themselves and  level of agitation is such that transport may place all parties at risk.\\nHyperactive delirium syndrome with severe agitation. is a life-threatening constellation of\\nsymptoms including, but not limited to, severe agitation and vital sign abnormalities\\n(tachycardia, hyperthermia). These patients are usually an imminent physical threat to\\npersonnel and/or themselves.\\nTreatment\\n1.  Ensure ALS response.\\n2.  Follow 1.1 General Pre-hospital Care-Treatment Protocol\\n3.  Ensure appropriate personnel available to provide patient and provider safety. Refer\\nto 7.16 Patient Restraint-Procedure Protocol.\\n4.  Obtain history, when possible, perform visual patient assessment, looking for cause\\nof behavior (i.e., visible trauma, stroke symptoms, etc.).  If an alternate cause of the\\nbehavior is likely, transition to the 3.1 Altered Mental Status-Treatment Protocol or\\nother applicable protocol.\\n5.  For patients who are uncontrollably agitated despite de-escalation techniques,\\nprepare for airway management, and administer per MCA selection:\\nPer MCA Selection\\n Ketamine 4 mg/kg IM maximum single dose 500 mg (3-5 minute onset)\\nor\\n Midazolam 10 mg IM/IN\\n6.  Once adequate sedation is obtained:\\na.  Continuously monitor SpO2\\nb.  Monitor and capnometry- see 7.24 End Tidal Carbon Dioxide Monitoring-\\nProcedure Protocol.\\nc.  Obtain temperature.\\ni.  If hyperthermic (temp >38o C or 100.4 F) provide cooling via ice packs to\\nneck, axilla  groin and/or fluids to skin while promoting evaporation (air\\nmovement).\\nd.  Establish IV per the 7.23 Vascular Access and IV Therapy-Procedure\\nProtocol and provide fluid bolus of up to 1 L of NS or LR.  Reassess the\\npatient, repeat boluses to a maximum of 2 L NS or LR as long as vital sign\\nabnormalities persist.\\ni.  Monitor for pulmonary edema.\\nii.  If pulmonary edema presents, stop fluids and contact Medical Control\\nfor direction.","source_file":"3.6-Hyperactive-Delirium-Syndrome-8.31.23-Clean-with-apv-date.txt"},"3-7":{"name":"CRASHING ADULT/IMPENDING ARREST","content":"Purpose:   EMS frequently encounters patients that are critically ill and quickly\\ndeteriorating to the point of cardiac or respiratory arrest. Deterioration can\\noften occur while packaging and loading these patients. It is important to\\nrapidly recognize the deteriorating patient taking immediate action to\\nstabilize the condition prior to loading and transporting.  The following\\ntimeline provides a prioritization of the goal-directed treatments to stabilize\\nthe patient and prevent deterioration. For patients < 14 years of age refer\\nto 4.9 Pediatric Crashing Patient/Impending Arrest-Treatment\\nProtocol.\\n1.  Criteria\\na.  Inclusion:\\ni.  Patient in whom cardiac or respiratory arrest appears imminent\\nii.  Patient with provider impression of critical illness, including new\\nonset altered mental status, airway compromise or severe\\nrespiratory distress/failure, and/or signs and symptoms of\\nshock/poor perfusion.\\n     b. Exclusion:\\ni.  Life-threatening trauma that has not been corrected (i.e.,\\nexsanguination, pneumothorax, etc.)\\n2.  Critical Actions (Initiate within first 5 minutes)\\na.   Airway\\ni.  Insert Nasopharyngeal or Oropharyngeal Airway as\\nindicated/tolerated if not following commands (GCS motor <6) or no\\nresponse to verbal stimuli per the 7.9 Airway Management-\\nProcedure Protocol.\\nb.  Breathing\\ni.  If respiratory failure or distress, sit patient up if tolerated and not\\ncontraindicated by suspected spine injury.\\nii.  Provide high-flow oxygen per the 7.12 Oxygen Administration-\\nProcedure Protocol.\\niii.  If respirations are <10 per minute, ventilate by BVM at 15LPM.\\nTwo-person, two-handed technique is most effective and is highly\\nrecommended if the number of providers allows.\\niv.  If respirations are >10 but inadequate, apply CPAP for respiratory\\ndistress/hypoxia per the 7.5 CPAP-Procedure Protocol.\\nv.  Respirations may be assisted with BVM in sitting position if patient\\ntolerates.\\nvi.  Consider PPV by BVM if not following commands or SpO2 <90%","source_file":"3.7-Crashing-Adult.Impending-Arrest-8.31.23-Clean-edited.txt"},"4-1":{"name":"DOSING AND INTERVENTION CARDS","content":"Pediatric Medication Emergency Dosing and Intervention Cards\\nPurpose: Instructions for using the Michigan Medication Emergency Dosing and\\nIntervention Cards (MI-MEDIC). Pediatric patients (< 14 years) utilize MI MEDIC cards for\\nappropriate medication dosage. When unavailable utilize pediatric dosing listed within\\nprotocol\\n1.  Obtain correct weight of the child\\na.  If patients actual weight is known, use MI MEDIC card for that weight. (DO\\nNOT CONFUSE POUNDS and KILOGRAMS)\\nb.  If patients weight is not known, use length-based resuscitation tape to\\ndetermine the proper color zone.\\nc.  If a length-based resuscitation tape not available, use patients age to\\ndetermine color of card to use. DO NOT GUESS THE WEIGHT OF THE\\nCHILD.\\n2.  Select appropriate weight-based medication for intervention.\\n3.  Select the corresponding colored card\\n4.  Select desired medication from Cardiac Resuscitation or Medical Conditions\\n5.  ASSURE medication CONCENTRATION on hand is as specified on card\\n6.  Some medications should be diluted as instructed on card\\n7.  If dilution is required, follow steps to dilute entire vial of medication prior to drawing up\\nfinal ml volume to administer.\\n8.  Confirm medication dose and volume to be delivered.\\n9.  Administer volume of medication as desired.\\n  10. Contact Medical Control for questions or concerns.\\nNOTE: Some medication doses have been rounded for safety and ease of use for the\\nprevention of medication errors. These doses may not exactly correspond with the\\nmg/kg dose in the pediatric treatment protocols. The use of these rounded doses has\\nbeen approved for use and administration will be acceptable as long as the dose was\\nreferenced from the MI MEDIC cards.","source_file":"4.1-Pediatric-Medication-Emergency-Dosing-and-Intervention-Cards-1.27.23.txt"},"4-2":{"name":"Unknown Protocol","content":"Childbirth and Related Obstetrical Emergencies\\nPurpose:  To provide the process for the assessment and management of\\nthe mother for childbirth and childbirth related emergencies.  Assessment and\\ncare of newborns and infants under 30 days old, see 4.3 Newborn/Neonatal\\nAssessment and Resuscitation-Treatment Protocol.\\n1.  Follow 1.1 General Pre-hospital Care-Treatment Protocol\\n2.  Assessment Information\\nA. Past Medical History:  previous births, previous complications, history of\\npreeclampsia/eclampsia.\\nB. Current History:  duration of gestation (weeks), whether single or multiple births are\\nexpected, or any prior pregnancy complications.\\nC. Specific Objective Findings:  vital signs, assess contractions (duration, frequency).\\nD. In the presence of licensed health care providers (e.g., physician, licensed midwife),\\ncontact medical control for care not consistent with protocols.\\nE. Determine  whether  to  transport  or  remain  at  scene  due  to  imminent  delivery.\\nIndications of impending, imminent delivery may include:\\na. Multiple pregnancy, strong regular contractions, every 2 minutes or less,\\nruptured membrane, bloody show, need to push or bear down, crowning\\nF. Obtain vascular access if time permits per 7.23 Vascular Access and IV Fluid\\n     Therapy-Procedure Protocol\\n3.  Management of Normal Delivery\\nA. If signs of newborn delivery are imminent, and there is no time to\\ntransport, prepare for delivery.\\nB. Have oxygen and suction readily available for care of the newborn.\\nC. Try to find a place for maximum privacy, cleanliness, and warmth.\\nD. Allow safe birth position of choice.\\nE. Monitor patient for signs of hypotension. If signs develop, position patient\\nso weight of uterus is to patients left side.\\nF. Drape if possible, using clean sheets.\\nG. Encourage mother to relax and take slow deep breaths through her mouth.\\nH. Reassure her throughout process.\\nI.  As babys head begins to emerge from vagina, support it gently with hand and\\ntowel to assist in delivery.\\na. Do not pull babys head or neck once head is delivered.\\nJ.  After head is delivered look and feel to see if cord is wrapped around babys neck\\n(see Nuchal Cord management below).\\nK. As the shoulders deliver, carefully hold, and support the head and shoulders as\\nthe body delivers, may be suddenly  and the baby is very slippery!  Use a sterile\\ntowel if available to help support the baby.\\nL. Note the time of delivery.","source_file":"4.2-Childbirth-and-OB-Emergencies-8.31.23-Clean-Amended-12-4.txt"},"4-5":{"name":"PEDIATRIC RESPIRATORY DISTRESS, FAILURE, OR ARREST","content":"Pediatric Respiratory Distress, Failure or Arrest\\n1. Follow 1.1 General Pre-hospital Care-Treatment Protocol.\\n2. Pediatric patients (< 14 years) utilize MI MEDIC cards for appropriate medication\\ndosage.  When unavailable utilize pediatric dosing listed within protocol\\n3. Assess the patients airway\\nA. If unable to ventilate patient after airway repositioning refer to 1.10 Foreign Body\\nAirway Obstruction-Treatment Protocol and/or 7.9 Airway Management-\\nProcedure Protocol\\nB. Consider anaphylaxis refer to 1.6 Allergic Reaction/Anaphylaxis-Treatment\\nProtocol\\n4. Allow the patient a position of comfort that also maintains an open airway.\\n5. Titrate SpO2 to 94%\\nA. Have a parent assist with oxygen via blow by or mask support.\\n6. Airway should be managed by least invasive method possible.\\n7. Suction secretions if needed.\\n8. Consider CPAP if appropriate size available, follow 7.5 CPAP-Procedure Protocol\\n9. Do not delay transport for interventions.\\n10. Attempt vascular access only if necessary for patient treatment.\\nSuspected Bronchospasm (Wheezing):\\n1. Assist the patient in using their own albuterol Inhaler, if available and medication has\\nnot expired and is prescribed to patient.\\n2. Administer albuterol 2.5 mg/3ml NS nebulized (Per MCA selection may be EMT skill)\\nper 9.1 Medication Administration-Medication Protocol\\nNebulized albuterol administration per\\nMCA selection\\n EMT\\n3. Consider CPAP if appropriate size available, follow 7.5 CPAP- Procedure Protocol\\n4.\\nIn cases of respiratory failure administer epinephrine auto-injector\\nMCA Approval of epinephrine auto-injector IM\\n MFR\\n MCAs will be responsible for maintaining a roster of the agencies choosing\\nto participate and will submit roster to MDHHS.\\nA.\\nB.\\nIf child appears to weigh less than 10 kg (approximately 20 lbs.), contact medical\\ncontrol prior to epinephrine if possible.\\nIf child weighs between 10-30 kg (approximately 20-60 lbs.), administer\\npediatric epinephrine auto-injector IM.\\nC. Child weighing greater than 30 kg (approximately 60 lbs.), administer\\nepinephrine auto-injector IM.\\n5. In cases or respiratory failure administer epinephrine 1 mg/ml IM (per MCA selection\\nmay be BLS or MFR skill).","source_file":"4.5-PED-RESP-DISTRESS_FAIL_ARREST-1.11.24-Clean.txt"},"4-3":{"name":"AND RESUSCITATION","content":"Newborn & Neonatal Assessment and Resuscitation\\nAliases:\\nresuscitation.\\nnewborn assessment, newborn treatment, newborn resuscitation, neonatal\\nPurpose:  Infants less than 30 days old are considered neonates.  This protocol is intended\\nfor assessment of newly born infants, and/or the resuscitation of newly born infants less\\nthan 30 days old.\\nASSESSMENT OF NEWLY BORN INFANTS\\n1.  History\\nA. Date and time of birth\\nB. Onset of symptoms\\nC. Prenatal history (prenatal care, substance abuse, multiple gestation, maternal\\nillness)\\nD. Birth history (maternal fever, meconium, prolapsed or nuchal cord, bleeding)\\nE. Estimated gestational age (may be based on last menstrual period)\\n2.  Immediate Assessment & Procedures\\nA. Respiratory (R of APGAR)\\ni. Assess rate and effort (strong, weak, or absent; regular or irregular)\\nii. Absent\\na.  If the baby does not breathe spontaneously, stimulate by gently rubbing\\nits back or slapping the soles of its feet.\\niii. Respiratory distress (grunting, nasal flaring, retractions, gasping, apnea OR no\\nreturn of spontaneous breathing after stimulation.\\na.  position airway (sniffing position) and clear airway as needed\\nb.  If thick meconium or secretions present suction mouth then nose\\nc.  Initiate ventilation with appropriately sized equipment and 21% oxygen\\n(room air)\\nB. Heart rate/pulse (P of APGAR)(fast, slow, or absent), auscultation of chest is the\\npreferred method\\ni. If heart rate >100 beats per minute\\na.  Monitor for central cyanosis, provide blow-by oxygen as needed\\nb.  Monitor for signs of respiratory distress. If apneic or significant distress:\\n1) Initiate bag-valve-mask ventilation with room air at 40-60 breaths\\nper minute\\nii. If heart rate < 100 beats per minute\\na.  Initiate bag-valve-mask ventilation with room air at 40-60 breaths per\\nminute\\nb.  Primary indicator of improvement is increased heart rate\\nc.  Only use minimum necessary volume to achieve chest rise\\nd.  If no improvement after 90 seconds, provide ventilations with\\nsupplemental oxygen (100%) until heart rate normalizes (100 or above)\\niii. If heart rate < 60 beats per minute","source_file":"4.3-Newborn_Neonatal-Assess_Resusc-8.31.23-clean-Amended-12-4.txt"},"4-4":{"name":"PEDIATRIC ALTERED MENTAL STATUS","content":"The purpose of this protocol is to provide for the assessment and treatment of pediatric\\npatients with altered mental status of unknown etiology such as alcohol, trauma, poisonings,\\nseizures, behavioral problems, stroke, environmental causes, infection, etc.\\n  For pediatrics less than < 24 hours old  refer to 4.3 Newborn/Neonatal\\nAssessment and Resuscitation-Treatment Protocol\\n  For critically ill patients refer to 4.9 Pediatric Crashing Patient/Impending\\nArrest-Treatment Protocol\\n1.  Follow 1.1 General Pre-hospital Care-Treatment Protocol.\\n2.  Pediatric patients (< 14 years) utilize MI MEDIC cards for appropriate medication\\ndosage.  When unavailable utilize pediatric dosing listed within protocol\\n3.  Restrain patient, if necessary, refer to 7.16 Patient Restraint-Procedure\\nProtocol.\\n4.  Ensure adequate oxygenation, ventilation, and work of breathing\\nA.  Monitor SpO2\\nB.  Consider use of capnography\\n5.  Check blood glucose (may be MFR skill, see 7.21 Blood Glucose Testing-\\nProcedure Protocol\\n6.  Check temperature if febrile go to 4.6 Pediatric Fever-Treatment Protocol\\n7.  Start IV/IO if needed per 7.23 Vascular Access & IV Therapy-Procedure Protocol\\n8.  Check blood sugar, if high or low refer to Protocol 1.100 Diabetic Emergencies.\\n9.  If patient respiratory depression persists and/or patient has not regained\\nconsciousness despite adequate oxygenation and ventilatory support administer\\nnaloxone per 1.9 Opioid Overdose Treatment and Prevention-Treatment\\nProtocol\\n10. Contact Medical Control for repeat naloxone.\\nMedication References\\nDextrose\\nGlucagon\\nNaloxone","source_file":"4.4-PEDIATRIC-ALTERED-MENTAL-STATUS-8.31.23-Clean.txt"},"4-6":{"name":"PEDIATRIC FEVER","content":"Initial Date: 8/31/2023\\nRevised Date:\\nPediatric Fever\\nThis protocol is intended to assist EMS providers in reducing fever in the pediatric patients\\nprior to arrival to the emergency department.  Fever is defined as a temperature of 100.4\\ndegrees Fahrenheit (38 degrees Celsius) or greater.  Emergency management of the\\nfebrile child involves an assessment to determine if any associated problems are present\\nwhich may require emergency treatment.\\n1.  Follow 1.1 General Pre-hospital Care-Treatment Protocol.\\n2.  Pediatric patients (< 14 years) utilize MI MEDIC cards for appropriate medication\\ndosage.  When unavailable utilize pediatric dosing listed within protocol.\\n3.  Obtain baseline temperature and document method used.\\na.  Children less 60 days old require a documented rectal temperature (including\\ntime temperature obtained) prior to antipyretic administration.\\n4.  Administer antipyretic according to MCA selection\\nMCA Antipyretic Selection\\n(Must select at least one)\\n Ibuprofen (children > 6 months of age)\\n Acetaminophen\\n5.  Administer ibuprofen if child is over 6 months old, has not been given ibuprofen\\n(e.g., Motrin/Advil) or any medication containing ibuprofen (i.e., cold medication) in\\nthe last 6 hours and is alert.\\ni.  If patients weight is known, utilize that weight and MI-MEDIC for\\ndosing.\\nii.  If patients weight is not available, utilize length-based tape and MI-\\nMEDIC for dosing.\\niii.  If MI-MEDIC is not available, use dosing chart below.\\nOR\\n6.  Administer acetaminophen if the child has not been given acetaminophen (e.g.,\\nTylenol) or any medication containing acetaminophen (i.e., cold medication) in last\\nfour (4) hours and is alert, and:\\ni.  If patients weight is known, utilize that weight and MI-MEDIC for\\ndosing.\\nii.  If patients weight is not available, utilize length-based tape and MI-\\nMEDIC for dosing\\niii.  If MI-Medic is not available, use dosing chart below.\\nIf any question concerning alertness or ability to swallow, DO NOT ADMINISTER.\\n7.\\n8.  Dosing questions should be directed to online medical control.","source_file":"4.6-PEDIATRIC-FEVER-8.31.23-Clean.txt"},"4-7":{"name":"PEDIATRIC SEIZURES","content":"I.  Follow 1.1 General Pre-Hospital Care -Treatment Protocol.\\nII.  For focal seizure contact Medical Control\\nIII.\\nIF PATIENT IS ACTIVELY SEIZING (GENERALIZED TONIC CLONIC):\\nA.  Protect patient from injury.\\nB.  Maintain airway and provide supplemental oxygen\\nC.  Administer midazolam according to the MI-MEDIC cards\\na.  If MI-MEDIC unavailable administer midazolam 0.1mg/kg IM maximum\\n   individual dose 10 mg.\\nb.  If IV established prior to seizure activity administer midazolam 0.05 mg/kg\\n  IV/IO maximum single dose of 5 mg.\\n       c.  Monitor SpO2, EKG and waveform capnography (per 7.24 End Tidal Carbon\\nDioxide Monitoring-Procedure Protocol) after midazolam administration.\\nD.  Consider trauma if evidence or suspicion of trauma treat according to\\n    applicable protocol in addition to stopping the seizure.\\nE.  Check blood glucose (may be MFR skill, see 7.21 Blood Glucose Testing-\\n    Procedure Protocol).\\na.  If high or low refer to protocol 1.100 Diabetic Emergencies\\nF.   If seizure persists 10 minutes after initial dose of midazolam and correction of\\nlow blood glucose repeat one time midazolam (per MCA selection)\\n                     Pre radio midazolam administration (without Medical Control\\n                         contact)\\n   Post radio midazolam administration (contact Medical Control)\\n            prior to administration.\\ni. 0.1mg/kg IM maximum single dose of 10 mg\\n    OR\\n   ii. If IV already available 0.05 mg/kg IV/IO maximum single dose of 5 mg.\\nF. If seizures persist after second dose, consider underlying causes and contact\\n               Medical Control for further instructions.\\nIV.  For PATIENT NOT CURRENTLY SEIZING, monitor and treat known underlying causes,\\nif possible:\\nb.  A.  Check blood glucose (may be MFR skill, see 7.21 Blood Glucose Testing-\\nProcedure Protocol) and treat as outlined in protocol 1.100 Diabetic\\nEmergencies\\nB.  Check temperature and refer to 4.6 Pediatric Fever-Treatment Protocol if\\napplicable.\\nC.  Monitor oxygenation and mental status, administer oxygen to maintain 94%,\\nincluding ventilatory support as needed according to the 7.9 Airway\\nManagement- Procedure Protocol\\na.     For patients with respiratory depression and high suspicion opioid\\n  involvement, administer naloxone per 1.9 Opioid Overdose Treatment\\nand Prevention-Treatment Protocol.","source_file":"4.7-PEDIATRIC-SEIZURES-8.31.23-Clean.txt"},"4-8":{"name":"SAFE TRANSPORTATION OF CHILDREN IN AMBULANCES","content":"Safe Transportation of Children in Ambulances\\nSafe transportation of children in ambulances is very important. This protocol will serve as\\na guideline to the safe transportation of children in an ambulance. These are a limited set of\\ncircumstances that may not fit every situation.\\nDefinitions:\\n1.  Child Restraint System (CRS) is a device that is designed for child safety in any\\nmode of transportation (e.g., vehicle, airplane, ambulance, etc.). This includes:\\n2.  Vehicle CRS such as car seats that are used in personal vehicles (e.g., forward and\\nrearward facing and booster seats\\n3.  Ambulance Child Restraints (ACR) are a subset of CRS and are a specific type of\\nchild restraint system that is designed to be used in ambulances and on ambulance\\nstretchers. ACR is not a brand name and devices that meet the definition of ACR\\nand are approved by the MCA may be utilized.\\na.  An ACR does NOT include car seats that were designed for use in personal\\nvehicles.\\nCriteria for Transport\\n1.  This protocol applies pediatric patients who are of a height/weight that require\\nthe use of a CRS.\\n2.  Any pediatric patient that requires a CRS that is transported in an ambulance\\nmust be in an ACR.\\na.  When not transported in an ACR, this must be documented as such and\\nreported to the MCA.\\n3.  This protocol is based on recommendations, as published by the National\\nHighway Traffic Safety Administration (NHTSA), for the transportation of\\nchildren in five possible situations:\\na.  The transport of a non-patient pediatric passenger, accompanying an injured\\nor ill patient\\nb.  The transport of a pediatric patient  whose condition does not require\\ncontinuous and/or intensive medical monitoring or intervention.\\nc.  The transport of a pediatric patient who does require continuous and/or\\nintensive monitoring or intervention.\\nd.  The transport of a pediatric patient  whose condition requires spinal motion\\nrestriction and/or lying flat, refer to 7.20 Spinal Precautions-Procedure\\nProtocol\\ne.  The transport of a pediatric patient who require transport as part of a multiple\\npatient transport (newborn with mother, multiple children, etc.)\\nProcedure\\n1.  Transport patient on ambulance stretcher secured with an ACR.\\n2.  The childs height and weight will be considered when determining an appropriate\\nACR, following manufacturers recommendations.\\n3.  When use of ACR is unavailable, unachievable or is detrimental see situational\\nguidelines below, document as such and report to the MCA.","source_file":"4.8-SAFE-TRANSPORT-OF-CHILDREN-8.31.23-clean.txt"},"4-9":{"name":"PEDIATRIC CRASHING PATIENT/IMPENDING ARREST","content":"Purpose:   EMS frequently encounters patients that are critically ill and quickly\\ndeteriorating to the point of cardiac or respiratory arrest. Deterioration can\\noften occur while packaging and loading these patients. It is important to\\nrapidly recognize the deteriorating patient and taking immediate action to\\nstabilize the condition prior to loading and transporting.  The following\\ntimeline provides a prioritization of the goal-directed treatments to stabilize\\nthe patient and prevent deterioration.\\n1.  Criteria:  Patient < 14 years of age\\na.  Inclusion:\\ni.  Patient in whom cardiac or respiratory arrest appears imminent\\nii.  Patient with provider impression of critical illness, including new\\nonset altered mental status, airway compromise or severe\\nrespiratory distress/failure,(cyanosis, severe retractions, head\\nbobbing, grunting, respiratory rate extremes per age-adjusted\\nnormal MI-MEDIC),  and/or signs and symptoms of shock/poor\\nperfusion. (capillary refill greater than 3 seconds, tachycardia or\\nhypotension per age-adjusted normal on MI-MEDIC).\\n     b. Exclusion:\\ni.  Life-threatening trauma that has not been corrected (i.e.,\\n     exsanguination, pneumothorax, etc.)\\n2.  Critical Actions (within First 5 Minutes)\\n                a. Airway\\ni.   Open airway manually. For child <2 years old, place padding under\\n     shoulders (align auditory meatus with sternal notch).\\nInsert nasopharyngeal or oropharyngeal Airway as\\nii.\\nindicated/tolerated if not following commands (GCS motor <6), as\\nindicated/tolerated if GCS <9,  or no response to verbal stimuli per\\nthe 7.9 Airway Management-Procedure Protocol.\\n                 b.  Breathing\\ni. If respiratory failure or distress, sit patient up if tolerated and not\\n   contraindicated by suspected spine injury. keep the patient calm and\\n    allow them to maintain a position of comfort, if possible.\\nii. Provide high-flow oxygen per the 7.12 Oxygen Administration-\\nProcedure Protocol.\\nA.\\nIf respirations are <10 per minute, ventilate by BVM at 15LPM.\\nTwo-person, two-handed technique is most effective and is\\nhighly recommended if the number of providers allows.\\nIf respirations are inadequate, ventilate by BVM at 15LPM.\\nAdminister ventilations guided by chest rise. Two-person, two-\\nB.","source_file":"4.9-Ped-Crashing-Patient_Impending-Arrest-8.31.23-clean.txt"},"5-1":{"name":"CARDIAC ARREST - GENERAL","content":"Cardiac Arrest  General\\nThis protocol should be followed for adult cardiac arrests.  Medical cardiac arrest patients\\nundergoing attempted resuscitation should not be transported unless return of spontaneous\\ncirculation (ROSC) is achieved, transport is ordered by Medical Control, or otherwise\\nspecified in protocol.\\n\\n\\n\\nIf an arrest is of a known traumatic origin, refer to the 2.7 Traumatic Arrest -\\nTreatment Protocol.\\nIf it is unknown whether the arrest is traumatic or medical, and the patient does not\\nmeet dead on scene criteria per 7.6 Dead on Scene Termination of Resuscitation-\\nProcedure Protocol, start CPR and continue with this protocol.\\nIf patient is hypothermic refer to 2.11 Hypothermia/Frostbite-Treatment Protocol\\nfor warming techniques when applicable.\\n  Patients displaying a Do Not Resuscitate (DNR) order, bracelet, or necklace; or valid\\nMichigan Physician Orders for Scope of Treatment (MI POST)  follow 7.7 DNR-\\nProcedure Protocol or 7.25 MI-POST-Procedure Protocol accordingly.\\n  Cardiac arrest patients undergoing resuscitation should only be moved if the scene\\nis unsafe, the physical location of the patient does not permit appropriate treatment,\\nor under a direct medical control order.\\nHIGH QUALITY CPR & DEFIBRILLATION\\nFocus should be on prompt defibrillation and effective chest compressions.\\n  CPR and electrical therapy should be consistent with current American Heart\\nAssociation guidelines.  For all patients, anterior/posterior placement of pads is\\npreferred and should be used, if possible, and if defibrillation not delayed.\\n  For all devices defibrillate with energy levels following manufacturers\\nrecommendations.\\no  If unknown use the maximum available\\nExcellent CPR is a priority:\\n  Keep pauses in CPR to a minimum by checking rhythm when rotating rescuer doing\\ncompressions and by avoiding pauses in CPR during airway management and other\\ninterventions. CPR pauses should be kept to less than 10 seconds.\\n  Use End Tidal Carbon Dioxide (ETCO2) monitoring throughout resuscitation.\\n  CPR initial sequence is CAB (Compressions, Airway, Breathing), except in drowning\\nor obvious respiratory cause which should use the ABC (Airway, Breathing,\\nCompressions) sequence.\\n  Chest compression rate is 100 to 120/min.\\n  Chest compression depth for adults is 2 inches (5 cm)\\n  Compressions and ventilations in a ratio of 30:2\\n  Supraglottic airways are an acceptable primary advanced airway device (i.e.,\\nconsidered at least as good as endotracheal intubation) for patients in cardiac arrest\\nwith exceptions noted in the 7.9 Airway Management-Procedure Protocol.","source_file":"5.1-Cardiac-Arrest-Gen-8.31.23-Amended-to-match-Clean-7.6-edited.txt"},"5-2":{"name":"BRADYCARDIA","content":"This is a protocol for patients with serious symptomatic bradycardia, defined as patients with\\nheart rate less than 60 bpm and hypotension, or shock.  Titrate treatments to a heart rate\\nabove 60 bpm.  If the patient remains hypotensive, refer to the 1.5 Shock Treatment\\nProtocol.\\n1.  Follow the 1.1 General Pre-Hospital Care-Treatment Protocol.\\n2.  Administer atropine 1 mg IV/IO rapid push repeating every 3-5 minutes to a total dose of 3\\nmg IV/IO, until a heart rate of greater than 60/minute is reached.\\n3.  Transcutaneous pacing (TCP) when available may be initiated prior to establishment of IV\\naccess and/or before atropine begins to take effect. Pacing is the treatment of choice for\\nhigh degree A-V block (second-degree Type II, or third-degree), apply pacer pads. Follow\\nthe 7.8 Electrical Therapy- Procedure Protocol.\\n4.  Per MCA selection, provide sedation per 7.17 Patient Procedural Sedation-Procedure\\nProtocol\\n5.  For patients with persistent symptomatic bradycardia, administer epinephrine by\\npush dose (dilute boluses)\\na.  Prepare (10 mcg/mL) by adding 1mL of 1mg/10mL epinephrine in 9mL NS,\\nthen:\\ni.  Administer 10-20 mcg (1-2 mL epinephrine 10 mcg/mL) IV/IO\\nii.  Repeat every 3 to 5 minutes\\niii.  Titrate SBP greater than 90 mmHg\\nNotes:\\n1.  Consider possible etiologies:\\nA.  Hyper/hypokalemia, other metabolic disorders\\nB.  Hypothermia\\nC.  Hypovolemia (including vomiting/diarrhea)\\nD.  Hypoxia\\nE.  Hydrogen ion excess (acidosis)\\nF.  Toxins/ overdose (e.g., beta-blocker or calcium channel-blocker)\\nG.  Tamponade\\nH.  Tension pneumothorax\\nI.  Thrombosis (pulmonary or coronary)\\n2.  Transcutaneous pacemaker electrode pads may be applied to these patients without\\ninitiating pacing so that the pacemaker is ready if patient condition deteriorates.\\n3.  For symptomatic high-degree (second-degree Type II, or third-degree) AV block,\\nbegin pacing without delay.\\n4.   Heart transplant patients may not respond to atropine\\nMedication References\\nAtropine\\nEpinephrine\\nProtocol Source/References:  Highlights of the 2020 AHA Guidelines Update for CPR and ECC","source_file":"5.2-BRADYCARDIA-8.31.23-Clean.txt"},"5-3":{"name":"TACHYCARDIA","content":"Aliases: Supraventricular Tachycardia (SVT), Ventricular Tachycardia (VT or V-Tach),\\nAtrial Fibrillation with Rapid Ventricular Response (A-Fib with RVR)\\n  This protocol is used for the care of patients with persistent tachycardia (ventricular\\nrate greater than or equal to 150/minute) where the tachycardia is believed to be the\\nprimary cause of the patients symptoms.\\n  For rates <150, believed to be causing symptoms, contact Medical Control for\\npossible orders.  It is not intended to treat tachycardia that is secondary to\\nunderlying conditions (i.e., dehydration, trauma, sepsis, or toxins).  Consultation with\\nonline medical control should be considered for complex patients in whom the cause\\nof the arrhythmia is not obvious.\\n  Unstable patients may be defined as those with a tachycardia with:  hypotension,\\nacutely altered mental status, signs of shock, significant ischemic chest discomfort,\\nshortness of breath, or pulmonary edema that is likely due to the arrhythmia.\\nUnstable patients will usually have a ventricular rate >150 BPM.\\n  Note: Unstable patients with compensatory sinus tachycardia may resemble\\ntachycardic arrhythmias but should not be treated as such. Treat underlying cause.\\n  Adenosine is only used for regular monomorphic tachycardic rhythm\\n1.\\n2.\\n3.\\n Follow the 1.1 General Pre-Hospital Care-Treatment Protocol.\\n Identify and treat reversible causes.\\n Determine if patient is stable or unstable.\\nUNSTABLE\\n1.  Prepare for immediate cardioversion.  In conscious patients consider sedation prior to\\nelectrical cardioversion per 7.17 Patient Procedural Sedation-Procedure Protocol\\n2.  Electrical cardioversion\\na.  Perform synchronized cardioversion according to manufacturer recommendations.\\nb.  If unable to deliver synchronized cardioversion in polymorphic V Tach (including\\nTorsades), defibrillate (cardiovert without synchronization) according to\\nmanufacturer recommendations (or device maximum energy dose)\\nc.  Contact medical control if the patient does not convert at maximum energy, for\\nadditional orders.\\nSTABLE (But Symptomatic)\\n1.   If at any point a patient becomes unstable, go to UNSTABLE section, and perform\\n      synchronized cardioversion.\\n2.   Start an IV NS KVO. A large bore antecubital IV is preferred.\\n3.   Obtain 12 lead ECG see 7.1 12 Lead ECG.\\n4.   Contact Medical Control for guidance as needed.\\nMCA Name Oakland County\\nMCA Board Approval Date: October 6, 2023\\nMCA Implementation Date: February 1, 2024","source_file":"5.3-Tachycardia-8.31.23-Clean-edited.txt"},"5-4":{"name":"PULMONARY EDEMA/CARDIOGENIC SHOCK","content":"Pulmonary Edema/Cardiogenic Shock\\nThis protocol is to be followed for patients in respiratory distress due to pulmonary edema\\nwith or without hypotension (i.e., CHF/fluid overload or Cardiogenic Shock).   Pulmonary\\nedema usually presents with crackles which should be continuously evaluated as they may\\nevolve with treatments.\\n1.  Follow 1.1 General Pre-Hospital Care-Treatment Protocol.\\n2.  Initiate supplemental oxygen by non-rebreather mask.\\n3.  Position patient upright with legs dependent, if possible.\\n4.  Consider CPAP per 7.5 CPAP-Procedure Protocol\\n5.  Establish IV access without delaying treatment per 7.23 Vascular Access & IV Fluid\\nTherapy-Procedure Protocol.\\n6.  If wheezing, administer albuterol 2.5 mg/3ml NS nebulized (Per MCA selection may\\nbe EMT skill) per 9.1 Medication Administration-Medication Protocol\\nNebulized albuterol administration per\\nMCA selection\\n    EMT\\n7.  If crackles (with or without wheezing) administer nitroglycerin as outlined below.\\na.  Inquire of all patients regardless of identified gender if they have taken an erectile\\ndysfunction medication or medications used to treat pulmonary hypertension in\\nthe last 48 hours.\\ni.  If yes, DO NOT ADMINISTER NITROGLYCERIN AND CONTACT\\nMEDICAL CONTROL.\\nb.  Prior to IV administration if no erectile dysfunction medication and systolic BP is\\nabove 120 mmHG, nitroglycerin 0.4mg sublingual may be administered up to a\\nmaximum of 3 doses.\\nc.  If SBP above 100 mmHg (with IV/IO in place), administer nitroglycerin 0.4 mg\\nSL, repeat every 3-5 minutes if SBP remains above 100 mmHg.\\nd.  If wheezing continues, continue nitroglycerin 0.4 mg SL and consider:\\n     albuterol/ipratropium bromide per 3.3 Respiratory Distress-Treatment\\nProtocol\\n8.  If SBP is below 100 mmHG treat for cardiogenic shock.\\na. Prepare (epinephrine 10 mcg/mL) by combining 1mL of 1mg/10mL\\n     epinephrine in 9mL NS\\ni.  Administer 20 mcg (2 mL epinephrine 10 mcg/mL) IV/IO\\nii.  Repeat every 3-5 minutes\\niii.  Titrate SBP greater than 90 mm/Hg.\\n9.  If indicated, consider an advanced airway see 7.9 Airway Management-Procedure\\nProtocol.\\n10. Obtain 12-lead ECG (May be a BLS or Specialist skill, per MCA selection, see 7.1 12\\nLead ECG-Procedure Protocol).  Follow MCA transport protocol if ECG is positive\\nfor ST segment elevation myocardial infarction (STEMI) and alert hospital as soon as\\npossible.","source_file":"5.4-PULM-EDEMA_CARDIOGEN-8.31.23-Clean.txt"},"5-5":{"name":"CHEST PAIN/ACUTE CORONARY SYNDROME","content":"Chest Pain/Acute Coronary Syndrome\\nThe goal is to reduce cardiac workload and to maximize myocardial oxygen delivery by\\nreducing anxiety, appropriately oxygenating, and relieving pain.  For non-cardiac causes of\\nchest pain, refer to appropriate protocol which may include 7.13 Pain Management-\\nProcedure Protocol.\\n1.  Follow General Pre-Hospital Care Protocol.\\n2.  Obtain 12-lead as early as possible without delaying medication administration. (Per\\nMCA selection, may be a BLS or Specialist procedure, follow 7.1 12 Lead ECG\\nProcedure-Protocol).\\n3.  Administer oxygen 4 L/min per nasal cannula if pulse oximetry SpO2 < 94%.\\n4.  Assist patient in the use of their own aspirin up to a dose of 325 mg and per\\nformulation (chew, swallow, etc.)\\n5.  Administer aspirin up to 325 mg PO, chew and swallow if no aspirin or suspected\\ninsufficient dose since the onset of chest pain. (Per MCA selection may be MFR\\nand/or EMT skill).\\n                 Aspirin Administration\\n                MFR          EMT\\n6.  Inquire of all patients regardless of identified gender if they have taken an erectile\\ndysfunction medication or medications used to treat pulmonary hypertension in the\\nlast 48 hours.\\na.   If yes, DO NOT ADMINISTER/ ASSIST WITH NITROGLYCERIN AND\\nCONTACT MEDICAL CONTROL.\\n7.  Consider fentanyl early when nitroglycerin is contraindicated due to erectile\\ndysfunction medication (see 14. below for fentanyl administration)\\n8.  If no erectile dysfunction medication, systolic BP is above 120 mmHG and patient has\\nnitroglycerin sublingual tabs prescribed to them available (check expiration date):\\nassist patient in use of their own nitroglycerin, up to a maximum of 3 doses.\\n9.  Prior to IV administration if no erectile dysfunction medication and systolic BP is\\nabove 120 mmHG, nitroglycerin 0.4mg sublingual may be administered up to a\\nmaximum of 3 doses.  (Per MCA selection may be EMT skill)\\nNitroglycerin  Administration\\n  EMT\\n10.  Start an IV NS or LR KVO per 7.23 Vascular Access and IV Fluid Therapy-\\nProcedure Protocol.\\n11. If the patient has a SBP of less than 100 mmHg:\\na.  Administer 250 ml fluid bolus (may repeat 3 times for a total of 1 liter)\\nb.  Between boluses assess patient response and monitor for pulmonary edema.\\nc.  If pulmonary edema is noted stop fluids and contact Medical Control","source_file":"5.5-CHEST-PAIN-ACS-8.31.23-Clean-edited.txt"},"5-6":{"name":"RETURN OF SPONTANEOUS CIRCULATION (ROSC)","content":"Return of Spontaneous Circulation (ROSC)\\nThis protocol should be followed for all cardiac arrests with ROSC.  If an arrest is of a known\\ntraumatic origin, refer to the 2.7 Traumatic Arrest -Treatment Protocol and MCA\\nTransport Protocol.  If it is unknown whether the arrest is traumatic or medical, consider\\nother treatable causes.  Initiate ALS response if available. After ROSC, patients should be\\nstabilized on scene prior to transport, for five to ten minutes before moving the patient. Refer\\nto 3.7 Crashing Adult /Impending Arrest-Treatment Protocol.\\n1.\\nIf ventilation assistance is required, ventilate at 10-12 breaths per minute.  Do not\\nhyperventilate.\\n2.  Monitor vital sign and reassess patient.  If patient becomes pulseless begin CPR and\\nrefer to 5.1 Adult Cardiac Arrest General-Treatment Protocol.\\n3.  Check blood glucose (may be MFR skill, see 7.21 Blood Glucose Testing-\\nProcedure Protocol\\n4.  Treat hypotension (systolic blood pressure less than 90 mm/Hg) with an IV/IO fluid\\nbolus of up to 1 liter.\\n5.  Perform 12- lead ECG (Per MCA selection, may be BLS or Specialist skill per 7.1 12\\nLead ECG-Procedure Protocol)\\n6.  Consider Transport to a facility capable of Percutaneous Coronary Intervention (PCI)\\nper MCA protocol if 12 Lead ECG indicates ST Elevation MI.\\n7.  Monitor waveform ETCO2.  If ventilation assistance is required, target ETCO2 of 35-\\n45 mm Hg per 7.24 End Tidal Carbon Dioxide Monitoring-Procedure Protocol\\nIf hypotension persists after initial IV/IO fluid bolus, prepare push dose epinephrine\\nwhile administering second 1 liter fluid bolus (maximum total fluid 2 liters)\\n8.\\n9.  Administer epinephrine by push dose (dilute boluses).\\na. Prepare (10 mcg/mL) by adding 1mL of 1mg/10mL epinephrine in 9mL NS, then:\\ni.  Administer 10-20 mcg (1-2 mL epinephrine 10 mcg/mL)\\nii.  Repeat every 3 to 5 minutes\\niii.  Titrate to SBP greater than 90 mm/Hg\\n10.  Anticipate airway intolerance and prepare for patient sedation. If patient becomes\\nagitated with advanced airway in place, refer to 7.17 Patient Procedural Sedation-\\nProcedure Protocol.\\nNotes:\\n1.  If a mechanical ventilator is available or there are spontaneous respirations in the\\nnon-intubated patient, titrate inspired oxygen on the basis of monitored SpO2 to\\nmaintain a saturation of 92% but <98%. Titrate ETCO2 between 35-45 mmHg.\\n2.  Consider removal of airway device only if wide awake, following commands, and\\nunable to tolerate airway device.\\nMedication References\\nEpinephrine","source_file":"5.6-ROSC-8.31.23-Clean-edited.txt"},"6-1":{"name":"PEDIATRIC CARDIAC ARREST - GENERAL","content":"This protocol should be followed for all pediatric cardiac arrests.\\n\\n\\n\\nIf an arrest is of a known traumatic origin refer to the 2.7 Traumatic Arrest-Treatment\\nProtocol.\\nIf it is unknown whether the arrest is traumatic or medical, and the patient does not meet\\ndead on scene criteria per 7.6 Dead on Scene Termination of Resuscitation-\\nProcedure Protocol, start CPR and continue with this protocol.\\nIf patient is hypothermic refer to 2.11 Hypothermic/Frostbite-Treatment Protcol for\\nwarming techniques when applicable.\\nNote: Primary cardiac arrest in the pediatric patient is rare. Most arrests are secondary to\\nrespiratory failure. Maintaining basic airway management techniques unless unable or\\nineffective. Advanced airway insertion attempts should be performed only if BLS airway\\nmanagement is ineffective. Keep CPR interruptions to a minimum. Medications given during\\ncardiac arrest are given IV or IO.\\nHIGH QUALITY CPR & DEFIBRILLATION\\n  CPR and electrical therapy should be consistent with current American Heart Association\\nguidelines.  For all patients, anterior/posterior placement of pads is preferred and\\nshould be used, if possible, and if defibrillation not delayed.\\n  Once arrest is confirmed, emphasis should be on avoiding interruptions in CPR.\\n  CPR should be done in accordance with current guidelines established by the American\\nHeart Association.\\n  Compressions at least 1.5 in depth for infants, 2 in depth for children (at least one third\\nthe anteroposterior diameter of the chest).\\n  Compression rate of at least 100-120 per minute\\n  Allow full chest recoil with each compression for maximum perfusion.\\n  Avoid excessive ventilation (volume and rate).\\n  Continue CPR with minimal interruptions, changing the rescuer doing compressions\\n  Verify CPR quality frequently and any time rescuer providing compressions or\\nventilations change.\\n  Change rescuer performing compressions at least every 2 minutes to avoid fatigue.\\n\\n\\nInterruption in compressions must be less than 10 seconds\\nIf an advanced airway is placed, provide continuous CPR, without pauses for ventilation\\nand ventilate at 20 breaths per minute or 1 breath every 3 seconds\\nOPERATIONAL CONSIDERATIONS\\n1.  Prior to advanced airway placement, utilize ventilation periods to visualize the ECG\\nrhythm without compression artifact, this will allow you to plan for the assessment\\nperiod at the end of the two-minute CPR cycle.\\n2.  If AED has been applied by BLS personnel, skip to appropriate place in protocol that","source_file":"6.1-Pediatric-General-Arrest-8.31.23-Amended-to-match-Clean-7.6-edited.txt"},"6-2":{"name":"PEDIATRIC SYMPTOMATIC  BRADYCARDIA","content":"Bradycardia should be considered to be due to hypoxia until proven otherwise. This protocol\\napplies to pediatric patients with bradycardia, a pulse, and poor perfusion (cardiopulmonary\\ncompromise).\\nNOTES: Signs of cardiopulmonary compromise include:\\n1.  Hypotension:\\na.  In neonates, SBP less than 60\\nb.  In infants 1 month to 1 year, SBP less than 70\\nc.  In children aged 2 to 10 years, SBP less than 70 + (age x 2).\\nd.  For children greater than 10, SBP less than 90\\n2.  Acutely altered mental status.\\n3.  Signs of shock - indicated by absent and/or weak peripheral and femoral pulses,\\nincreased capillary refill time (> 3 seconds), skin cool/mottled.\\n4.  Respiratory difficulty indicated by increased work of breathing (retractions, nasal\\nflaring, grunting, tracheal tugging), cyanosis, altered level of consciousness (unusual\\nirritability, lethargy, failure to respond to parents), stridor, wheezing.\\nGeneral Treatment\\nA.  Pediatric patients (< 14 years of age) utilize MI MEDIC cards for appropriate\\nmedication dosage.  When unavailable utilize pediatric dosing listed within\\nprotocol.\\nB.  Manage airway as necessary\\nC.  Provide supplemental oxygen as needed to maintain O2 saturation > 94%\\nD.  Initiate monitoring\\n1.  If pulse is < 60 confirm and support adequate oxygenation and ventilation.\\n2.  If pulse remains < 60 and patient remains symptomatic perform CPR\\n3.  Establish vascular access\\n4.  Apply cardiac monitor to identify rhythm\\n5.  If pulse remains < 60, despite oxygenation & ventilation\\nA.  Administer epinephrine according to MI MEDIC cards.\\ni.  If MI MEDIC cards are not available administer epinephrine:\\n1.  1mg/ 10mL,\\n2.  0.01 mg/kg (0.1 ml/kg) IV/IO up to 1 mg (10 ml),\\n3.  Repeat every 3-5 minutes.\\nB.  If patient remains unstable and pulse < 60 administer atropine according to MI\\nMEDIC cards.\\ni.  If MI MEDIC cards are not available administer atropine:","source_file":"6.2.Pediatric-Bradycardia-8.31.23-Clean-edited.txt"},"6-3":{"name":"PEDIATRIC TACHYCARDIA","content":"Aliases: Supraventricular tachycardia (SVT), atrial fibrillation (a-fib), atrial flutter, ventricular\\ntachycardia (V-tach)\\nThis protocol is intended for symptomatic pediatric patients with elevated heart rate, relative\\nto their age.  Refer to MI-MEDIC for appropriate vital signs and medication doses.\\nI.\\nGeneral Treatment\\nA.  Pediatric patients (< 14 years of age) utilize MI MEDIC cards for appropriate\\nmedication dosage.  When unavailable utilize pediatric dosing listed within\\nprotocol.\\nB.  Follow 1.1 General Pre-Hospital Care-Treatment Protocol.\\nC.  Determine if patient is stable or unstable.\\nD.  Manage airway as necessary.\\nE.  Provide supplemental oxygen as needed to maintain O2 saturation > 94%.\\nF.  Initiate monitoring.\\nG.  Perform 12-lead ECG but do not delay care for 12-lead ECG on unstable\\npatients. Refer to 7.1 12 Lead ECG Protocol.\\nH.  Establish vascular access, see 7.23 Vascular Access and IV Fluid Therapy.\\nIdentify and treat underlying causes of tachycardia such as dehydration, fever,\\nI.\\nvomiting, sepsis and pain.\\nJ.  Administer NS or LR bolus 20ml/kg with possible hypovolemia.\\nK.  Consider the following additional therapies if specific dysrhythmias are\\nrecognized:\\nII.\\nUNSTABLE\\nA.  Regular Narrow Complex Tachycardia  Unstable\\ni.  Prepare for immediate cardioversion.  In conscious patients consider\\nsedation prior to electrical cardioversion.  Refer to 7.17 Patient\\nProcedural Sedation-Procedure Protocol.\\nii.  Deliver a synchronized shock; 1 J/kg for the first dose\\niii.  Repeat doses should be 2 J/kg\\niv.  DO NOT EXCEED ADULT DOSING.\\nB.  Regular, Wide Complex Tachycardia  Unstable\\ni.  Prepare for immediate cardioversion.  In conscious patients consider\\nsedation prior to electrical cardioversion.  Refer to 7.17 Patient\\nProcedural Sedation-Procedure Protocol.\\nii.  Synchronized cardioversion 1 J/kg\\niii.  For recurrent or refractory wide complex  unstable tachycardia, consult\\nMedical Control prior to medication administration (medication per MCA\\nselection)","source_file":"6.3-Pediatric-Tachycardia-8.31.23-Clean-edited.txt"},"6-4":{"name":"PEDIATRIC RETURN OF SPONTANEOUS CIRCULATION","content":"Return of Spontaneous Circulation (ROSC)\\nThis protocol should be followed for all cardiac arrests with ROSC.  If an arrest is of a known\\ntraumatic origin, refer to the 2.7 Traumatic Arrest-Treatment Protocol and MCA Transport\\nProtocol.  If it is unknown whether the arrest is traumatic or medical, consider other treatable\\ncauses.  Initiate ALS response if available. After ROSC, patients should be stabilized on\\nscene prior to transport, ideally for at least five minutes before moving the patient. Refer to\\n4.9 Pediatric Crashing Patient/Impending Arrest-Treatment Protocol.\\n1.  Pediatric patients (< 14 years) utilize MI MEDIC cards for appropriate medication\\ndosage.  When unavailable utilize pediatric dosing listed within protocol.\\n2.  If ventilation assistance is required, ventilate at 10-12 breaths per minute.  Do not\\nhyperventilate.\\n3.  Reassess patient, if patient becomes pulseless\\na.  Begin CPR\\nb.  Follow 6.1 Pediatric Cardiac Arrest-Treatment Protocol.\\n4.  Monitor vital signs.\\n5.  Check blood glucose (may be MFR skill, see 7.21 Blood Glucose Testing-\\nProcedure Protocol)\\n6.  Start an IV/IO NS or LR KVO.\\n7.  Treat hypotension with an IV/IO fluid bolus 20 ml/kg consistent with 1.5 Shock-\\nTreatment Protocol.\\n8.  May perform 12- lead ECG (Per MCA selection, may be BLS skill per 7.1 12 Lead\\nECG- Procedure Protocol) but must not delay or take precedence over other critical\\nassessments and interventions.\\n9.  Monitor waveform ETCO2. If ventilation assistance is required, target ETCO2 of 35-\\n45 mm Hg per 7.24 End Tidal Carbon Dioxide Monitoring-Procedure Protocol\\n10. If hypotension persists after IV/IO fluid bolus, administer push dose epinephrine\\n(diluted boluses) according to MI MEDIC cards.\\na.  If MI MEDIC cards are not available prepare (10 mcg/mL) by adding 1mL of\\n1mg/10mL epinephrine in 9mL NS, then\\ni.  Administer 1 mcg/kg (0.1 mL/kg epinephrine 10 mcg/mL)\\nii.  Maximum dose 10 mcg (1 mL)\\niii.  Repeat every 3-5 minutes\\niv.  Titrate to age appropriate SBP per MI MEDIC cards.  If MI MEDIC cards\\nare unavailable titrate SBP > 70 mmHg + (2 x age in years) up to 100\\nmmHg.\\n2.  Anticipate airway intolerance and prepare for patient sedation. If patient becomes\\nagitated with advanced airway in place, refer to 7.17 Patient Procedural Sedation-\\nProcedure Protocol.\\nMedication References\\nEpinephrine","source_file":"6.4-Peds-Return-of-Spontaneous-Circulation-8.31.23-Clean.txt"},"7-1":{"name":"Unknown Protocol","content":"12-Lead ECG\\nParamedic Protocol (may be Specialist or EMS per MCA selection)\\nAliases:  EKG, 12 lead\\nIndications:\\n1.  A 12-lead ECG is indicated on patients exhibiting any of the following signs/symptoms:\\nA. Chest pain or pressure\\nB. Upper abdominal pain\\nC. Syncope\\nD. Shortness of breath\\nE. Pain/discomfort which are often associated with cardiac ischemia:\\na.  Jaw, neck, shoulder, left arm or other presentations; unless no other\\nsymptoms exist and the cause of the specific pain can be identified\\nwith a traumatic or musculoskeletal injury.\\nb.  If there is any doubt about the origin of the pain/discomfort, or the\\npresentation seems atypical for the mechanism, a 12-lead should be\\nperformed.\\n2.  Patients exhibiting the following signs/symptoms should have a 12-lead ECG\\nperformed if the etiology of the illness is indicative of an Acute Coronary Syndrome or\\nthe etiology of the illness is indeterminate:\\nA.  Nausea\\nB.  Vomiting\\nC.  Diaphoresis\\nD.  Dizziness\\nE.  Patient expression of feelings of doom\\n3.  A 12-lead ECG may be performed based on the clinical judgment of the paramedic\\neven in the absence of the above signs/symptoms.\\nProcedure:\\n1.  Follow 1.1 General Pre-hospital Care-Treatment Protocol.\\n2.  Perform 12-lead ECG per manufacturer guidelines, if available.\\nMCA approval to obtain ECG\\n    Specialist\\n   EMT\\nMCA approval to transmit ECG (and notify of STEMI)\\n   Specialist\\n   EMT\\nMCAs will be responsible for maintaining a roster of the BLS and LALS\\nagencies choosing to participate and will submit roster to MDHHS","source_file":"7.1-12-LEAD-ECG-9.14.23-clean-edited.txt"},"7-10":{"name":"HELMET REMOVAL","content":"Initial Date: 05/31/2012\\nRevised Date: 01/27/2023\\nHelmet Removal\\nTreatment of the injured patient with protective gear presents unique challenges. For\\npreplanned events an emergency action plan that has been discussed prior to the\\nevent may provide organized consistent treatment.\\n1.  High Impact Helmets (i.e., motorcycle, car racing)\\nA.  Whether the helmet is a closed or open-faced style helmet, the helmet must always\\nbe removed.\\nB.  Provide constant spinal precautions.\\n2.  Low Impact Helmets WITH Shoulder Pads (i.e., football, ice hockey, etc.)\\nA.  In those patients wearing a well-fitted helmet which conforms closely to the patient\'s\\nhead, unless there is a prearranged agreement between team training/medical\\nstaff, EMS providers and the likely receiving facility, helmet and shoulder pads\\nshould be removed as spinal precautions are maintained. Removal of all equipment\\nat the scene provides the best access to the athlete for treatment.\\nB.  If prearrangement is in place to keep the helmet and shoulder pads in place the\\nprocedure would be as follows (or as determined by agreement):\\n1.  If the patient is awake and able to protect his/her airway, the helmet should be left\\nin place and the patient should have spinal precautions maintained using the\\nhelmet to assist with spinal precautions. The face shield must be removed prior to\\ntransport.\\n2.  If the patient has an altered level of consciousness or, for any other reason, is\\nunable to protect his/her airway, the helmet should be left in place and the patient\\nshould have spinal precautions maintained using the helmet to assist with spinal\\nprecautions. The face shield should be immediately removed to allow access to\\nthe airway.\\n3.  If the face shield cannot easily be removed for any patient, the helmet and\\nshoulder pads should be removed using in-line stabilization.\\n4.  If the airway cannot be controlled for any reason with the helmet in place, the\\nhelmet and shoulder pads should immediately be removed, using in-line\\nstabilization.\\n3.  Low Impact Helmets WITHOUT Shoulder Pads (i.e., baseball, bicycle, rollerblade, etc.):\\nA.  Whether the helmet is a closed or open-faced style helmet, the helmet must always\\nbe removed.\\nB.  Provide constant spinal precautions.","source_file":"7.10-Helmet-Removal-1.27.23.txt"},"7-12":{"name":"OXYGEN ADMINISTRATION","content":"Oxygen Administration\\nAssuring adequate patient oxygenation is a fundamental responsibility of EMS providers at\\nall levels.  Supplemental oxygen when clinically indicated and through the proper delivery\\nsystem can have an important impact on patient outcome.\\nIndications\\n1.  Real or suspected hypoxia\\n2.  Patients in respiratory or cardiac arrest\\n3.  Respiratory distress\\n4.  Chest pain, stroke, seizures, or altered mental status when pulse oximetry is\\nunavailable or when oxygen saturation is less than 94%\\n5.  General trauma (more than isolated trauma). Regardless of pulse oximeter reading,\\nall patients with significant trauma should receive oxygen administration.\\n6.  Shock\\n7.  Suspected carbon monoxide and/or cyanide poisoning (including smoke inhalation)\\nregardless of pulse oximetry value\\n8.  Complicated childbirth\\n9.  Patients who normally use supplemental oxygen as part of their routine care\\n10. Any condition in which pulse oximetry (when available) is <94%.\\nContraindications\\n1.  There are no absolute contraindications to oxygen administration.\\n2.  In general, supplemental oxygen should be guided by pulse oximetry (when\\navailable) to maintain oxygen saturations >94%.\\n3.  Patients with COPD may develop a hypoxic drive to breath.  High concentrations of\\noxygen may suppress their respiratory drive.  Oxygen should still be administered\\nwhen clinically indicated.  Providers should monitor for respiratory depression and\\nassist ventilations when indicated.\\nProcedure\\n1.  Assure the patient has an adequate airway or establish an airway in accordance\\nwith the 7.9 Airway Management-Procedure Protocol and whenever possible the\\npatients head should be elevated up to 30 degrees.\\n2.  In spontaneously breathing patients administer supplemental oxygen by appropriate\\nmeans.\\nA.  Nasal cannula at 2-6 LPM: This is appropriate for most patients with mild to\\nmoderate hypoxia and minimal or no respiratory distress.  Most patients\\ntolerate nasal cannulas.\\nB.  Non-rebreather (NRB) mask at 8-15 LPM (adjust flow rate to keep reservoir\\nbag inflated).  A NRB should be used on all spontaneously breathing patients\\nwith moderate to severe respiratory distress and all patients with suspected\\ncarbon monoxide and/or cyanide poisoning (e.g., smoke inhalation).\\nC.  If continuous positive airway pressure (per 7.5 CPAP-Procedure Protocol)\\nis utilized, using a nasal cannula to supplement oxygenation while a patient is\\non CPAP is acceptable, if seal remains adequate.","source_file":"7.12-OXYGEN-ADMINISTRATION-9.14.23-clean.txt"},"7-13":{"name":"PAIN MANAGEMENT","content":"Initial Date: 9/14/2023\\nRevised Date: 9/12/2024\\nPain Management\\nFor patients with suspected cardiac chest pain, refer to the 5.5 Chest Pain/Acute Coronary\\nSyndrome-Treatment Protocol.\\nThe goal is to reduce the level of pain for patients in the pre-hospital setting.\\nAll pain should be assessed and scored according to the Wong Pain Scale.\\nReassessment should be timed according to medication onset of action, changes in patient\\ncondition, patient positioning and other treatments. Pain treatment should be based on pain\\nscale but may need modification based on patient assessment or condition being treated.\\nNote: Medical Control contact is required for patients with labor pains, established care\\nplans that deter opioid pain management, or have established pain management care\\nplans.,\\n1.  Place the patient in the position of comfort.\\n2.  Pediatric patients (< 14 years) utilize MI MEDIC cards for appropriate medication\\ndosage.  When unavailable utilize pediatric dosing listed within protocol\\n3.  Verbally reassure the patient to control anxiety.\\n4.  Administer BLS interventions per applicable protocol (e.g., positioning, splinting, ice,\\netc.)","source_file":"7.13-Pain-Management-9.12.24-Clean.txt"},"7-14":{"name":"PATIENT ASSESSMENT","content":"1.  Recognize environmental hazards to rescuers, and secure area for treatment.\\n2.  Recognize hazard for patient and protect from further injury.\\n3.  Identify number of patients.  Follow the 10.6 Mass Casualty Incident-Special\\nOperations Protocol if appropriate.\\n4.  Observe position of patient, mechanism of injury, surroundings.\\n5.  For pediatric patients, utilize the Pediatric Assessment Triangle.\\n6.  Identify self.\\n7.  Utilize universal precautions in all protocols.\\n8.  Determine if patient has a valid Do-not-resuscitate bracelet/order or a valid MI POST.\\nPrimary Survey\\n1.  Airway:\\nA.  Protect spine from movement in trauma victims.  Provide continuous spinal\\nprecautions.  Follow the 2.6 Spinal Injury Assessment-Treatment Protocol.\\nB.  Observe the mouth and upper airway for air movement.\\nC.  Establish and maintain the airway.  Follow the 7.9 Airway Management-\\nProcedure Protocol.\\nD.  Look for evidence of upper airway problems such as vomitus, bleeding, facial\\ntrauma, absent gag reflex.\\nE.  Clear upper airway of mechanical obstruction as needed.\\n2.  Breathing:  Look, Listen and Feel\\nA.  Note respiratory rate, noise, and effort.\\nB.  Treat respiratory distress or arrest with oxygenation and ventilation.\\nC.  Observe skin color and level of consciousness for signs of hypoxia.\\nD.  Expose chest and observe chest wall movement, as appropriate.\\nE.  Look for life-threatening respiratory problems and stabilize.\\nF.  Tension pneumothorax:  Follow 7.18 Pleural Decompression-Procedure\\nProtocol.\\n3.  Circulation\\nA.  Check pulse and begin CPR if no central pulse.  Follow 6.1 Pediatric or 5.1\\nAdult Cardiac Arrest-Treatment Protocol or 4.3 Newborn and Neonatal\\nAssessment and Resuscitation-Treatment Protocol.\\nB.  Note pulse quality and rate; compare distal to central pulses as appropriate.\\nC.  Control hemorrhage by direct pressure.  (If needed, use elevation, pressure\\npoints or follow the 7.22 Tourniquet Application-Procedure Protocol and/or\\n2.13 Bleeding Control-Treatment Protocol.)\\nD.  Check capillary refill time in fingertips.\\nE.  If evidence of shock or hypovolemia begin treatment according to 1.5 Shock-\\nTreatment Protocol.\\n4.  Level of consciousness:\\nA.  Note mental status (AVPU)\\na.  Alert\\nb.  Verbal stimuli response","source_file":"7.14-PATIENT-ASSESSMENT-9.14.23-clean.txt"},"7-15":{"name":"DOCUMENTATION AND PATIENT CARE RECORDS","content":"Purpose: Patient care records (PCR) are legal documents and a part of a patients medical\\nrecord. EMS Personnel must be accurate and thorough in their documentation of EMS\\nincidents. This protocol defines the MINIMUM elements to be included in a patient care\\nrecord.\\nI.  Completion of records\\nA.  An electronic EMS PCR must be completed on any request for service to which a life\\nsupport agency (per MCA selection):\\nis dispatched\\narrives on scene\\nRegardless of MCA selection, this includes all emergency and non-emergency EMS\\nincidents and patients, ambulance inter-facility transfers, patient refusals, other\\npatient contact, no patient found and cancellations.\\nB.  For responses that do not necessitate an EMS PCR, an alternative form of electronic\\ndocumentation must be maintained (e.g., computer aided dispatch).\\nC.  If a patient is evaluated and/or treated and is not transported, a Refusal of Treatment\\nand/or Transport Evaluation Form must be completed and a patient signature\\nobtained per 7.19 Refusal of Care; Adult & Minor-Procedure Protocol.\\nD.  Personnel completing PCRs must do so in a timely fashion. If an electronic record is\\nnot transmitted immediately upon leaving the receiving facility, an MCA approved\\npaper form must be left at the receiving facility which includes at least the following:\\n1.  Patient demographic information\\n2.  Patient and history or medications obtained\\n3.  Vital signs and assessment information\\n4.  Any interventions performed\\n5.  Any diagnostics performed\\nE.  For all transports to the hospital: Prior to emergency department departure, a\\ncompleted patient care record (PCR) must be left at the ED either in an electronic\\nformat, an MCA-approved Field Note Form, or an Oakland County EMS Run Form. If\\na Field Note Form is left at the ED, an electronic PCR must be made available to the\\nED within two (2) hours. Electronic PCRs may be submitted to the ED via the\\nfollowing methods:\\na.  EMS printer\\nb.  Fax or e-fax\\nc.  Secured e-mail\\nd.  Each hospital will provide EMS with a computer with Internet access,\\nmonitor, printer (including ink and paper), as well as 24-hour\\nequipment support. Each hospital will also provide a secure fax\\nnumber, secure e-mail.","source_file":"7.15-DOCU-AND-PT-CARE-RECORD-Clean-Final-5.1.24.txt"},"7-16":{"name":"PATIENT RESTRAINT","content":"Initial Date: 9/14/2023\\nRevised Date: 1/11/2024\\nPatient Restraint\\nPurpose:  To ensure appropriate and safe restraint of patients whose behavior is suggestive of\\nan imminent physical threat to personnel and/or themselves.\\nPediatric patients  (<  14  years)  utilize  MI  MEDIC  cards  for appropriate  medication  dosage.\\nWhen unavailable utilize pediatric dosing listed within this protocol.\\nIndications:\\n1. When an ill or injured person who is behaving in such a manner as to interfere with their\\nexamination, care and treatment to the extent they endanger their life or the safety of\\nothers.\\n2. The patient has a clear or suspected inability to understand their medical situation and\\nthe need for treatment of a potentially life-threatening injury or illness.\\nEscalation of Care:\\n1. Verbal de-escalation\\n2. Physical management and soft restraints\\n3. Physical management and pharmacological management\\nVerbal De-Escalation is defined as the use of communication or other techniques during an\\nencounter to stabilize, slow, or reduce the intensity of a potentially violent situation without\\nusing physical force, or with a reduction in force.  This should be continued throughout care.\\nSoft Restraint Procedure\\n1.  When the placement of soft restraints requires physical management that poses risk to\\nthe  patient  and/or  personnel,  anticipate  and  prepare  for  physical  management  and\\npharmacological management.\\n2.  Ensure that enough personnel are available to properly control the patient and establish\\nthe restraints.\\n3.  Explain the purpose of the restraints.\\n4.  Physically control the patient and apply restraints.\\n5.  Complete primary and secondary assessments.\\nA.  Restrained extremities should be evaluated for pulse quality, capillary refill time,\\ncolor, sensory and motor function continuously\\na.  Restraints must be adjusted if any of these functions are compromised.\\nb.  Restraints must not interfere with medical treatment.\\n6.  Attempt to identify common physical causes for patients abnormal behavior.\\n  Hypoxia\\n  Hypoglycemia\\n  Head Trauma\\n  ETOH/ Substances use/ abuse\\n7.  Patient  should  be  secured  to  a  backboard  or  stretcher  only.    Patients  must  never  be\\nsecured directly to a vehicle or immovable object.  Patients must NEVER be secured in\\na prone position.\\n8.  Transport patient.","source_file":"7.16-PATIENT-RESTRAINT-1.11.24-Clean.txt"},"7-17":{"name":"PATIENT PROCEDURAL SEDATION","content":"Oakland County Medical Control Authority\\nPROCEDURES\\nPATIENT PROCEDURAL SEDATION\\nInitial Date: 8/17/2023\\nRevised Date:\\nPatient Procedural Sedation\\nParamedic Use Only\\nPurpose:\\nProper sedation of patients requiring a painful medical procedure.\\nIndications for Sedation\\n1.  Electrical therapy (cardioversion or transcutaneous pacing)\\n2.  Post intubation sedation\\n3.  CPAP and/or HFNC only under direct Medical Control Order\\ni.  **Ketamine is NOT to be used for this indication\\nContraindications\\n1.  Inability to control the patient\'s airway\\n2.  As an adjunct for establishing an airway\\n3.  Known allergy to sedation medications\\nAssessment\\n1.  Evaluate adequacy of airway, ventilation, and oxygenation\\n2.  Monitor vital signs and level of consciousness\\n3.  Monitor ECG\\n4.  Monitor pulse oximetry\\n5.  Monitor capnography\\nProcedure\\n1.  Maintain airway, provide oxygenation, and support ventilation\\n2.  Obtain vascular access\\n3.  For electrical cardioversion, transcutaneous pacing, and post intubation sedation\\nsedate patient to a level of consciousness where procedure can be performed, per\\nMCA selection\\n4.  Only one MCA authorized sedation medication may be given pre-radio.\\nMedical Control MUST be contacted if a different sedation medication is\\nneeded subsequent to initial dose (adults and pediatrics).\\nAdult Procedural Sedation:\\n(Titrate to minimum amount necessary)\\n  Midazolam 1-5 mg (0.05 mg/kg) IV/IO titrated slowly (IN,\\nif available); may repeat once in 5 minutes to a maximum\\nof 0.1 mg/kg.\\nDiazepam 5-10 mg (0.1 mg/kg) IV/IO titrated slowly, may\\nrepeat every 5 minutes to a maximum of 0.3 mg/kg.\\n  Fentanyl 50-100 mcg (1 mcg/kg) IV/IO titrated slowly (IN,\\nif available); may repeat every 4 minutes to a maximum of\\n3 mcg/kg.\\nKetamine 4 mg/kg IM or 1.5 mg/kg IV/IO (IN if available)\\ntitrated slowly to sedation (max dose 500 mg). NOT for\\nCPAP/HFNO sedation","source_file":"7.17-PROCEDURAL-SEDATION-8.17.23-Clean.txt"},"7-18":{"name":"PLEURAL DECOMPRESSION","content":"1.  Suspected Tension Pneumothorax (not simple pneumothorax) with hemodynamic\\ncompromise, severe respiratory distress, unilateral absent or severely diminished breath\\nsounds\\n2.  Considered for patients who remain in PEA after treatment of other reversible causes of\\nPEA have been unsuccessful.\\n3.  Traumatic arrest, refer to 2.7 Traumatic Arrest-Treatment Protocol\\nPresentation of Tension Pneumothorax\\n1.  A tension pneumothorax will have at least one of the following:\\nA.  Severe respiratory distress in the conscious/breathing patient with hemodynamic\\ncompromise (hypotension).\\nB.  Difficult ventilation in the hypotensive, unconscious/apneic patient in the presence\\nof a confirmed, correctly positioned endotracheal tube.\\nTechnique\\n1.  Evaluate and maintain the airway, provide oxygenation, and support ventilations.\\n2.  Decompression procedure:\\nA.  Assemble equipment\\na.  Adults (>14 years of age): large bore IV catheter - 14 gauge or larger\\nand at least 3.5 inches in length (catheter should not have any type of\\nflow restricting valve) OR other MCA approved commercial device, per\\nMCA selection.\\nb.  Pediatrics (<14 years of age): 18 gauge or 20 gauge over the needle\\ncatheter (catheter should not have any type of flow restricting valve) OR\\nother MCA approved commercial device, (per MCA selection).\\nMCA Approved Commercial Device Use\\nAdults\\n  Yes\\n  No\\nPediatrics\\n  Yes\\n  No\\nMCAs will be responsible for maintaining a roster of the agencies\\nchoosing to participate and will submit roster to MDHHS","source_file":"7.18-PLEURAL-DECOMPRESSION-9.14.23-clean.txt"},"7-19":{"name":"Unknown Protocol","content":"EMS personnel have an affirmative duty to provide care to any patient presenting to them\\nafter a report of an emergency situation.\\nIf during an emergency medical situation, EMS personnel, based on clinical judgement,\\nconsider a patient to be incapable of making their own medical decisions, that patient may\\nbe considered incapable of competently objecting to treatment or transportation under the\\nlaw. Religious beliefs that lead a patient to refusal of treatment or transport are the\\nexception. EMSMCL 333.20969 states:\\nIf emergency medical services personnel, exercising professional judgment, determine\\nthat the individuals condition makes the individual incapable of competently objecting to\\ntreatment or transportation, emergency medical services may provide treatment or\\ntransportation despite the individuals objection unless the objection is expressly based\\non the individuals religious beliefs.\\nWhen EMS personnel, based on clinical judgement, consider a patient to be \\"capable,\\" that\\npatient may object to treatment and/or transport.\\n1.  Definition\\nA.  An individual who is capable to make medical decisions is:\\na.  One who is awake, oriented, and is capable of understanding the\\ncircumstances of the current situation. This includes risks, treatments,\\ntransport, and alternatives.\\nb.  Does not appear to be under the influence of alcohol, drugs or other\\nmind-altering substances or circumstances that may interfere with\\nmental functioning.\\nc.  Is not a clear danger to self or others.\\nd.  Is 18 years of age or older, or an emancipated minor.\\nB.  Emancipated Minor is one who is married, is on active duty with the Armed\\nForces of the United States or has been granted emancipation by the court.\\nC.  A minor is any individual under the age of 18 and who is not emancipated.\\n2.  Procedure for an individual who, in the clinical judgement of the EMS provider\\nis capable to object to treatment and/or transport.\\nA.  All patients with signs or symptoms of illness or injury shall be offered\\nassessment, medical treatment, and transport by EMS.\\nB.  Clearly explain the nature of the illness/injury and the need for emergency care\\nor transportation.\\nC.  Explain possible complications that may develop without proper care or\\ntransportation.\\n D. For individuals with signs or symptoms of serious or potentially fatal illness or\\ninjury, contact medical control prior to obtaining the patient signature and\\nleaving the scene.","source_file":"7.19-Refusal-of-Care-3.24.23.txt"},"7-2":{"name":"CHILD ABUSE AND NEGLECT (SUSPECTED)","content":"Purpose: To provide the process for assessment and management for patients of\\nsuspected child abuse.\\nWhen emergency personnel suspect that a patient has been abused (physically and/or\\nsexually), neglected, or exploited, a verbal and written report must be made to the\\nemergency physician on arrival at the hospital and to the Protective Services Agency\\n(child or adult). The primary purpose is protection of the patient from further harm. Do not\\nconfront the patient or family members with such suspicions at the scene.\\nMichigan law (MCL 722.623) requires that licensed EMS providers who have reasonable\\ncause to suspect child abuse or neglect shall report immediately, by telephone or\\notherwise their suspicions to the Protective Services Agency for the County involved. In\\ncases of suspected child abuse, this oral report shall also be followed with a written report\\non the Department of Human Services forms available in every hospital emergency\\ndepartment.\\nMichigan law (MCL 400.11a) also requires this same oral report for suspected cases of\\nabuse or neglect of an adult.\\nLicensed providers are required to make an immediate verbal report and a written report\\nwithin 72 hours when they suspect child abuse or neglect. Mandated reporters must also\\nnotify the head of their organization of the report. Reporting the suspected allegations of\\nchild abuse and/or neglect to the head of the organization does not fulfill the requirement to\\nreport directly to MDHHS.\\nThe verbal report can be completed by calling 855-444-3911. The pdf form is found here\\nDHS3200_report.dot (live.com) and is included in the protocol for reference. Reports can\\nbe made online (login required).\\n1. Definitions\\nChild Abuse means harm or threatened harm to a childs health or welfare by a\\nparent, legal guardian, or any other person responsible for the childs health or\\nwelfarethat occurs through non-accidental physical or mental injury; sexual abuse;\\nsexual exploitation, or maltreatment.\\nChild Neglect means harm or threatened harm to a childs health or welfare by a\\nparent, legal guardian, or any other person responsible for the child health or welfare\\nthat occurs through either of the following: 1) Negligent treatment, including the\\nfailure to provide adequate food, shelter, or medical care; 2) Placing a child at an\\nunreasonable risk to the childs health or welfare by failure of the parent, legal\\nguardian, or any other person responsible for the childs health or welfare to intervene\\nto eliminate that risk when that person is able to do so and has, or should have,\\nknowledge of the risk.","source_file":"7.2-Child-Abuse-and-Neglect-5.23.23.txt"},"7-20":{"name":"SPINAL PRECAUTIONS","content":"1.  Refer to the 2.6 Spinal Injury Assessment Protocol. Patients with a positive spinal\\ninjury assessment should have spinal precautions maintained during transport.\\n2.  Major trauma patients who require extrication should have spinal precautions\\nmaintained using an extrication device (long backboard or equivalent) during\\nextrication. If sufficient personnel are present, the patient may be log rolled from the\\nextrication device to the ambulance cot during loading of the patient.\\n3.  Patients may remain on the extrication device if the crew deems it safer for the\\npatient considering stability, time and patient comfort considerations. This decision\\nwill be at the discretion of the crew.\\n4.  Patients with penetrating traumatic injuries do not require spinal precautions unless a\\nfocal neurologic deficit is noted on the spinal injury assessment.\\n5.  An ambulatory patient with a positive spinal injury assessment should have an\\nappropriately sized cervical collar placed. Place the patient directly on the ambulance\\ncot in a supine position or position with least amount of elevation to maintain comfort,\\nlimiting movement of the spine during the process.\\n6.  Patients, who are stable, alert and without neurological deficits may be allowed to\\nself-extricate to the ambulance cot after placement of a cervical collar. Limit\\nmovement of the spine during the process.\\n7.  Patients over the age of 65 with evidence of a head strike mechanism of injury will\\nhave a cervical collar applied even if the spinal injury clinical assessment is negative.\\nSpecific Techniques\\n1.  Cervical Collars\\nA.  Cervical collar should be placed on patient prior to patient movement, if\\npossible.\\nB.  If no collar can be made to fit patient, towel, blanket rolls, head block or similar\\ndevice may be used to support neutral head alignment.\\nC.  The cervical collar may be removed if interfering with airway management or\\nairway placement, or if causing extreme patient distress.\\n2.  Self-Extrication Procedure\\nA.  Patients, who are stable, alert and without neurological deficits may be allowed\\nto self-extricate to the ambulance cot after placement of a cervical collar.\\nB.  Limit movement of the spine during the process.\\n3.  Emergency Patient Removal\\nA.  Indicated when scene poses an imminent or potential life-threatening danger\\nto patient and/or rescuers, (e.g., vehicle or structure fire).","source_file":"7.20-SPINAL-PRECAUTIONS-9.14.23-clean.txt"},"7-21":{"name":"BLOOD GLUCOSE LEVEL TESTING","content":"Michigan\\nPROCEDURES\\nBLOOD GLUCOSE LEVEL TESTING\\nInitial Date: 02/24/2023\\nRevised Date:\\nBlood Glucose Level Testing\\nIndications:\\n1.  Altered mental status\\n2.  Indicated in applicable treatment protocol\\nContraindications:\\n1. None\\n   Procedure: (may be MFR skill per MCA selection)\\nMCA approval for MFR Blood Glucose Level Testing\\n YES\\n NO\\nMCAs will be responsible for maintaining a roster of MFR agencies\\nchoosing to participate and will submit roster to MDHHS\\n1.  Obtain and test blood sample according to manufacturers instructions.\\n2.  Treat patient according to applicable treatment protocol.\\n3.  Document blood glucose level in electronic patient care record.\\nOakland County","source_file":"7.21-BGL-Testing-2.24.23.txt"},"7-22":{"name":"TOURNIQUET APPLICATION","content":"1.  Life threatening extremity hemorrhage.  An amputation with hemorrhage does not\\nnecessitate the use of a tourniquet; most bleeding from these injuries is controllable\\nthrough use of direct pressure and elevation.\\n2.  Amputation with uncontrolled active bleeding.\\n3.  A mass causality incident may be an indication for the use of tourniquets for\\ntemporary control of hemorrhage while the situation is brought under control.\\nContraindications:\\n1.  Never use a tourniquet for more than the recommended period of time (product-\\nspecific).  With any extrication plus transport time of less than 180 minutes, there is\\nminimal risk of developing an ischemic limb.\\n2.  Never apply a tourniquet over an impaled object.\\nProcedure:\\n1.  If possible, check neurovascular status prior to tourniquet application (pulse,\\nsensation, motor function distal to hemorrhage).\\n2.  Apply tourniquet directly to the skin, proximal to the area of bleeding, at least 2-3\\ninches (5-8 centimeters) from the wound margins.\\n3.  Secure the tourniquet in place; continue to tighten the tourniquet until arterial\\nocclusion (bleeding stops).\\n4.  A successfully placed tourniquet may cause significant pain. (Refer to 7.13 Pain\\nManagement-Procedure Protocol).\\n5.  Document the time the tourniquet was applied.\\n6.  Note  neurovascular status every five minutes post application.\\n7.  Notify the receiving hospital that a tourniquet is in place.\\n8.  Do not adjust or remove a tourniquet once bleeding is controlled.\\n9.  A second tourniquet adjacent to the first may be necessary.\\nNotes:\\n1.  Tourniquets should not be applied over joints.  Application over the peroneal nerve\\n(knee or ankle) or ulnar nerve (the elbow) may result in nerve damage or paralysis.\\n2.  Any limb with an applied tourniquet should be fully exposed and the tourniquet should\\nnot be covered with any other bandage.\\n3.  Continued bleeding (other than medullary oozing from fractured bones) distal to the\\nsite of the tourniquet is a sign of insufficient pressure and a need to tighten the\\ntourniquet further.  A second tourniquet adjacent to the first may be necessary.  Refer\\nto 2.13 Bleeding Control-Treatment Protocol.\\n4.  A clinically indicated and appropriately applied tourniquet should not be loosened\\nonce applied.  If clinical judgement indicates that the tourniquet is not indicated, is\\nnonfunctional or is not appropriate, contact Medical Control prior to removal or\\nloosening.\\nProtocol Source/References: https://books.allogy.com/web/tenant/8/books/b729b76a-1a34-4bf7-b76b-\\n66bb2072b2a7/#ida54cdbed-5555-47f0-b791-2c86de208f76","source_file":"7.22-TOURNIQUET-APPLICATION-9.14.23-V2-Clean.txt"},"7-23":{"name":"VASCULAR ACCESS & IV FLUID THERAPY","content":"NOTE:  Do not access any existing port without direct online medical control approval (such as\\npicc lines, central lines, fistulas, etc).\\nIndications\\n1.  Patients with potential need for either fluid resuscitation or medication\\nadministration.\\n2.  External jugular cannulation should be initiated in patients in whom access is\\nnecessary and other peripheral vascular access is not accessible or is\\ncontraindicated.\\n3.  IO indications: Adult and pediatric life-threatening situations where venous\\naccess using peripheral veins has been unsuccessful.  IO access should be\\nconsidered early in situations where IV access is unsuccessful or technically\\nchallenging.  Indications may include:\\nA.  Cardiac Arrest\\nB.  Severe burn injury with shock\\nC.  Shock\\nD.  Severe multi-system trauma with shock\\nContraindications\\n1. To peripheral vascular access:\\nA.  No peripheral sites available.\\nB.  Burns overlying available peripheral sites unless no other sites available\\nC.  Infection overlying available peripheral sites\\n2. To intraosseous infusion and placement:\\nA.  Infiltration of previously placed IO. If infiltration occurs (rare), do not reuse\\nthe same bone as fluid will leak out of the original hole; select another\\nsite.\\nB.  Placement in fractured extremity. If the femur is fractured do not use the\\ntibia of same leg.\\nC.  Burns overlying available peripheral sites unless no other sites available.\\nD.  Infection overlying available peripheral sites.\\n3.  To fluid bolus:\\nA.  Pulmonary edema\\na.  Contact Medical Control when pulmonary edema is present yet clinical\\npresentation indicates the need for fluid resuscitation.\\nSpecial Considerations (Side effects/Complications)\\n1.  Initiation of vascular access generally should not delay patient transport to the\\nhospital.\\n2.  General side effects or complications: infection, air embolism, catheter shear,\\nhematoma, arterial puncture, and fluid overload.\\n3.  Intraosseous placement:\\nA.  Complications include subperiosteal infusion, osteomyelitis, sepsis, fat\\nembolism, and bone marrow damage.","source_file":"7.23-VASCULAR-ACCESS-AND-IV-FLUID-THERAPY-1.11.24-clean.txt"},"7-24":{"name":"END TIDAL CARBON DIOXIDE MONITORING","content":"End-Tidal Carbon Dioxide Monitoring (Capnometry and Capnography)\\nAliases:\\nETCO2, End Tidal, Capnography\\nDefinitions: For the purpose of all protocols the mention End Tidal Carbon Dioxide\\nmonitoring, these are the definitions:\\n  1. Capnography is a graphic representation of exhaled carbon dioxide displayed as a\\nwaveform along with a numeric (quantitative) representation.\\na.  Capnography is mandatory for endotracheal tube airway confirmation.\\nb.  Capnography via nasal cannula is mandatory during certain medication\\nadministrations per applicable protocol as it is also a valuable assessment tool\\nin critically ill patients.\\nMCA approval to utilize capnography.\\n EMT\\n\\nMCAs will be responsible for maintaining a roster of BLS agencies choosing to\\nparticipate and will submit roster to MDHHS\\n2.  Capnometry is a numeric representation of exhaled carbon dioxide.\\na.  A colorimetric (qualitative) end tidal carbon dioxide monitor is a rudimentary\\nform of capnometry and is acceptable for use in MFR and BLS applications.\\nb.  Capnometry that includes a numerical (quantitative) read out is preferred to\\ncolorimetric capnometry.\\nIndications:\\n1.  Determining appropriate placement of an airway has taken place.\\nA.  Capnography must be utilized to confirm endotracheal tube placement.\\nB.  Capnography or Capnometry must be utilized on all supraglottic airways per\\nlicensure level requirements.\\n2.  Continuous monitoring of the integrity of the ventilatory circuit.\\nA.  Capnography may be utilized in patients receiving assisted ventilations without\\nadvanced airways (used between the face mask and the bag-valve).\\nB.  Capnography must be used for patients on transport ventilators.\\n3.  Monitoring severity of pulmonary disease (bronchospasm) and evaluating response\\nto therapy\\nA.  Capnography may be utilized in patients with respiratory distress, or with signs\\nand symptoms suggestive of acidosis.\\n4.  Monitoring therapy intended to increase coronary blood flow, reflected in CO2\\nelimination","source_file":"7.24-End-Tidal-Carbon-Dioxide-Monitoring-2.13.23.txt"},"7-25":{"name":"POST","content":"Purpose:  The purpose of this policy is to provide a guideline to prehospital providers, who\\nunder certain circumstances may accommodate patients who do not wish to receive and/or\\nmay not benefit from certain interventions.  This protocol is drafted in accordance with Public\\nAct 154 of 2017. This protocol is intended to facilitate kind, humane, and compassionate\\nservice for patients who have executed a valid MI-POST under the law.\\nI.  Definitions\\nA.  Attending health professional  means a physician, physicians assistant, or\\ncertified nurse practitioner, who has primary responsibility for the treatment of\\na patient and is authorized to issue the medical orders on a POST form.\\nB.  Patient  means an adult with an advanced illness or means an adult with\\nanother medical condition that, despite available curative therapies or\\nmodulation, compromises his or her health so as to make death within 1 year\\nforeseeable though not a specific or predicted prognosis.\\nC.  Guardian  means a person with the powers and duties to make medical\\ntreatment decisions on behalf of a patient to the extent granted by court order\\nunder section 5314 of the Estates and Protected Individuals Code, 1998 PS\\n386, MCL 700.5314.\\nD.  Patient Advocate  means an individual designated to make medical treatment\\ndecisions for a patient under Section 496 of the revised Probate Code, Act No.\\n642 of the Public Acts of 1978, being section 700.496 of the Michigan\\nCompiled Laws.\\nII.  Introduction - EMS providers who encounter an approved MI-POST in the field should\\nbe aware of the different levels of care in Sections A and B of the form.\\nIII.  Procedure for Use of Form\\n    A.  If there are issues with the form, the orders contained therein, or the\\ncircumstances of the situation are unclear, personnel may initiate treatment\\nand contact Medical Control for direction.\\nB.  Section A  Applies to only individuals who do NOT have a pulse and are not\\nbreathing upon arrival of EMS personnel or become pulseless or apneic during\\ntreatment.\\na.  If Attempt Resuscitation is checked, provide treatment according to\\nappropriate 5.1 Cardiac Arrest-Treatment Protocol.\\nb.  If DO NOT attempt resuscitation is checked, refer to 7.6 Dead on\\nScene and Termination of Resuscitation-Procedure Protocol or\\n8.22 Medical Examiner Notification and Body Disposition\\nProtocol as appropriate.\\nC.  Section B  For patients who have a pulse and/or are breathing\\na.  Comfort-Focused Treatment box is selected:","source_file":"7.25-MI-POST-9.14.23-clean.txt"},"7-26":{"name":"INTERFACILITY HIGH FLOW NASAL OXYGEN (HNFO)","content":"Interfacility High Flow Nasal Oxygen (MCA Optional Protocol)\\nThis protocol is for paramedic use only\\nPurpose:  To outline the process for paramedics who have received MCA approved training,\\nto transport a patient on a high flow nasal cannula during an interfacility transport.\\n Medical Control Authorities choosing to adopt this supplement may do so\\nby selecting this check box. Adopting this supplement changes or clarifies the\\nreferenced protocol or procedure in some way. This supplement supersedes,\\nclarifies, or has authority over the referenced protocol.\\nIn conjunction the MCA must also select the option for Interfacility High Flow\\nNasal Oxygen on the 8.15 Interfacility Facility Patient Transfers Protocol.\\nI.\\nIndications\\nA.  Order from sending facility/physician\\nB.  Hypoxic respiratory failure, hypoxic respiratory distress, respiratory distress\\nC.  Availability of an MCA approved high flow nasal cannula device and necessary\\nsupplies required to facilitate transport of patient.\\nD.  Adults (> 14 years of age)\\nE.  Pediatrics (< 14 years of age) per MCA selection for allowance and/or staff\\nrequirements.\\nMCA approval for pediatric HFNO (< 14 years of age) WITHOUT\\n accompanying hospital staff\\n   NO  Staff must accompany patient\\n   YES - Enhanced Paramedic or Critical Care Paramedic only\\n   YES  Paramedic who has received additional MCA approved training.\\nMCAs will be responsible for maintaining a roster of the agencies choosing to participate\\nand will submit roster to MDHHS\\nII.\\nContraindications\\nA.  Inability to provide continuous, humidification using an approved delivery device\\nB.  Inability to provide therapy through appropriately sized nasal prongs\\nC.  Insufficient supply of oxygen to complete the transport\\nIII.\\nProcedure\\nA.  Ensure that an adequate supply of oxygen is available for the transport.","source_file":"7.26-Interfacility-HFNO-9.14.23-clean.txt"},"7-27":{"name":"TRANSPORT OF ADULT VENTILATOR-DEPENDENT PATIENT","content":"Transport of Adult Ventilator-Dependent Patient\\nThe purpose of this protocol is to establish a uniform procedure for using mechanical\\nventilation for the transport of patients who are otherwise stable and do not meet criteria for\\nMICU or Air Medical transport.\\nCriteria\\nA.  BLS may transport patients on their own ventilator if:\\na.  Patient caregiver trained on the ventilator accompanies patient\\nb.  Waveform capnography if available per MCA selection in 7.24 End-Tidal\\nCarbon Dioxide Monitoring-Procedure Protocol\\ni.  If waveform capnography not available, capnometry that includes a\\nnumerical (quantitative) read out is required.\\nc.  One of the following conditions:\\ni.  Scheduled transport (interfacility, facility to home, home to appointment,\\netc.) OR\\nii.  Low acuity 9-1-1 that requires BLS level care.\\nB.  ALS (non-Critical Care, non-Enhanced Paramedic) in which all agency paramedic\\npersonnel are trained on and carry ventilators.\\nProcedure\\nA.  Always keep a bag valve mask resuscitator close by in case of ventilator failure.\\nB.  Patients who are ventilator dependent may be transported on their own ventilator\\n       (home ventilator) if desired. Assure the BVM is available for back up use if\\n       transporting with a home ventilator. Patient caregiver trained in the use of ventilator\\n       should attend during transport if possible.\\n1.  Verify tube placement with waveform capnography.\\n2.  Patient lung sounds should be checked and documented. Tube placement must\\nbe rechecked via lung sounds and continuous waveform capnography every\\ntime the patient is moved, i.e., stretcher to stretcher or in or out of a vehicle.\\nContinuous monitoring with the pulse oximeter will be used on all patients.\\nC.  Patients on agency supplied ventilator:\\n1.  Newly vented - Ventilatory status should be established via Venous Blood Gas\\n(VBG) in the newly intubated patient and documented when available.\\nContinuous monitoring with the pulse oximeter and capnography will be used on\\nall patients. If pulse oximetry is not attainable due to poor circulation, an ABG\\nmay be used to ensure adequate oxygenation. If unavailable, consider MICU or\\nair medical transport.\\n2.  Ventilator and circuit must be set up according to manufacturers\\nrecommendations.\\n3.  Patient should be placed on the ventilator approximately 5 minutes prior to\\ndeparture to ensure the patient tolerates the ventilator. Appropriate adjustments\\nshould be made prior to departure.\\n4.  Assist Control (AC) and Synchronized Intermittent Mandatory Ventilations (SIMV)\\nare acceptable modes of operation. Set Positive End Expiratory Pressure (PEEP)","source_file":"7.27-Tnxp-Adult-Vent-Depenedent-Patients-9.14.23-clean.txt"},"7-28":{"name":"LEFT VENTRICULAR ASSIST DEVICE","content":"A Left Ventricular Assist Device (LVAD) is an implanted device that pumps blood from the\\nleft ventricle into the aorta to support circulation. For some of these patients this device is a\\nbridge to transplant but for others it is a life prolonging therapy if transplant is not an option.\\nCare of patients supported by these devices can present a challenge for care givers in the\\npre-hospital environment. This document provides guidance for the provision of emergency\\ncare for patients in the pre-hospital environment who have an LVAD in place.\\nIf the information is not readily available, contact medical control for assistance.\\n1.  LVADs create non-pulsatile flow; it may be difficult to obtain vital signs using\\nstandard equipment and or methods. Utilize skin color, mental status and capillary\\nrefill to assess the patient.\\n2.  The device supports left ventricular function and is dependent on some right heart\\nfunction and adequate circulating volume. Even minor volume depletion may cause\\ndiminished perfusion and require fluid administration.\\n3.  All LVAD patients are anticoagulated.\\n4.  LVADs are powered electrically, a driveline exits the body, connects to a controller\\nwhich in turn is connected to a power source. Proper functioning of the device is\\ndependent on the integrity of these connections. Exercise caution related to the\\ndrive line, which exits through the skin in the upper abdomen. Do not cut, pull or\\ndamage it in any way. It will be secured by some type of binder or other device to\\nprotect it.\\n5.  Connections should not be forced together or apart. All connections are secured by\\na locking device.\\n6.  Generally, patients, their families and caregivers are familiar with the operation of\\nthe device and should accompany the patient as a resource for operation of the\\ndevice if promptly available.\\n7.  All LVAD patients are assigned a hospital-based coordinator who is available by\\nphone and should be contacted urgently.\\n8.  All LVAD patients should have a go bag close by which contains an additional\\npower supply as well as an extra controller. This should be brought with the patient\\nto the hospital. This should contain charged batteries, a back-up controller and a\\npower-based unit.\\n9.  If possible, the patient should be transported with four fully charged batteries. Two\\nwill be connected to the patient and the other will serve as backups.\\n10. Most issues will be the result of medical problems rather than device failure.\\nProcedure\\nDo NOT use the following devices on an LVAD patient\\n  AED\\n  Mechanical Compression Device","source_file":"7.28-LVAD-1-11-24-Clean.txt"},"7-29":{"name":"MECHANICAL CHEST COMPRESSION DEVICE","content":"Mechanical Chest Compression Device (MCA Optional Protocol)\\nManual chest compressions remain the standard of care for the treatment of cardiac\\narrest by all levels of EMS providers.  Mechanical chest compression devices may only be\\nused as alternative to conventional CPR in specific settings where the delivery of high-\\nquality manual compressions may be challenging or dangerous for the provider (e.g., limited\\nrescuers available, CPR during hypothermic cardiac arrest, CPR in a moving ambulance).\\n Medical Control Authorities choosing to adopt this supplement may do so\\nby selecting this check box. Adopting this supplement changes or clarifies the\\nreferenced protocol or procedure in some way. This supplement supersedes,\\nclarifies, or has authority over the referenced protocol.\\nMCAs will be responsible for maintaining a roster of the agencies choosing to\\nparticipate and will submit roster (including brand name/model number of device)\\nto MDHHS.\\nRequirements:\\n1.  FDA approved MCA authorized mechanical chest compression devices as listed\\nbelow (brand name and model if applicable)\\n  All mechanic chest compression devices approved by the FDA for EMS use.\\n2.  Providers utilizing the device are trained on use of the device per MCA requirements\\n3.  Follow manufacturers instructions for use unless otherwise directed by the MCA.\\nIndications:\\n1.  Cardiac Arrest\\nContraindications:\\n1.  Return of Spontaneous Circulation\\n2.  Age and weight restrictions per manufacturers recommendations.\\n3.  Patients with LVAD\\nProcedure:\\n1.  Perform high-quality CPR while the device is being prepared for use.\\n2.  Utilize device according to manufacturer\'s recommendations.\\n3.  Refer to  5.1 Adult or 6.1 Pediatric General Cardiac Arrest -Treatment Protocol\\n4.  Document use of Mechanical Chest Compression Device in patient care record\\nincluding but not limited to:\\nA.  Type/brand of device\\nB.  Applicable times Mechanical Chest Compression Device was in use.\\nC.  Rate at which the device is set/delivering mechanical chest compressions.","source_file":"7.29-Mechanical-CPR-Device-9.14.23-Clean-edited.txt"},"7-3":{"name":"CRIME SCENE MANAGEMENT","content":"1.  Follow 1.1 General Pre-hospital Care Protocol-Treatment Protocol\\n2.  Preserve evidence whenever possible.\\nA.  Wear gloves for all patient care and other activities within the crime scene.\\nB.  Never cut through holes in clothing created by bullets or knives.\\nC.  Retain all clothing, place in a paper bag. Be alert for torn clothing, fragments of\\ncloth, blood, or body fluids, etc. for they need to be preserved as evidence.\\nD.  Law enforcement is responsible for the disposition of this evidence.\\nE.  When transporting a patient who may be dying, ascertain name and/or\\ndescription of assailant if possible.\\nF.  At an outdoor crime scene do not disturb shoe prints, tire marks, shell casings,\\netc.\\nG.  Limit movement at the crime scene.\\nH.  Attempt to keep others out of the area.\\n3.  Advise patient to not shower, change clothes, or dispose of pertinent objects.  If\\napplicable, refer to 2.15 Sexual Assault-Treatment Protocol.\\n4.  Assess patient for injury and treat according to protocol.\\n5.  Use sensitivity in asking victim about history/events.\\n6.  Thoroughly document all injuries and voluntary statements of patient.  Red marks may\\ndisappear and your documentation may be the only witness that the victim was choked\\nor struck, even though he/she stated it.\\n7.  Document patients emotional state.\\n8.  Assure law enforcement agency has been notified.\\nA.  Notify the investigating law enforcement of any alteration of the crime scene by\\nEMS personnel including:\\na.  Any movement of furniture, tables, etc.\\nb.  The original position of the patient and items.\\nc.  If you turned on lights.\\nd.  What you touched, moved, etc.\\n9.  Transport, treating according to appropriate protocol.\\nA.  If transport is refused, refer patient to support agency and/or hospital whenever\\npossible and contact medical control if applicable.\\nNOTES:\\n1.  Your first duty is to provide emergency medical care at the scene of an illness/injury.\\n2.  Certain measures can be taken to assist law enforcement personnel in preserving a\\ncrime without jeopardy to the patient.\\n3.  The investigation of the circumstances surrounding the incident is the responsibility of\\nthe law enforcement agency.\\n4.  Do not touch firearms (loaded or unloaded) unless it poses a potential or immediate\\nthreat.  Secure any weapon that can be used against you or the crew out of the reach of\\nthe patient and bystanders.","source_file":"7.3-CRIME-SCENE-MANAGEMENT-9.14.23-clean.txt"},"7-4":{"name":"VULNERABLE ADULT","content":"Vulnerable Adult Abuse, Neglect, or Exploitation (Suspected)\\nAliases: elder abuse, mandatory reporting\\nPurpose: To provide the process for assessment and management of vulnerable adult\\npatients with suspicion of elder abuse.\\nI.\\nDefinitions\\na.  Vulnerable adult  means an individual age 18 and older who is unable to\\nprotect himself or herself from abuse, neglect or exploitation because of a\\nmental or physical impairment or because of advanced age.\\nb.  Abuse - means harm or threatened harm to an adult\'s health or welfare caused\\nby another person. Abuse includes, but is not limited to, non-accidental\\nphysical or mental injury, sexual abuse, or maltreatment.\\nc.  Exploitation - means an action that involves the misuse of an adult\'s funds,\\nproperty, or personal dignity by another person.\\nd.  Neglect - means harm to an adult\'s health or welfare caused by the inability of\\nthe adult to respond to a harmful situation or by the conduct of a person who\\nassumes responsibility for a significant aspect of the adult\'s health or welfare.\\nNeglect includes the failure to provide adequate food, clothing, shelter, or\\nmedical care.\\nNote: A person shall not be considered to be abused, neglected, or in need of\\nemergency or protective services for the sole reason that the person is\\nreceiving or relying upon treatment by spiritual means through prayer alone in\\naccordance with the tenets and practices of a recognized church or religious\\ndenomination, and this act shall not require any medical care or treatment in\\ncontravention of the stated or implied objection of that person.\\nII.\\nProcedure\\na.  Do not confront the suspected abuser with suspicions as this could create an\\nunsafe situation for the patient and EMS personnel.\\nb.  Do not question the patient about suspected abuse/maltreatment in front of the\\nsuspected abuser. The primary goal, after treating life threatening injuries, is to\\nprotect the patient and personnel from harm.\\nc.  Request police assistance if there is any history of threatening, abusive, or\\nviolent acts. Protect yourself while obtaining a safe environment for the\\npatient.\\nd.  Focus the interview on the patients injury. Do not address the specifics of\\nabuse, maltreatment, or neglect at this point.\\ne.  Determine and chart past medical history, and any cognitive or physical\\nimpairment.\\nf.  During assessment, pay attention to signs and symptoms of abuse, neglect, or\\nexploitation.\\ni.  Physical","source_file":"7.4-Vulnerable-Adult-1.5.23.txt"},"7-5":{"name":"ADMINISTRATION","content":"Continuous Positive Airway Pressure (CPAP) Administration\\nFor use of this protocol, patients must meet one or more of the indications. Contraindicated\\npatients and those that do not meet the inclusion criteria will be treated according to existing\\nprotocols without the application of CPAP.\\nIndications:\\nSevere respiratory distress not responding to initial treatment with any of the following:\\n1. CHF/Pulmonary edema/near drowning\\n2. Hypoxia, i.e., SpO2 less than 92% on supplemental oxygen.\\n3. Acute exacerbation of asthma/COPD.\\nContraindications:\\n1. Respiratory/cardiac arrest.\\n2. Blood Pressure\\na. Adult (>10 years of age)  less than 90mmHg systolic\\ni. NOTE:  70 + (2x10 years of age) = 90 mmHg\\nb. Pediatrics (<10 years of age) less than (70 mmHg + [2x age in years]).\\ni. Small adult CPAP mask does not properly fit the patient and/or pediatric\\nsize CPAP mask is not available.\\nInability to maintain patent airway.\\n3.\\n4. Major trauma, pneumothorax, penetrating or blunt chest trauma and blast injury.\\n5. Vomiting or active GI bleeding with emesis.\\n6. Unstable facial fractures.\\nProcedure\\n1. EXPLAIN THE PROCEDURE TO THE PATIENT.\\n2. Apply appropriately sized and properly sealing CPAP  mask per manufacturers\\nrecommendations.\\n3. Place the patient on continuous pulse oximetry.\\n4. Secure the mask with provided straps and tighten to obtain a good seal, check for air\\nleaks.\\n5. Continue to coach the patient to keep the mask in place, readjust as needed.\\n6. Begin with 5 cmH20 with titration as necessary and as tolerated.\\n7. Advise medical control of CPAP use during radio report.\\n8.\\nIf respiratory status deteriorates, remove the device and assist ventilations with a\\nBVM/supplemental oxygen; place an appropriate airway control device.\\n9. Obtain/monitor vital signs.\\n10. Administer medications, per appropriate protocol, as indicated.\\na. The CPAP mask can be briefly removed for oral or SL medication (e.g.,\\nnitroglycerin) administration.\\n11. Contact medical control and consider sedation to reduce anxiety per 7.17 Patient\\nProcedural Sedation- Procedure Protocol.","source_file":"7.5.CPAP-1.11.24-Clean.txt"},"7-6":{"name":"TERMINATION OF RESUSCITATION","content":"Dead on Scene & Termination of Resuscitation\\nPurpose:  For patients in cardiac arrest, when and when not to initiate CPR, and when to\\nterminate efforts.\\nA.  Dead on Scene Criteria - CPR should NOT be initiated in the following cardiac arrest\\npatients:\\n1.  Decomposition\\n2.  Rigor mortis (Caution: do not confuse with stiffness due to cold environment)\\n3.  Dependent lividity\\n4.  Decapitation\\n5.  Traumatic cardiac arrest while entrapped (witnessed or unwitnessed)\\n6.  Incinerated or frozen body\\n7.  Submersion greater than 90 minutes in cold water (water temperature less\\nthan 70\xb0 F/21\xb0 C) as documented by the licensed health care professional\\nafter arrival on scene.\\n8.  Submersion greater than 30 minutes in warm water (water temperature greater\\nthan 70\xb0 F/21\xb0 C) as documented by the licensed health care professional\\nafter arrival on scene.\\n9.  Gross dismemberment or obvious mortal wounds/conditions (injuries\\ninconsistent with life  i.e., crushing injuries of the head and/or chest)\\n10. Unwitnessed arrest of traumatic origin, without organized electrical activity\\n(must be asystole or pulseless rhythm with rate less than 40/min).\\ni. Exception to this is electrocution (including lightning strike) or acute\\n   hypothermia.\\n11. Patient has a valid Do Not Resuscitate identification bracelet or order refer to\\n7.7 DNR-Procedure Protocol\\n12. Patient has MI-POST with Do Not Resuscitate selected in section A refer to\\n7.25 MI POST-Procedure Protocol\\n13. In cases of mass casualty incidents, where the number of patients exceeds the\\nproviders and resources to care for them, any patient who is pulseless and\\napneic may be triaged as deceased.\\nB.  Exceptions to Dead on Scene Criteria in which CPR should be initiated:\\n1.  In EMS professional judgement potential viability despite meeting Dead on\\nScene criteria.\\n2.  Pregnant patient arrest witnessed by either bystanders or EMS personnel\\ni.  Resuscitation and immediate transport to the closest receiving facility\\nii.  Contact Medical Control as early as possible\\nC.\\nFor all other patients:\\n1.  Follow the 5.1 Adult or 6.1 Pediatric Cardiac Arrest-Treatment Protocol.","source_file":"7.6-Dead-on-Scene.Termination-of-Resuscitation-8.27.24.txt"},"7-7":{"name":"DO-NOT-RESUSCITATE","content":"Purpose:    The purpose of this policy is to provide a guideline to prehospital providers, who\\nunder certain circumstances may accommodate patients who do not wish to receive and/or\\nmay not benefit from cardiopulmonary resuscitation.  This policy is drafted in accordance\\nwith Public Act 368 of 1978, as amended, as well as Act 192 and 193 of the Public Acts of\\n1996. This policy is intended to facilitate kind, humane, and compassionate service for\\npatients who have executed a valid Do-not-resuscitate order under the aforementioned\\nActs.\\n1.  Definitions\\nA.  Attending Physician  means the physician who has primary responsibility for\\nthe treatment and care of a declarant.\\nB.  Declarant  means a person who has executed a do-not-resuscitate order, or\\non whose behalf a do-not-resuscitate order has been executed pursuant to\\napplicable laws.\\nC.  Do-not-resuscitate order  means a document executive pursuant to Act 193,\\ndirecting that in the event a patient suffers cessation of both spontaneous\\nrespiration and circulation in a setting outside of a hospital, nursing home, or\\nmental health facility owned or operated by the Department of Community\\nHealth, no resuscitation will be initiated.\\nD.  Do-not-resuscitate Identification Bracelet or Identification Bracelet  means a\\nwrist bracelet that meets the requirements of Act 193 and worn by a declarant\\nwhile a do-not-resuscitate order is in effect.\\nE.  Order  means a do-not-resuscitate order.\\nF.  Patient Advocate  means an individual designated to make medical treatment\\ndecisions for a patient under Section 496 of the revised probate code, Act No.\\n642 of the Public Acts of 1978, being section 700.496 of the Michigan\\nCompiled Laws.\\nG.  Vital Sign  means a pulse or evidence of respiration.\\nH.  MI-POST Michigan Physician Order for Scope of Treatment see 7.25 MI\\nPOST-Procedure Protocol\\n2.  Procedure\\nA do-not-resuscitate order is applicable to all prehospital life support agencies and\\npersonnel.  A do-not-resuscitate order may be executed by an individual 18 years of\\nage or older and of sound mind OR by an individual 18 years of age or older and of\\nsound mind, and adherent of a church or religious denomination whose members\\ndepend upon spiritual means through prayer alone for healing OR by a patient\\nadvocate of an individual 18 years of age or older.\\nA.  CRITERIA: EMS providers shall not attempt resuscitation of any individual\\nwho meets ALL of the following criteria:\\na.  18 years of age or older","source_file":"7.7-DO-NOT-RESUSCITATE-9.14.23-clean.txt"},"7-8":{"name":"ELECTRICAL THERAPY","content":"Initial Date: 9/14/2023\\nRevised Dat:\\nElectrical Therapy\\nAliases:\\nAED, Cardioversion, defibrillation, pacing\\nI. Precautions for all Electrical Therapy\\n1.  Dry the chest-wall if wet or diaphoretic\\n2.  Nitroglycerin paste should be removed; paddles should not be placed over nitroglycerin\\npatches.\\n3.  Avoid placing the paddles over a pacemaker or an implantable cardioverter defibrillator\\n(ICD).\\n4.  Ensure no provider or bystander contact with the patient or the pads during\\ndefibrillation.\\nII. Automatic External Defibrillation (AED)\\n1.  Do NOT apply AED to patient with LVAD, go 7.28 LVAD-Procedure Protocol.\\n2.  The AED shall be applied only to patients found in cardiopulmonary arrest.\\n3.  Interruptions to CPR should be kept to a minimum.\\n4.  The AED should not be used on patients found lying on conductive surfaces or\\npatients in moving vehicles.\\n5.  For all patients, anterior/posterior placement of pads is preferred and should be used,\\nif possible.\\n6.  There are no age or weight limits for AED use.\\n7.  In pediatric patients, attenuated pads should be used, if available. If adult pads are\\nused in pediatric patients, pads must be placed in an anterior/posterior configuration.\\n8.  The word shock instead of defibrillation shall be used in this section as devices\\nutilize this verbiage.\\n9.  Follow the 5.1 Adult or 6.1 Pediatric Cardiac Arrest-Treatment Protocol.\\n10. Stop CPR to analyze patient and shock once, if indicated.\\n11. Continue CPR immediately after the shock, or immediately if no shock is indicated\\nand continue for 2 minutes (5 cycles) or when AED initiates analysis.\\n12. If no pulse, analyze the patient and repeat one shock, if indicated.\\n13. If patient converts to a non-shockable rhythm at any time, continue CPR until AED\\nprompts to check the patient.\\n14. Should a patient who is successfully defibrillated arrest again, analyze the patient\\nagain.\\nIII. Manual Defibrillation\\n1.  Indications:\\nA.  Ventricular fibrillation\\nB.  Pulseless ventricular tachycardia\\nC.  Unstable irregular wide complex tachycardia\\n2.  Technique:\\nA.  Turn defibrillator on.\\nB.  Apply defibrillator pads according to manufacturer specifications.  For all patients,\\nanterior/posterior placement of pads is preferred and should be used, if possible.","source_file":"7.8-ELECTRICAL-THERAPY-9.14.23-clean-edited.txt"},"7-9":{"name":"AIRWAY MANGEMENT","content":"Initial Date: 9/14/2023\\nRevised Date: 12/19/2024\\nAirway Management\\nMCAS are responsible for training on all airway devices, techniques, securing methods and\\ndocumentation.  All pediatric advanced airway interventions will have a 100% review by the\\nMCA.  All cricothyroidotomy procedures will have a 100% review by the MCA.\\nMFR\\nEMT\\nEMT-A\\n(Specialist)\\nPARAMEDIC\\nX\\nX\\nX\\nX\\nMCA\\nSelection\\nRequired\\nX\\nX\\nX\\nX\\nX\\nX\\nX\\nX\\nX\\nBasic Airway\\nOropharyngeal Airway\\nNasopharyngeal Airway\\nBag-Valve-Mask Ventilation\\nOral Suctioning\\nCPAP\\nAdvance Airway-Supraglottic\\ni-Gel\\n(Adult sizes)\\ni-Gel\\n(Pediatric sizes)\\nAir-Qsp3 or AirQsp3G\\n(Adult sizes only patients > 35 kg)\\nLMA Supreme\\n(Adult Only)\\nKing\\n(Adult Only)\\nAdvance Airways\\nParamedic Only\\n Oral Endotracheal Intubation\\nNeedle / Surgical\\nCricothyroidotomy\\nTracheal Suctioning\\nMonitoring\\nWaveform capnography\\nNumeric capnometry\\nColorimetric capnometry\\nX\\nManagement Overview\\nMCA\\nSelection\\nRequired\\nX\\nX\\nX\\nX\\nX\\nX\\nX\\nX\\nX\\nX\\nX\\nX\\nX\\nX\\nX\\nX\\nX\\nX\\nX\\nX\\nX\\nX\\nX\\nX\\nX\\nMCA Selection\\nRequired\\nX\\nX\\nX\\nX\\n1.  Maintain a patent airway.\\n2.  Provide effective oxygenation and adequate ventilation using the least invasive\\n     possible method to achieve those goals paired with pulse oximetry and end-tidal\\n     capnography (EtCO2) data.\\n3.  Anticipate, recognize, and alleviate respiratory distress.\\n4.  Provide necessary interventions quickly and safely to patients with the need for\\n     respiratory support.\\n5.  Anticipate, identify, and plan for a potentially difficult airway.\\n6.  Optimize the patient for any advanced airway attempt.","source_file":"7.9-AIRWAY-MANAGEMENT-12.19.24-Clean-April-10-Implementation.txt"},"7.9.1":{"name":"Unknown Protocol","content":"Video laryngoscopy may be used as an adjunct in orotracheal intubation. The device used for\\nvideo laryngoscopy must be approved by the MCA. The device shall be used according to\\nmanufacturer instructions. All requirements for endotracheal tube placement and verification\\nshall otherwise be followed per the Airway Management protocol.","source_file":"7.9.1-Video-Laryngoscopy-clean-8.27.24.txt"},"9-1":{"name":"MEDICATION ADMINISTRATION","content":"EMS providers preparing to administer medications in the out of hospital setting should\\nreview and/or recite the \\"6 Rights\\" prior to administering any medication to a patient.\\nWhile all 6 elements are important, In the out of hospital setting, special attention should\\nbe paid to the right medication, right dose, and right route - as these are frequently the\\nareas of error in the EMS environment. In addition, EMS providers should ensure the\\npatient is informed as to what medications they are receiving and afford an opportunity\\nfor the patient to refuse. Lastly, documentation is essential so that medications\\nadministered in the out of hospital setting become part of the patient\'s clinical medical\\nrecord. By following the \\"6 Rights\\" of medication administration, EMS providers will\\nsignificantly decrease the potential and number of errors associated with medication\\nadministration.\\nDefinitions:\\nI.\\nII.\\nMedication: Any pharmacological intervention used to treat, prevent, or reduce\\nsigns and symptoms of diseases, disorders, and/or traumatic injuries.\\nMedication administration routes include the following: Intramuscular, Intravenous,\\nIntraosseous, Oral, Buccal, Rectal, Inhaled, and Subcutaneous.\\nProcedure:\\nI.\\nII.\\nPrior to the administration of any medication ensure the following are reviewed\\nand/or verbalized by at least two providers  if available (checked, and double\\nchecked):\\nA. 6 Rights of Medication Administration \\nRight Patient\\nRight Dose\\nRight Medication (including indication)\\nRight Route\\nRight Time\\nRight Documentation (including response)\\nCalculating medications when given a dosage range and a per kg dose:\\nA. Calculate weight in kilos and multiply by the prescribed dosage (e.g. - mg/kg)\\nB. The resultant dose should be less than the maximum single dose.\\n1.\\n2.\\n3.\\n4.\\n5.\\n6.\\n1.\\nIn adults, for ease of administration, doses may be rounded to the\\nnearest whole number within the range for those calculated doses at\\nor above 1 dosage unit, or to the nearest tenth for those below 1\\ndosage unit (examples: 1.2 mg rounded to 1 mg, and 0.26mg rounded\\nto 0.3mg). That calculated and rounded dose may be given and\\nrepeated in timed intervals, as indicated for that medication, to the\\ncontrol of symptoms or maximum stated cumulative dose if symptom\\ncontrol is not previously achieved.\\n2. For pediatric patients, utilize MI-MEDIC and a length-based tape for\\nall medication calculations.","source_file":"9.1-Medication-Administration-2.13.23.txt"},"9.100":{"name":"Unknown Protocol","content":"Medication Under Direct Medical Control\\nThe following medications are designated for use ONLY under direct medical control.\\nCefazolin\\nCeftriaxone\\nTo use the medication the paramedic must:\\n1.  Request direct medical control to use the medication.\\na.  If there is communications failure the medication cannot be used.\\n2.  Describe to the medical control physician the rationale for use of the medication.\\n3.  Advise the physician that there is no treatment protocol in the OCMCA that allows the\\nuse of this medication.\\n4.  Advise the physician that they have been trained on the use of the medication.\\n5.  Report the usage of the medication to their agency administration within 1 hour of its\\nuse.\\n6.  The agency must notify the OCMCA within 72 hours of the medications use.\\n7.  The agency must provide the incident ePCR along with proof that the paramedic has\\nbeen trained to use this medication.\\na.  Any use of the medication by untrained paramedic may lead to disciplinary\\naction.\\n8.  The OCMCA PSRO shall review all administration of medications in this protocol.\\n________________________________________________________________________________________________________________","source_file":"9.100-Medication-Administration-Under-Direct-Medical-Control-9.14.23-CLean.txt"},"9.101":{"name":"Unknown Protocol","content":"Licensed BLS Units must carry; and OCMCA approved MFR Units may carry; either Epi Auto\\ninjectors or MaBEEs kits.\\nAccountability\\nA.  All medications will be stored in a securely locked compartment in a temperature-\\ncontrolled area of the EMS vehicle.\\nB.  All medications must be restocked at the pharmacy or through other Medical Control\\napproved process in conformity with current pharmacy laws and the public health\\ncode. Utilization forms must be completed for each use.\\nEpi-Auto Injectors Exchange Procedure\\nLife support agencies with BLS units, and approved MFR units will acquire and replace Epi-\\nAuto Injectors and Epi-Auto Injector Jrs as follows:\\n1.  Each life support agency will be responsible for obtaining Epi-Auto Injectors and Epi-\\nAuto Injector Jrs from an assigned hospital in the Oakland County Medical Control\\nAuthority (MCA).\\n2.  Each participating hospital of the OCMCA will acquire Epi-Auto Injectors and Epi-Auto\\nInjector Jrs for life support agencies. The hospital will determine a reasonable and\\ncustomary re-stocking fee to charge the LSA.\\n3.  The purchasing hospital will dispose of expired Epi-Auto Injectors at no additional cost.\\n4.  The Epi-Auto Injectors/Epi-Auto Injector Jrs and Use Form will be placed in a re-\\nsealable plastic bag.  A pharmacy label will be affixed to the bag with the expiration\\ndate.\\n5.  Epi-Auto Injectors and Epi-Auto Injector Jrs are to be inspected daily by the crew of the\\nunit for evidence of loss, theft, discrepancy, and expiration date.  It is recommended that\\nthis inspection be included in a standard documented vehicle checklist.\\n6.  Hospital pharmacy should be notified 30 days prior to expiration date of medication.\\nMaBEEs Kit Contents and Exchange Procedure\\nThis only applies to LSAs that have been approved to carry OCMCA MaBEEs Kits on BLS\\nand/or MFR licensed vehicles.\\n1.  The OCMCA Medical Control Hospital pharmacy will stock the OCMCA MaBEEs Kits in\\naccordance with the MaBEEs Kit Contents List.\\n________________________________________________________________________________________________________________","source_file":"9.101-New-MFR-EMT-Medication-Exchange-9.14.23-Clean.txt"},"9.102":{"name":"MFR/BLS","content":"3.  Press the plunger firmly to give the dose of Narcan\xae Nasal Spray. Remove\\nthe Narcan\xae Nasal Spray from the nostril after giving the dose.\\n4.  Repeat Step 12 as described above, if indicated.\\n______________________________________________________________________________________\\nMCA:  Oakland County\\nMCA Board Approval Date: October 6, 2023\\nMDHHS Approval Date: February 1, 2024\\nMCA Implementation Date: 1/10/2024","source_file":"9.102-MFR-BLS-Opioid-Overdose-Naloxone-Administration-Oakland-County-9.14.23-clean.txt"},"9-2":{"name":"MEDICATION SUBSTITUTION","content":"This protocol allows for MCA to substitute medications during a time of shortage without\\nhaving to enact emergency protocols within the MCA. This protocol does not replace or\\noverride any portion of the Medication Shortage Procedure. All procedures within that\\nprocedure must still be followed in regards to substitutions in concentration or\\nmedication.\\nIndications:\\nNone of the medication options indicated in the MCA approved protocol are available.\\nProcedure:\\n1.  Follow Medication Shortage Procedure.\\n2.  Alternate concentrations are listed within this protocol for reference; these do not\\nrequire a protocol change and are outlined in the Medication Shortage Procedure.\\n3.  Notification and education of providers within the MCA should be done as soon as\\nthe substitution is known.\\na.  It is the responsibility of the MCA to distribute information on the shortages\\nand substitutions to agencies for distribution to providers.\\nb.  If a substitution is imminent, it is acceptable for an MCA to distribute\\ninformation prior to the medication being substituted.\\n4.  The MCA should notify the Division of EMS and Trauma if a substitution is suspected\\nto last more than 60 days so that a more permanent protocol solution can be\\nenacted.\\n5.  All uses of substitute medications will be reviewed by PSRO for appropriateness.\\nCurrent Medication\\nAmiodarone\\nCalcium Chloride\\nDiazepam\\nDiphenhydramine\\nFentanyl\\nLidocaine\\nMidazolam\\nMorphine\\nOndansetron\\nSubstitution\\nLidocaine\\nCalcium Gluconate\\nMidazolam\\nFamotidine\\nRanitidine\\nHydroxyzine\\nHydromorphone\\nAmiodarone\\nDiazepam\\nHydromorphone\\nMetoclopramide\\nCompazine","source_file":"9.2-MEDICATION-SUBSTITUTION-2024-Clean-Final.txt"},"9-3":{"name":"MEDICATION SHORTAGE","content":"Initial Date: 10/25/2017\\nRevised Date: 02/13/2023\\nMedication Shortage\\nA. Definitions:\\n1. Alternate Concentration  same medication, different concentration, while\\nvolume may change, the delivered dose remains unchanged, dilution may be\\nrequired (Epinephrine 1: 10,000 replaced using Epi 1: 1,000 with a 10mL diluent)\\n2. Alternate Supplied Volume  same medication, same concentration, standard\\nvolume is unavailable, the delivered dose and volume remain the same (Epi 1:\\n1,000, typically supplied in a 1mL vial replaced with Epi 1: 1,000 in a 10mL multi-\\ndose vial due to shortage of the smaller vials)\\n3. Alternate Supply/Type  same medication, standard supply type is unavailable\\n(preloads vs. vials), dosing remains unchanged (diphenhydramine 50mg/5mL\\npreload is unavailable, replaced with diphenhydramine 50mg/5mL in a vial)\\n4. Alternate Form  same medication, different route such that identical dosing\\ndoes not yield the same systemic concentration or effect (ondansetron 4mg vial\\nunavailable, replaced with ondansetron 4mg ODT, option to repeat x 1 added to\\nallow approximation of equivalent dosing)\\n5. Alternate Medications  medication other than the standard approved\\nmedication which accomplishes an acceptably similar effect as the medication it\\nreplaces (fentanyl 100mcg approved to replace morphine 10mg, dosing adjusted\\nto obtain therapeutic equivalency)\\n6. Missing Medication  standard medication which is unavailable (amyl nitrite not\\navailable, acceptable alternative of Cyanokit is excessive in cost and size:\\nalternate means to access treatment established  MEDDRUN)\\n7. Outsourced medications  Repackaged by a 340B or 503 B medications in\\nthe same concentration and volume that have at least a 90 day expiration\\ndate.\\nB. Criteria:\\n1.\\nParticipating pharmacies be it at the individual MCA or at a wider regional level,\\nshall establish and maintain a listing of the standard medications and supplies\\ncontained in drug bags or boxes supplied to life support agencies for the purposes\\nof treating patients.\\nEach participating pharmacy shall maintain a dated listing of alternative\\nmedications which are approved as substitutes or replacements for medications\\nwhich are in shortage.\\n2.\\n3. Due to the frequency of medication shortages and the need for alternative dosing\\nor medication substitutions, each MCA shall develop and enact a medication\\ncross-check procedure, to which EMS personnel will be held accountable as a\\nmeans to avoid medication errors\\nBoth the standard list and the alternate list (may be combined into a single\\ndocument) shall be made readily available to system participants\\nThe participating pharmacy shall enact policies/procedures which guide each of\\nthe following:\\nA. Recognition of medication shortages and a means to report them\\n5.\\n4.","source_file":"9.3-Medication-Shortage-2.13.23.txt"},"9.4":{"name":"PERSONAL METERED DOSE INHALER USE","content":"Personal Metered Dose Inhaler Use (MCA Optional Protocol)\\n Medical Control Authorities choosing to adopt this supplement may do so\\nby selecting this check box. Adopting this supplement changes or clarifies the\\nreferenced protocol or procedure in some way. This supplement supersedes,\\nclarifies, or has authority over the referenced protocol.\\nPurpose: Nebulized respiratory treatments are preferred over MDIs.  This protocol is to\\nallow for the use of the patients own prescribed Metered Dose Inhaler (MDI) containing only\\nalbuterol, in place of nebulized albuterol administration by EMS personnel.  This is to be\\nused only in patients with febrile respiratory symptoms\\nA. To substitute administration of albuterol 2.5 mg/3ml NS nebulized with use of the\\npatients own prescribed MDI the following criteria MUST be met.\\n1. A specific and applicable treatment protocol is being followed\\n2. EMS provider administering patient prescribed MDI is MCA authorized to administer\\nalbuterol 2.5 mg/3ml NS nebulized within the treatment protocol\\nB. Indications\\n1. Patients with febrile respiratory symptoms in need of bronchodilator treatment\\nC. Requirements\\n1. Patient has a prescribed rescue Metered Dosed Inhaler (MDI) containing albuterol\\nonly\\n2. MDI is prescribed to the patient (no one else)\\n3. Medication is not expired\\n3. MDI has a functioning spacer (preferred not required)\\nD. Procedure\\n1. Assist patient in receiving four (4) puffs of their own rescue Albuterol Metered Dose\\nInhaler (MDI), with spacer, in place of each nebulized treatment of albuterol 2.5\\nmg/3ml NS as indicated in applicable treatment protocol.\\n2. Use of a spacer is optimal. When no spacer is available, ensure that that patient\\nbreathes out completely before each puff in order to inhale as much medication as is\\npossible.\\n3. Do not use an MDI prescribed to another person.\\n4. All MDIs should be brought to the hospital with the patient, if transported.","source_file":"9.4-MDI-Fillable-2.14.23.txt"},"9-5":{"name":"IV ANCILLARY SUPPLY EXCHANGE","content":"IV Ancillary Supply Exchange\\nVehicle Stock\\nA.\\nEach approved ALS/LALS unit will be initially provided with IV supplies\\nlisted  on the Southeast Michigan Regional Protocol IV Ancillary Supply\\nExchange  Form (Attached). The IV supplies listed on the IV Ancillary\\nSupply Exchange Form will be made available in the Emergency\\nDepartment or Pharmacy for all  Southeast Michigan Regional Protocol\\nparticipating EMS Agencies.\\nB.\\nC.\\nD.\\nEach ALS/LALS Agency and Advanced Life Support Agency will be\\nresponsible for providing any additional equipment required by the\\nMichigan Department of Health and Human Services (MDHHS).\\nAll IV solutions, needles, syringes, and supplies will be stored in a\\nsecurely  locked, temperature-controlled location on each approved\\nALS/LALS unit at all  times except when in use.\\nIV supplies/fluids are to be inspected daily by the crew of the unit for\\nevidence of loss, theft, discrepancy, and expiration date.  It is\\nrecommended that this  inspection be included in a standard documented\\nvehicle checklist.\\nUse / Replacement / Exchange\\nA.\\nIV supplies will only be used by a Paramedic or Specialist when\\npresented with a  patient requiring Advanced Life Support or Limited\\nAdvanced Life Support care and/or IV therapy and then only when acting\\non written or transmitted orders  from a physician at an appropriate on-line\\nmedical control facility or pre-contact  provisions of approved treatment\\nprotocols.\\nB.\\nAll hospitals participating in the regional EMS medication exchange\\nsystem will  stock and exchange IV supplies, as listed on the Southeast\\nMichigan Regional Protocol IV Ancillary Supply Exchange Form used by\\napproved ALS/LALS  providers.  IV supplies will be available within the\\nhospital pharmacy or  emergency department of the participating hospital\\n(24 hrs/day, 7 days/wk).  Appropriate record keeping and security\\nmeasures are required at each exchange site to ensure that only\\nappropriately licensed and authorized personnel have  access to IV\\nsolutions, and other related supplies.","source_file":"9.5-IV-Ancillary-Supply-Exchange-Clean-Final-3.14.24.txt"},"9-6":{"name":"Unknown Protocol","content":"Southeast Michigan Medication Exchange and Replacement Procedure\\nVEHICLE STOCK\\nA.  Each approved ALS unit will carry one GREEN LOCK SEALED Southeast Michigan\\n(SEM) Regional Medication Box and A-Pack (Ancillary Pack).  Only appropriately\\nnumbered Medication Boxes and A-Packs issued by the participating Medical Control\\nAuthority are to be stocked by participating hospital pharmacies and issued to approved\\nALS units.\\nB.  Each EMS agency will be responsible for providing any additional equipment required\\nby Michigan Department of Health & Human Services  Bureau of EMS & Trauma\\n(MDHHS).\\nC.  All drugs, needles, syringes, and supplies will be stored in a securely locked and\\ntemperature-controlled location on each approved unit.  Medication Boxes/A-Packs will\\nremain sealed at all times except when in actual use.\\nD.  Medication Boxes/A-Packs are to be inspected daily by the crew of the unit for evidence\\nof loss, theft, discrepancy, and expiration date.  Inspection items include, but are not\\nlimited to: the Medication Box/A-Pack is locked in a compartment, the green lock is\\nintact, the lock # matches number on the label, and medications are not expired.  It is\\nrecommended that this inspection be included in a standard documented vehicle\\nchecklist.\\nE.  Agencies are responsible for maintaining Medication Boxes/A-Packs not in use by a\\ncrew in a locked and secured location, and have a system in place to restrict who\\naccesses that location.\\nF.  Unopened Medication Boxes/A-Packs are to be exchanged within seven (7) days of the,\\nUse or Replace By date.\\nUSE/REPLACEMENT/EXCHANGE\\nA.  Medication Boxes/A-Packs will only be opened by a Paramedic when presented with a\\npatient requiring Advanced Life Support care (when acting on written or transmitted\\norders from a physician at an appropriate On-Line Medical Control Facility) or the Pre-\\nMedical Control section of approved treatment protocols.\\nB.  Red/Green Lock Procedure for Medication Boxes/A-Packs\\n1.  The Medication Box/A-Pack will be sealed using a green lock bearing the number\\nindicated on the label.\\n2.  After the pharmacy inventory/restocking is complete, a red lock bearing the number\\nindicated on the label will be placed in the Medication Box/A-Pack to be used by the\\nParamedic to seal the Medication Box/A-Pack after it has been used.\\n3.  When the Medication Box/A-Pack is opened by the Paramedic the broken numbered\\ngreen lock will be placed in the Medication Box/A-Pack and delivered with the used\\nMedication Box/A-Pack to the replacing pharmacy.\\n4.  After use the Paramedic will seal the Medication Box/A-Pack for exchange\\nwith the red lock from the Medication Box/A-Pack bearing the number\\nindicated on the label.","source_file":"9.6-SEM-MedicationRegional-Exchange-Clean-3.22.24.txt"},"9.6.1":{"name":"DRUG/ITEM","content":"CONCENTRATION\\nPACKAGING\\nQUANTITY\\nAcetaminophen\\nAdenosine\\nAlbuterol\\nAmiodarone\\nAspirin\\nAtropine\\nCalcium Chloride\\nCeftriaxone\\nDextrose 50%\\nDiphenhydramine\\nEpinephrine\\nEpinephrine\\nFentanyl\\nIpratropium Bromide\\nKetamine\\nKetorolac\\nLidocaine\\nMagnesium Sulfate\\nMethylprednisolone\\nMidazolam\\nMorphine\\nNaloxone\\nNitroglycerin\\nOndansetron\\nOndansetron ODT\\nPrednisone\\nRacepinephrine  2.25% with 3 mL NS\\nSodium Bicarbonate\\nSodium Chloride\\nSodium Chloride\\nTranexamic Acid (TXA)\\nAlcohol Pad\\nIncident Report Form\\nIV Additive Labels\\nIV Tubing with Y Site Pre-pierced Reseal\\nNebulizer\\nBlunt Cannula\\nFilter Needle\\nIntranasal Mucosal Atomization Device\\nSyringe\\nSyringe\\nSyringe with needle/Luer Lock\\nSyringe with needle\\nOral Liquid Syringe\\nNeedle\\nPediatric Needle\\nRed Lock\\nReplacement Form\\nThree or Four-Way Stopcock","source_file":"9.6.1-SEM-Medication-Exchange-Addendums-6.17.24-Clean.txt"},"9-7":{"name":"EPINEPHRINE AUTO-INJECTOR PROCEDURE","content":"Purpose:  To outline the use and resupply of epinephrine auto-injector/pediatric epinephrine\\nauto-injector by authorized prehospital providers for life-threatening anaphylaxis and\\nrespiratory emergencies as outlined in applicable treatment protocols Providers must be\\nlicensed at or above the Emergency Medical Technician level unless otherwise specified by\\nMCA selection. .\\nMCA Approval of Epinephrine Auto-injector for Select MFR Agencies\\n YES\\n  NO\\nMCAs will be responsible for maintaining a roster of the agencies choosing to\\nparticipate and will submit roster to MDHHS\\n1.\\nIndications\\nA. Life-threatening allergic/anaphylactic and respiratory emergencies\\nB. Use is outlined in applicable treatment protocol\\n2. Contraindications\\nA. No absolute contraindications to life-threatening allergic/anaphylactic\\nemergencies as described in applicable treatment protocols.\\n3. Cautions\\nA. Use with caution in patients with heart disease, high blood pressure, and\\nstroke.\\nB. Contact Medical Control if child appears to weigh less than 10 kg\\n(approx. 20 lbs.) prior to administration if possible.\\n4. Technique\\nA. Epinephrine auto-injector is an auto-injector that injects medication into the\\nintramuscular tissue when the device is pushed against the skin.  Injection is to\\nbe done at the anterolateral portion of the thigh.\\nB. Dosing:\\ni. Epinephrine auto-injector (0.3 mg) is used for patients weighing over\\n30 kg (approx. 60 lbs.)\\nii. Pediatric epinephrine auto-injector (0.15 mg) is used for patients\\nweighing between 10-30 kg (approx.20-60 lbs.)\\niii. Contact Medical Control if child appears to weigh less than 10 kg (approx.\\n20 lbs.), prior to pediatric epinephrine auto-injector administration, if\\npossible\\nC. Instructions for use are pictured on the side of each auto-injector.\\nD. The auto-injector must be held in place for ten (10) seconds once the needle\\ninjects into the thigh.","source_file":"9.7-Epinephrine-Auto-Injector-Procedure-2.15.23.txt"},"9-8":{"name":"AND DISTRIBUTION PROCEDURE","content":"Naloxone Leave Behind Medication Kit Contents and Distribution\\nProcedure\\nI.\\nII.\\nIII.\\nMedications and supplies for naloxone kits will be supplied by participating\\npharmacies or the MCA.\\nAssembly, labeling, and access to kits will be done according to the 9.6 SE\\nMichigan Medication Exchange and Replacement Procedure.\\nOverdose Medication Kit Contents List:\\nConcentration\\n4mg / spray\\nPackaging\\nNasal Spray\\nMedication / Item\\nNaloxone (Narcan)\\nMDHHS Safety Advice\\nfor Patient and Family\\nMembers Card\\nResuscitation\\nFace shield*\\nReplacement Form\\nLocal Treatment\\nResources Form\\nQuantity\\n1\\n1\\n1*\\n*(MCA Optional)\\n1\\n1\\nIV.\\nProcedure\\nA.  Each participating EMS Agency will stock each of its licensed vehicles with 2\\nNaloxone Medication Kits.  After deployment, the naloxone medication kit will\\nbe replaced within 24 hours at the assigned stocking hospital pharmacy.\\nB.  Kits will be stored on the EMS vehicle in a secure way, not accessible to the\\npublic.\\nC.  Deployment of a Naloxone Medication Kit will be documented the patient care\\nrecord and uploaded to the Michigan EMS Information System.\\nD.  The replacement/use form will be completed and returned to the designated\\nhospital pharmacy for dispensing of a replacement Naloxone Kit.","source_file":"9.8-Naloxone-Leave-Behind-Med-Kit-9.14.23-clean-edited.txt"}}'),rY="yq9j1nFMijszhDfTqFxT4tzPiCKtzomj";rY||console.error("Mistral API key is missing!");try{i=n0({apiKey:rY}),console.log("Mistral client initialized successfully.")}catch(e){console.error("Failed to initialize Mistral client:",e)}async function rX(e){if(console.log("Received POST request to /api/chat (Mistral)"),!i)return console.error("Mistral client is not initialized."),rW.NextResponse.json({error:"AI service initialization failed"},{status:500});try{let t=await e.json();if(console.log("Received body:",JSON.stringify(t)),"object"!=typeof t||null===t||!("messages"in t)||!Array.isArray(t.messages))return console.error("Invalid request body structure or missing 'messages' array:",t),rW.NextResponse.json({error:"Invalid request body: 'messages' array not found or invalid"},{status:400});let n=t.messages;if(0===n.length)return console.error("Invalid request body received: messages array is empty"),rW.NextResponse.json({error:"Invalid request body: messages array is empty"},{status:400});let a=n[n.length-1]?.content;if(!a)return console.error("No user query found in messages"),rW.NextResponse.json({error:"No user query found"},{status:400});console.log("User query:",a);let r=function(e){let t=e.toLowerCase().split(/\s+/).filter(e=>e.length>2&&!["is","the","for","and","a","of","to","in"].includes(e));return 0===t.length?[]:Object.values(rK).map(e=>{let n=e.name.toLowerCase(),a=e.content.toLowerCase(),i=0;t.forEach(e=>{n.includes(e)&&(i+=2),a.includes(e)&&(i+=1)});let r=t.filter(e=>n.includes(e)).length,o=t.filter(e=>a.includes(e)).length;return r>1&&(i+=2*r),o>1&&(i+=o),{protocol:e,score:i}}).filter(e=>e.score>0).sort((e,t)=>t.score-e.score).slice(0,5).map(e=>e.protocol)}(a);console.log(`Found ${r.length} relevant protocols.`),r.forEach((e,t)=>console.log(`  ${t+1}. ${e.name} (Source: ${e.source_file})`));let o=r.map(e=>`Protocol ${e.name} (Source: ${e.source_file}):
${e.content}`).join("\n\n---\n\n"),s=`You are an AI assistant specialized in the Oakland County EMS protocols. Your knowledge base consists ONLY of the following protocols provided below. Your primary goal is to help the user find the most relevant protocol based on their query.

Understand the user's intent even if their wording doesn't exactly match the protocol titles or content. Consider synonyms, related medical concepts, and the overall context.

Based *strictly* on the provided protocols, answer the user's question or identify the most relevant protocol(s). If an exact match isn't found, identify and present the protocol(s) that are semantically closest or most likely related to the user's query. If no relevant protocols can be found even considering related concepts, state that clearly. Do not invent information or use external knowledge. Be concise and helpful.

Relevant Protocols:
${o||"No specific protocols found matching the query."}`;console.log("Sending request to Mistral via Vercel AI SDK...");let l=await function({model:e,tools:t,toolChoice:n,system:a,prompt:i,messages:r,maxRetries:o,abortSignal:s,headers:l,maxSteps:c=1,experimental_generateMessageId:d=ry,experimental_output:u,experimental_continueSteps:p=!1,experimental_telemetry:h,experimental_providerMetadata:m,providerOptions:f=m,experimental_toolCallStreaming:g=!1,toolCallStreaming:y=g,experimental_activeTools:b,experimental_repairToolCall:v,experimental_transform:w,onChunk:A,onError:I,onFinish:P,onStepFinish:C,_internal:{now:T=function(){var e,t;return null!=(t=null==(e=null==globalThis?void 0:globalThis.performance)?void 0:e.now())?t:Date.now()},generateId:S=rg,currentDate:E=()=>new Date}={},..._}){return new rb({model:e,telemetry:h,headers:l,settings:_,maxRetries:o,abortSignal:s,system:a,prompt:i,messages:r,tools:t,toolChoice:n,toolCallStreaming:y,transforms:void 0===w?[]:Array.isArray(w)?w:[w],activeTools:b,repairToolCall:v,maxSteps:c,output:u,continueSteps:p,providerOptions:f,onChunk:A,onError:I,onFinish:P,onStepFinish:C,now:T,currentDate:E,generateId:S,generateMessageId:d})}({model:i("mistral-small-latest"),system:s,messages:n.slice(-5),temperature:.5,maxTokens:1e3});return console.log("Received stream response from Mistral."),l.toDataStreamResponse()}catch(t){console.error("Detailed Error processing chat request with Mistral:",t);let e="Internal Server Error";return t instanceof Error&&(e=t.message,t.name),console.error("Error Details:",e),rW.NextResponse.json({error:e},{status:500})}}let rJ=new H.AppRouteRouteModule({definition:{kind:U.RouteKind.APP_ROUTE,page:"/api/chat/route",pathname:"/api/chat",filename:"route",bundlePath:"app/api/chat/route"},resolvedPagePath:"/home/ubuntu/ocmca_protocol_app/src/app/api/chat/route.ts",nextConfigOutput:"",userland:B}),{workAsyncStorage:rQ,workUnitAsyncStorage:r1,serverHooks:r0}=rJ;function r2(){return(0,z.patchFetch)({workAsyncStorage:rQ,workUnitAsyncStorage:r1})}},9149:()=>{},6941:()=>{},6648:e=>{"use strict";let t="undefined"!=typeof Buffer,n=/"(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])"\s*:/,a=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/;function i(e,i,o){null==o&&null!==i&&"object"==typeof i&&(o=i,i=void 0),t&&Buffer.isBuffer(e)&&(e=e.toString()),e&&65279===e.charCodeAt(0)&&(e=e.slice(1));let s=JSON.parse(e,i);if(null===s||"object"!=typeof s)return s;let l=o&&o.protoAction||"error",c=o&&o.constructorAction||"error";if("ignore"===l&&"ignore"===c)return s;if("ignore"!==l&&"ignore"!==c){if(!1===n.test(e)&&!1===a.test(e))return s}else if("ignore"!==l&&"ignore"===c){if(!1===n.test(e))return s}else if(!1===a.test(e))return s;return r(s,{protoAction:l,constructorAction:c,safe:o&&o.safe})}function r(e,{protoAction:t="error",constructorAction:n="error",safe:a}={}){let i=[e];for(;i.length;){let e=i;for(let r of(i=[],e)){if("ignore"!==t&&Object.prototype.hasOwnProperty.call(r,"__proto__")){if(!0===a)return null;if("error"===t)throw SyntaxError("Object contains forbidden prototype property");delete r.__proto__}if("ignore"!==n&&Object.prototype.hasOwnProperty.call(r,"constructor")&&Object.prototype.hasOwnProperty.call(r.constructor,"prototype")){if(!0===a)return null;if("error"===n)throw SyntaxError("Object contains forbidden prototype property");delete r.constructor}for(let e in r){let t=r[e];t&&"object"==typeof t&&i.push(t)}}}return e}function o(e,t,n){let a=Error.stackTraceLimit;Error.stackTraceLimit=0;try{return i(e,t,n)}finally{Error.stackTraceLimit=a}}e.exports=o,e.exports.default=o,e.exports.parse=o,e.exports.safeParse=function(e,t){let n=Error.stackTraceLimit;Error.stackTraceLimit=0;try{return i(e,t,{safe:!0})}catch(e){return null}finally{Error.stackTraceLimit=n}},e.exports.scan=r}};var t=require("../../../webpack-runtime.js");t.C(e);var n=e=>t(t.s=e),a=t.X(0,[0,32],()=>n(711));module.exports=a})();